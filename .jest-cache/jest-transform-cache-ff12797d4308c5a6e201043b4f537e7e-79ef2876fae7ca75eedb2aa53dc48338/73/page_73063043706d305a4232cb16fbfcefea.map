{"version":3,"names":["AddTransaction","cov_28pkm18pm9","f","router","s","_navigation","useRouter","accounts","setAccounts","_react","useState","isLoading","setIsLoading","error","setError","isSaving","setIsSaving","type","setType","date","setDate","Date","toISOString","split","description","setDescription","accountId","setAccountId","toAccountId","setToAccountId","amount","setAmount","reference","setReference","category","setCategory","useEffect","fetchAccounts","response","_api","authGet","ok","b","Error","data","json","err","console","message","toAccountOptions","filter","account","id","isActive","handleSubmit","e","preventDefault","alert","selectedAccount","find","acc","toString","selectedToAccount","undefined","transaction","accountName","name","parseFloat","toAccountName","authPost","push","_jsxruntime","jsx","_MainLayout","default","className","jsxs","_Button","Button","variant","onClick","window","location","reload","size","_lucidereact","ArrowLeft","onSubmit","value","onChange","target","required","placeholder","min","step","map","Number","balance","toLocaleString","disabled"],"sources":["/Users/sachin/Documents/md-sports-/src/app/accounting/add-transaction/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport MainLayout from '@/components/layout/MainLayout';\nimport { Button } from '@/components/ui/Button';\nimport { ArrowLeft } from 'lucide-react';\nimport { Transaction, Account } from '@/types';\nimport { authGet, authPost } from '@/utils/api';\n\nexport default function AddTransaction() {\n    const router = useRouter();\n    const [accounts, setAccounts] = useState<Account[]>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n    const [isSaving, setIsSaving] = useState(false);\n\n    // Form state\n    const [type, setType] = useState<Transaction['type']>('income');\n    const [date, setDate] = useState(new Date().toISOString().split('T')[0]);\n    const [description, setDescription] = useState('');\n    const [accountId, setAccountId] = useState('');\n    const [toAccountId, setToAccountId] = useState('');\n    const [amount, setAmount] = useState('');\n    const [reference, setReference] = useState('');\n    const [category, setCategory] = useState('');\n\n    // Fetch accounts\n    useEffect(() => {\n        const fetchAccounts = async () => {\n            setIsLoading(true);\n            try {\n                const response = await authGet('/api/accounting/accounts');\n                if (!response.ok) {\n                    throw new Error('Failed to fetch accounts');\n                }\n                const data = await response.json();\n                setAccounts(data.data);\n            } catch (err) {\n                console.error('Error fetching accounts:', err);\n                setError(err instanceof Error ? err.message : 'An error occurred');\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        fetchAccounts();\n    }, []);\n\n    // Filter accounts for the \"To Account\" dropdown (exclude the selected \"From Account\")\n    const toAccountOptions = accounts.filter(account => account.id !== accountId && account.isActive);\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        // Validate form\n        if (!date || !description || !accountId || !amount || !category) {\n            alert('Please fill in all required fields');\n            return;\n        }\n\n        // For transfers, validate toAccountId\n        if (type === 'transfer' && !toAccountId) {\n            alert('Please select a destination account for the transfer');\n            return;\n        }\n\n        setIsSaving(true);\n\n        try {\n            // Get account name for display\n            const selectedAccount = accounts.find(acc => acc.id.toString() === accountId.toString());\n            const selectedToAccount = toAccountId ? accounts.find(acc => acc.id.toString() === toAccountId.toString()) : undefined;\n\n            // Create transaction object\n            const transaction: Omit<Transaction, 'id' | 'createdAt'> = {\n                date,\n                description,\n                accountId,\n                accountName: selectedAccount?.name || '',\n                type,\n                amount: parseFloat(amount),\n                reference,\n                category,\n                ...(type === 'transfer' && toAccountId && selectedToAccount ? {\n                    toAccountId,\n                    toAccountName: selectedToAccount.name\n                } : {})\n            };\n\n            // Save transaction\n            const response = await authPost('/api/accounting/transactions', transaction);\n\n            if (!response.ok) {\n                throw new Error('Failed to create transaction');\n            }\n\n            // Redirect back to accounting page\n            router.push('/accounting');\n\n        } catch (err) {\n            console.error('Error creating transaction:', err);\n            alert('Failed to create transaction. Please try again.');\n        } finally {\n            setIsSaving(false);\n        }\n    };\n\n    // Loading state\n    if (isLoading) {\n        return (\n            <MainLayout>\n                <div className=\"flex justify-center items-center h-64\">\n                    <div className=\"text-lg text-gray-600\">Loading accounts...</div>\n                </div>\n            </MainLayout>\n        );\n    }\n\n    // Error state\n    if (error) {\n        return (\n            <MainLayout>\n                <div className=\"flex flex-col justify-center items-center h-64\">\n                    <div className=\"text-lg text-red-600 mb-4\">Error: {error}</div>\n                    <Button\n                        variant=\"primary\"\n                        onClick={() => window.location.reload()}\n                    >\n                        Retry\n                    </Button>\n                </div>\n            </MainLayout>\n        );\n    }\n\n    return (\n        <MainLayout>\n            <div className=\"space-y-6\">\n                {/* Header */}\n                <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center space-x-4\">\n                        <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => router.push('/accounting')}\n                        >\n                            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                            Back\n                        </Button>\n                        <h1 className=\"text-2xl font-bold text-gray-900\">Add New Transaction</h1>\n                    </div>\n                </div>\n\n                {/* Form */}\n                <div className=\"bg-tertiary p-6 rounded-lg shadow-sm border border-gray-200 max-w-3xl mx-auto\">\n                    <form onSubmit={handleSubmit} className=\"space-y-6\">\n                        {/* Transaction Type */}\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                                Transaction Type\n                            </label>\n                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n                                <button\n                                    type=\"button\"\n                                    className={`px-4 py-3 text-sm rounded-md ${type === 'income' ? 'bg-green-100 text-green-800 border border-green-300' : 'bg-gray-100 text-gray-800 border border-gray-200'}`}\n                                    onClick={() => setType('income')}\n                                >\n                                    Income\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    className={`px-4 py-3 text-sm rounded-md ${type === 'expense' ? 'bg-red-100 text-red-800 border border-red-300' : 'bg-gray-100 text-gray-800 border border-gray-200'}`}\n                                    onClick={() => setType('expense')}\n                                >\n                                    Expense\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    className={`px-4 py-3 text-sm rounded-md ${type === 'withdrawal' ? 'bg-orange-100 text-orange-800 border border-orange-300' : 'bg-gray-100 text-gray-800 border border-gray-200'}`}\n                                    onClick={() => setType('withdrawal')}\n                                >\n                                    Withdrawal\n                                </button>\n                                <button\n                                    type=\"button\"\n                                    className={`px-4 py-3 text-sm rounded-md ${type === 'transfer' ? 'bg-purple-100 text-purple-800 border border-purple-300' : 'bg-gray-100 text-gray-800 border border-gray-200'}`}\n                                    onClick={() => setType('transfer')}\n                                >\n                                    Transfer\n                                </button>\n                            </div>\n                        </div>\n\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                            {/* Date */}\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                    Date\n                                </label>\n                                <input\n                                    type=\"date\"\n                                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-black\"\n                                    value={date}\n                                    onChange={(e) => setDate(e.target.value)}\n                                    required\n                                />\n                            </div>\n\n                            {/* Amount */}\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                    Amount (Rs.)\n                                </label>\n                                <input\n                                    type=\"number\"\n                                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-black\"\n                                    value={amount}\n                                    onChange={(e) => setAmount(e.target.value)}\n                                    placeholder=\"Enter amount\"\n                                    min=\"0\"\n                                    step=\"0.01\"\n                                    required\n                                />\n                            </div>\n                        </div>\n\n                        {/* Description */}\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                Description\n                            </label>\n                            <input\n                                type=\"text\"\n                                className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-black\"\n                                value={description}\n                                onChange={(e) => setDescription(e.target.value)}\n                                placeholder=\"Enter description\"\n                                required\n                            />\n                        </div>\n\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                            {/* From Account */}\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                    {type === 'transfer' ? 'From Account' : 'Account'}\n                                </label>\n                                <select\n                                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-black\"\n                                    value={accountId}\n                                    onChange={(e) => setAccountId(e.target.value)}\n                                    required\n                                >\n                                    <option value=\"\">Select an account</option>\n                                    {accounts\n                                        .filter(account => account.isActive)\n                                        .map((account) => (\n                                            <option key={account.id} value={account.id}>\n                                                {account.name} (Rs. {Number(account.balance).toLocaleString()})\n                                            </option>\n                                        ))}\n                                </select>\n                            </div>\n\n                            {/* To Account (for transfers only) */}\n                            {type === 'transfer' ? (\n                                <div>\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                        To Account\n                                    </label>\n                                    <select\n                                        className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-black\"\n                                        value={toAccountId}\n                                        onChange={(e) => setToAccountId(e.target.value)}\n                                        required\n                                    >\n                                        <option value=\"\">Select destination account</option>\n                                        {toAccountOptions.map((account) => (\n                                            <option key={account.id} value={account.id}>\n                                                {account.name} (Rs. {Number(account.balance).toLocaleString()})\n                                            </option>\n                                        ))}\n                                    </select>\n                                </div>\n                            ) : (\n                                <div>\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                        Category\n                                    </label>\n                                    <input\n                                        type=\"text\"\n                                        className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-black\"\n                                        value={category}\n                                        onChange={(e) => setCategory(e.target.value)}\n                                        placeholder=\"Enter category\"\n                                        required\n                                    />\n                                </div>\n                            )}\n                        </div>\n\n                        {/* Reference */}\n                        <div>\n                            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                Reference (Optional)\n                            </label>\n                            <input\n                                type=\"text\"\n                                className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-black\"\n                                value={reference}\n                                onChange={(e) => setReference(e.target.value)}\n                                placeholder=\"Invoice #, Receipt #, etc.\"\n                            />\n                        </div>\n\n                        {/* Category (for transfers) */}\n                        {type === 'transfer' && (\n                            <div>\n                                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                                    Category\n                                </label>\n                                <input\n                                    type=\"text\"\n                                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-black\"\n                                    value={category}\n                                    onChange={(e) => setCategory(e.target.value)}\n                                    placeholder=\"Enter category\"\n                                    required\n                                />\n                            </div>\n                        )}\n\n                        {/* Buttons */}\n                        <div className=\"flex justify-end space-x-3 pt-4\">\n                            <Button\n                                variant=\"outline\"\n                                type=\"button\"\n                                onClick={() => router.push('/accounting')}\n                            >\n                                Cancel\n                            </Button>\n                            <Button\n                                variant=\"primary\"\n                                type=\"submit\"\n                                disabled={isSaving}\n                            >\n                                {isSaving ? 'Saving...' : 'Save Transaction'}\n                            </Button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </MainLayout>\n    );\n} "],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAUA;;;;;;WAAwBA,cAAA;;;;;;;;kCARY;;;kCACV;;;wEACH;;;kCACA;;;kCACG;;;kCAEQ;;;;;;;;;;;;;;;AAEnB,SAASA,eAAA;EAAA;EAAAC,cAAA,GAAAC,CAAA;EACpB,MAAMC,MAAA;EAAA;EAAA,CAAAF,cAAA,GAAAG,CAAA,QAAS,IAAAC,WAAA,CAAAC,SAAS;EACxB,MAAM,CAACC,QAAA,EAAUC,WAAA,CAAY;EAAA;EAAA,CAAAP,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAY,EAAE;EACtD,MAAM,CAACC,SAAA,EAAWC,YAAA,CAAa;EAAA;EAAA,CAAAX,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC;EAC3C,MAAM,CAACG,KAAA,EAAOC,QAAA,CAAS;EAAA;EAAA,CAAAb,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAgB;EAClD,MAAM,CAACK,QAAA,EAAUC,WAAA,CAAY;EAAA;EAAA,CAAAf,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC;EAEzC;EACA,MAAM,CAACO,IAAA,EAAMC,OAAA,CAAQ;EAAA;EAAA,CAAAjB,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAsB;EACtD,MAAM,CAACS,IAAA,EAAMC,OAAA,CAAQ;EAAA;EAAA,CAAAnB,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC,IAAIW,IAAA,GAAOC,WAAW,GAAGC,KAAK,CAAC,IAAI,CAAC,EAAE;EACvE,MAAM,CAACC,WAAA,EAAaC,cAAA,CAAe;EAAA;EAAA,CAAAxB,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC;EAC/C,MAAM,CAACgB,SAAA,EAAWC,YAAA,CAAa;EAAA;EAAA,CAAA1B,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC;EAC3C,MAAM,CAACkB,WAAA,EAAaC,cAAA,CAAe;EAAA;EAAA,CAAA5B,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC;EAC/C,MAAM,CAACoB,MAAA,EAAQC,SAAA,CAAU;EAAA;EAAA,CAAA9B,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC;EACrC,MAAM,CAACsB,SAAA,EAAWC,YAAA,CAAa;EAAA;EAAA,CAAAhC,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC;EAC3C,MAAM,CAACwB,QAAA,EAAUC,WAAA,CAAY;EAAA;EAAA,CAAAlC,cAAA,GAAAG,CAAA,QAAG,IAAAK,MAAA,CAAAC,QAAQ,EAAC;EAEzC;EAAA;EAAAT,cAAA,GAAAG,CAAA;EACA,IAAAK,MAAA,CAAA2B,SAAS,EAAC;IAAA;IAAAnC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAG,CAAA;IACN,MAAMiC,aAAA,GAAgB,MAAAA,CAAA;MAAA;MAAApC,cAAA,GAAAC,CAAA;MAAAD,cAAA,GAAAG,CAAA;MAClBQ,YAAA,CAAa;MAAA;MAAAX,cAAA,GAAAG,CAAA;MACb,IAAI;QACA,MAAMkC,QAAA;QAAA;QAAA,CAAArC,cAAA,GAAAG,CAAA,QAAW,MAAM,IAAAmC,IAAA,CAAAC,OAAO,EAAC;QAAA;QAAAvC,cAAA,GAAAG,CAAA;QAC/B,IAAI,CAACkC,QAAA,CAASG,EAAE,EAAE;UAAA;UAAAxC,cAAA,GAAAyC,CAAA;UAAAzC,cAAA,GAAAG,CAAA;UACd,MAAM,IAAIuC,KAAA,CAAM;QACpB;QAAA;QAAA;UAAA1C,cAAA,GAAAyC,CAAA;QAAA;QACA,MAAME,IAAA;QAAA;QAAA,CAAA3C,cAAA,GAAAG,CAAA,QAAO,MAAMkC,QAAA,CAASO,IAAI;QAAA;QAAA5C,cAAA,GAAAG,CAAA;QAChCI,WAAA,CAAYoC,IAAA,CAAKA,IAAI;MACzB,EAAE,OAAOE,GAAA,EAAK;QAAA;QAAA7C,cAAA,GAAAG,CAAA;QACV2C,OAAA,CAAQlC,KAAK,CAAC,4BAA4BiC,GAAA;QAAA;QAAA7C,cAAA,GAAAG,CAAA;QAC1CU,QAAA,CAASgC,GAAA,YAAeH,KAAA;QAAA;QAAA,CAAA1C,cAAA,GAAAyC,CAAA,UAAQI,GAAA,CAAIE,OAAO;QAAA;QAAA,CAAA/C,cAAA,GAAAyC,CAAA,UAAG;MAClD,UAAU;QAAA;QAAAzC,cAAA,GAAAG,CAAA;QACNQ,YAAA,CAAa;MACjB;IACJ;IAAA;IAAAX,cAAA,GAAAG,CAAA;IAEAiC,aAAA;EACJ,GAAG,EAAE;EAEL;EACA,MAAMY,gBAAA;EAAA;EAAA,CAAAhD,cAAA,GAAAG,CAAA,QAAmBG,QAAA,CAAS2C,MAAM,CAACC,OAAA,IAAW;IAAA;IAAAlD,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAG,CAAA;IAAA,kCAAAH,cAAA,GAAAyC,CAAA,UAAAS,OAAA,CAAQC,EAAE,KAAK1B,SAAA;IAAA;IAAA,CAAAzB,cAAA,GAAAyC,CAAA,UAAaS,OAAA,CAAQE,QAAQ;EAAR,CAAQ;EAAA;EAAApD,cAAA,GAAAG,CAAA;EAEhG,MAAMkD,YAAA,GAAe,MAAOC,CAAA;IAAA;IAAAtD,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAG,CAAA;IACxBmD,CAAA,CAAEC,cAAc;IAEhB;IAAA;IAAAvD,cAAA,GAAAG,CAAA;IACA;IAAI;IAAA,CAAAH,cAAA,GAAAyC,CAAA,WAACvB,IAAA;IAAA;IAAA,CAAAlB,cAAA,GAAAyC,CAAA,UAAQ,CAAClB,WAAA;IAAA;IAAA,CAAAvB,cAAA,GAAAyC,CAAA,UAAe,CAAChB,SAAA;IAAA;IAAA,CAAAzB,cAAA,GAAAyC,CAAA,UAAa,CAACZ,MAAA;IAAA;IAAA,CAAA7B,cAAA,GAAAyC,CAAA,UAAU,CAACR,QAAA,GAAU;MAAA;MAAAjC,cAAA,GAAAyC,CAAA;MAAAzC,cAAA,GAAAG,CAAA;MAC7DqD,KAAA,CAAM;MAAA;MAAAxD,cAAA,GAAAG,CAAA;MACN;IACJ;IAAA;IAAA;MAAAH,cAAA,GAAAyC,CAAA;IAAA;IAEA;IAAAzC,cAAA,GAAAG,CAAA;IACA;IAAI;IAAA,CAAAH,cAAA,GAAAyC,CAAA,UAAAzB,IAAA,KAAS;IAAA;IAAA,CAAAhB,cAAA,GAAAyC,CAAA,UAAc,CAACd,WAAA,GAAa;MAAA;MAAA3B,cAAA,GAAAyC,CAAA;MAAAzC,cAAA,GAAAG,CAAA;MACrCqD,KAAA,CAAM;MAAA;MAAAxD,cAAA,GAAAG,CAAA;MACN;IACJ;IAAA;IAAA;MAAAH,cAAA,GAAAyC,CAAA;IAAA;IAAAzC,cAAA,GAAAG,CAAA;IAEAY,WAAA,CAAY;IAAA;IAAAf,cAAA,GAAAG,CAAA;IAEZ,IAAI;MACA;MACA,MAAMsD,eAAA;MAAA;MAAA,CAAAzD,cAAA,GAAAG,CAAA,QAAkBG,QAAA,CAASoD,IAAI,CAACC,GAAA,IAAO;QAAA;QAAA3D,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAG,CAAA;QAAA,OAAAwD,GAAA,CAAIR,EAAE,CAACS,QAAQ,OAAOnC,SAAA,CAAUmC,QAAQ;MAAA;MACrF,MAAMC,iBAAA;MAAA;MAAA,CAAA7D,cAAA,GAAAG,CAAA,QAAoBwB,WAAA;MAAA;MAAA,CAAA3B,cAAA,GAAAyC,CAAA,UAAcnC,QAAA,CAASoD,IAAI,CAACC,GAAA,IAAO;QAAA;QAAA3D,cAAA,GAAAC,CAAA;QAAAD,cAAA,GAAAG,CAAA;QAAA,OAAAwD,GAAA,CAAIR,EAAE,CAACS,QAAQ,OAAOjC,WAAA,CAAYiC,QAAQ;MAAA;MAAA;MAAA,CAAA5D,cAAA,GAAAyC,CAAA,UAAMqB,SAAA;MAE7G;MACA,MAAMC,WAAA;MAAA;MAAA,CAAA/D,cAAA,GAAAG,CAAA,QAAqD;QACvDe,IAAA;QACAK,WAAA;QACAE,SAAA;QACAuC,WAAA;QAAa;QAAA,CAAAhE,cAAA,GAAAyC,CAAA,WAAAgB,eAAA,EAAiBQ,IAAA;QAAA;QAAA,CAAAjE,cAAA,GAAAyC,CAAA,WAAQ;QACtCzB,IAAA;QACAa,MAAA,EAAQqC,UAAA,CAAWrC,MAAA;QACnBE,SAAA;QACAE,QAAA;QACA;QAAI;QAAA,CAAAjC,cAAA,GAAAyC,CAAA,WAAAzB,IAAA,KAAS;QAAA;QAAA,CAAAhB,cAAA,GAAAyC,CAAA,WAAcd,WAAA;QAAA;QAAA,CAAA3B,cAAA,GAAAyC,CAAA,WAAeoB,iBAAA;QAAA;QAAA,CAAA7D,cAAA,GAAAyC,CAAA,WAAoB;UAC1Dd,WAAA;UACAwC,aAAA,EAAeN,iBAAA,CAAkBI;QACrC;QAAA;QAAA,CAAAjE,cAAA,GAAAyC,CAAA,WAAI,CAAC,CAAC;MACV;MAEA;MACA,MAAMJ,QAAA;MAAA;MAAA,CAAArC,cAAA,GAAAG,CAAA,QAAW,MAAM,IAAAmC,IAAA,CAAA8B,QAAQ,EAAC,gCAAgCL,WAAA;MAAA;MAAA/D,cAAA,GAAAG,CAAA;MAEhE,IAAI,CAACkC,QAAA,CAASG,EAAE,EAAE;QAAA;QAAAxC,cAAA,GAAAyC,CAAA;QAAAzC,cAAA,GAAAG,CAAA;QACd,MAAM,IAAIuC,KAAA,CAAM;MACpB;MAAA;MAAA;QAAA1C,cAAA,GAAAyC,CAAA;MAAA;MAEA;MAAAzC,cAAA,GAAAG,CAAA;MACAD,MAAA,CAAOmE,IAAI,CAAC;IAEhB,EAAE,OAAOxB,GAAA,EAAK;MAAA;MAAA7C,cAAA,GAAAG,CAAA;MACV2C,OAAA,CAAQlC,KAAK,CAAC,+BAA+BiC,GAAA;MAAA;MAAA7C,cAAA,GAAAG,CAAA;MAC7CqD,KAAA,CAAM;IACV,UAAU;MAAA;MAAAxD,cAAA,GAAAG,CAAA;MACNY,WAAA,CAAY;IAChB;EACJ;EAEA;EAAA;EAAAf,cAAA,GAAAG,CAAA;EACA,IAAIO,SAAA,EAAW;IAAA;IAAAV,cAAA,GAAAyC,CAAA;IAAAzC,cAAA,GAAAG,CAAA;IACX,oBACI,IAAAmE,WAAA,CAAAC,GAAA,EAACC,WAAA,CAAAC,OAAU;gBACP,iBAAAH,WAAA,CAAAC,GAAA,EAAC;QAAIG,SAAA,EAAU;kBACX,iBAAAJ,WAAA,CAAAC,GAAA,EAAC;UAAIG,SAAA,EAAU;oBAAwB;;;;EAIvD;EAAA;EAAA;IAAA1E,cAAA,GAAAyC,CAAA;EAAA;EAEA;EAAAzC,cAAA,GAAAG,CAAA;EACA,IAAIS,KAAA,EAAO;IAAA;IAAAZ,cAAA,GAAAyC,CAAA;IAAAzC,cAAA,GAAAG,CAAA;IACP,oBACI,IAAAmE,WAAA,CAAAC,GAAA,EAACC,WAAA,CAAAC,OAAU;gBACP,iBAAAH,WAAA,CAAAK,IAAA,EAAC;QAAID,SAAA,EAAU;gCACX,IAAAJ,WAAA,CAAAK,IAAA,EAAC;UAAID,SAAA,EAAU;qBAA4B,WAAQ9D,KAAA;yBACnD,IAAA0D,WAAA,CAAAC,GAAA,EAACK,OAAA,CAAAC,MAAM;UACHC,OAAA,EAAQ;UACRC,OAAA,EAASA,CAAA,KAAM;YAAA;YAAA/E,cAAA,GAAAC,CAAA;YAAAD,cAAA,GAAAG,CAAA;YAAA,OAAA6E,MAAA,CAAOC,QAAQ,CAACC,MAAM;UAAA;oBACxC;;;;EAMjB;EAAA;EAAA;IAAAlF,cAAA,GAAAyC,CAAA;EAAA;EAAAzC,cAAA,GAAAG,CAAA;EAEA,oBACI,IAAAmE,WAAA,CAAAC,GAAA,EAACC,WAAA,CAAAC,OAAU;cACP,iBAAAH,WAAA,CAAAK,IAAA,EAAC;MAAID,SAAA,EAAU;8BAEX,IAAAJ,WAAA,CAAAC,GAAA,EAAC;QAAIG,SAAA,EAAU;kBACX,iBAAAJ,WAAA,CAAAK,IAAA,EAAC;UAAID,SAAA,EAAU;kCACX,IAAAJ,WAAA,CAAAK,IAAA,EAACC,OAAA,CAAAC,MAAM;YACHC,OAAA,EAAQ;YACRK,IAAA,EAAK;YACLJ,OAAA,EAASA,CAAA,KAAM;cAAA;cAAA/E,cAAA,GAAAC,CAAA;cAAAD,cAAA,GAAAG,CAAA;cAAA,OAAAD,MAAA,CAAOmE,IAAI,CAAC;YAAA;oCAE3B,IAAAC,WAAA,CAAAC,GAAA,EAACa,YAAA,CAAAC,SAAS;cAACX,SAAA,EAAU;gBAAiB;2BAG1C,IAAAJ,WAAA,CAAAC,GAAA,EAAC;YAAGG,SAAA,EAAU;sBAAmC;;;uBAKzD,IAAAJ,WAAA,CAAAC,GAAA,EAAC;QAAIG,SAAA,EAAU;kBACX,iBAAAJ,WAAA,CAAAK,IAAA,EAAC;UAAKW,QAAA,EAAUjC,YAAA;UAAcqB,SAAA,EAAU;kCAEpC,IAAAJ,WAAA,CAAAK,IAAA,EAAC;oCACG,IAAAL,WAAA,CAAAC,GAAA,EAAC;cAAMG,SAAA,EAAU;wBAA+C;6BAGhE,IAAAJ,WAAA,CAAAK,IAAA,EAAC;cAAID,SAAA,EAAU;sCACX,IAAAJ,WAAA,CAAAC,GAAA,EAAC;gBACGvD,IAAA,EAAK;gBACL0D,SAAA,EAAW,gCAAgC1D,IAAA,KAAS;gBAAA;gBAAA,CAAAhB,cAAA,GAAAyC,CAAA,WAAW;gBAAA;gBAAA,CAAAzC,cAAA,GAAAyC,CAAA,WAAwD,qDAAoD;gBAC3KsC,OAAA,EAASA,CAAA,KAAM;kBAAA;kBAAA/E,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAAc,OAAA,CAAQ;gBAAA;0BAC1B;+BAGD,IAAAqD,WAAA,CAAAC,GAAA,EAAC;gBACGvD,IAAA,EAAK;gBACL0D,SAAA,EAAW,gCAAgC1D,IAAA,KAAS;gBAAA;gBAAA,CAAAhB,cAAA,GAAAyC,CAAA,WAAY;gBAAA;gBAAA,CAAAzC,cAAA,GAAAyC,CAAA,WAAkD,qDAAoD;gBACtKsC,OAAA,EAASA,CAAA,KAAM;kBAAA;kBAAA/E,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAAc,OAAA,CAAQ;gBAAA;0BAC1B;+BAGD,IAAAqD,WAAA,CAAAC,GAAA,EAAC;gBACGvD,IAAA,EAAK;gBACL0D,SAAA,EAAW,gCAAgC1D,IAAA,KAAS;gBAAA;gBAAA,CAAAhB,cAAA,GAAAyC,CAAA,WAAe;gBAAA;gBAAA,CAAAzC,cAAA,GAAAyC,CAAA,WAA2D,qDAAoD;gBAClLsC,OAAA,EAASA,CAAA,KAAM;kBAAA;kBAAA/E,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAAc,OAAA,CAAQ;gBAAA;0BAC1B;+BAGD,IAAAqD,WAAA,CAAAC,GAAA,EAAC;gBACGvD,IAAA,EAAK;gBACL0D,SAAA,EAAW,gCAAgC1D,IAAA,KAAS;gBAAA;gBAAA,CAAAhB,cAAA,GAAAyC,CAAA,WAAa;gBAAA;gBAAA,CAAAzC,cAAA,GAAAyC,CAAA,WAA2D,qDAAoD;gBAChLsC,OAAA,EAASA,CAAA,KAAM;kBAAA;kBAAA/E,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAAc,OAAA,CAAQ;gBAAA;0BAC1B;;;2BAMT,IAAAqD,WAAA,CAAAK,IAAA,EAAC;YAAID,SAAA,EAAU;oCAEX,IAAAJ,WAAA,CAAAK,IAAA,EAAC;sCACG,IAAAL,WAAA,CAAAC,GAAA,EAAC;gBAAMG,SAAA,EAAU;0BAA+C;+BAGhE,IAAAJ,WAAA,CAAAC,GAAA,EAAC;gBACGvD,IAAA,EAAK;gBACL0D,SAAA,EAAU;gBACVa,KAAA,EAAOrE,IAAA;gBACPsE,QAAA,EAAWlC,CAAA,IAAM;kBAAA;kBAAAtD,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAAgB,OAAA,CAAQmC,CAAA,CAAEmC,MAAM,CAACF,KAAK;gBAAA;gBACvCG,QAAQ;;6BAKhB,IAAApB,WAAA,CAAAK,IAAA,EAAC;sCACG,IAAAL,WAAA,CAAAC,GAAA,EAAC;gBAAMG,SAAA,EAAU;0BAA+C;+BAGhE,IAAAJ,WAAA,CAAAC,GAAA,EAAC;gBACGvD,IAAA,EAAK;gBACL0D,SAAA,EAAU;gBACVa,KAAA,EAAO1D,MAAA;gBACP2D,QAAA,EAAWlC,CAAA,IAAM;kBAAA;kBAAAtD,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAA2B,SAAA,CAAUwB,CAAA,CAAEmC,MAAM,CAACF,KAAK;gBAAA;gBACzCI,WAAA,EAAY;gBACZC,GAAA,EAAI;gBACJC,IAAA,EAAK;gBACLH,QAAQ;;;2BAMpB,IAAApB,WAAA,CAAAK,IAAA,EAAC;oCACG,IAAAL,WAAA,CAAAC,GAAA,EAAC;cAAMG,SAAA,EAAU;wBAA+C;6BAGhE,IAAAJ,WAAA,CAAAC,GAAA,EAAC;cACGvD,IAAA,EAAK;cACL0D,SAAA,EAAU;cACVa,KAAA,EAAOhE,WAAA;cACPiE,QAAA,EAAWlC,CAAA,IAAM;gBAAA;gBAAAtD,cAAA,GAAAC,CAAA;gBAAAD,cAAA,GAAAG,CAAA;gBAAA,OAAAqB,cAAA,CAAe8B,CAAA,CAAEmC,MAAM,CAACF,KAAK;cAAA;cAC9CI,WAAA,EAAY;cACZD,QAAQ;;2BAIhB,IAAApB,WAAA,CAAAK,IAAA,EAAC;YAAID,SAAA,EAAU;oCAEX,IAAAJ,WAAA,CAAAK,IAAA,EAAC;sCACG,IAAAL,WAAA,CAAAC,GAAA,EAAC;gBAAMG,SAAA,EAAU;0BACZ1D,IAAA,KAAS;gBAAA;gBAAA,CAAAhB,cAAA,GAAAyC,CAAA,WAAa;gBAAA;gBAAA,CAAAzC,cAAA,GAAAyC,CAAA,WAAiB;+BAE5C,IAAA6B,WAAA,CAAAK,IAAA,EAAC;gBACGD,SAAA,EAAU;gBACVa,KAAA,EAAO9D,SAAA;gBACP+D,QAAA,EAAWlC,CAAA,IAAM;kBAAA;kBAAAtD,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAAuB,YAAA,CAAa4B,CAAA,CAAEmC,MAAM,CAACF,KAAK;gBAAA;gBAC5CG,QAAQ;wCAER,IAAApB,WAAA,CAAAC,GAAA,EAAC;kBAAOgB,KAAA,EAAM;4BAAG;oBAChBjF,QAAA,CACI2C,MAAM,CAACC,OAAA,IAAW;kBAAA;kBAAAlD,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAA+C,OAAA,CAAQE,QAAQ;gBAAR,CAAQ,EAClC0C,GAAG,CAAE5C,OAAA,IACF;kBAAA;kBAAAlD,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OADE,aACF,IAAAmE,WAAA,CAAAK,IAAA,EAAC;oBAAwBY,KAAA,EAAOrC,OAAA,CAAQC,EAAE;+BACrCD,OAAA,CAAQe,IAAI,EAAC,UAAO8B,MAAA,CAAO7C,OAAA,CAAQ8C,OAAO,EAAEC,cAAc,IAAG;qBADrD/C,OAAA,CAAQC,EAAE;gBAAA;;gBAQtCnC,IAAA,KAAS;YAAA;YAAA,cAAAhB,cAAA,GAAAyC,CAAA,WACN,IAAA6B,WAAA,CAAAK,IAAA,EAAC;sCACG,IAAAL,WAAA,CAAAC,GAAA,EAAC;gBAAMG,SAAA,EAAU;0BAA+C;+BAGhE,IAAAJ,WAAA,CAAAK,IAAA,EAAC;gBACGD,SAAA,EAAU;gBACVa,KAAA,EAAO5D,WAAA;gBACP6D,QAAA,EAAWlC,CAAA,IAAM;kBAAA;kBAAAtD,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAAyB,cAAA,CAAe0B,CAAA,CAAEmC,MAAM,CAACF,KAAK;gBAAA;gBAC9CG,QAAQ;wCAER,IAAApB,WAAA,CAAAC,GAAA,EAAC;kBAAOgB,KAAA,EAAM;4BAAG;oBAChBvC,gBAAA,CAAiB8C,GAAG,CAAE5C,OAAA,IACnB;kBAAA;kBAAAlD,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OADmB,aACnB,IAAAmE,WAAA,CAAAK,IAAA,EAAC;oBAAwBY,KAAA,EAAOrC,OAAA,CAAQC,EAAE;+BACrCD,OAAA,CAAQe,IAAI,EAAC,UAAO8B,MAAA,CAAO7C,OAAA,CAAQ8C,OAAO,EAAEC,cAAc,IAAG;qBADrD/C,OAAA,CAAQC,EAAE;gBAAA;;;;uDAOnC,IAAAmB,WAAA,CAAAK,IAAA,EAAC;sCACG,IAAAL,WAAA,CAAAC,GAAA,EAAC;gBAAMG,SAAA,EAAU;0BAA+C;+BAGhE,IAAAJ,WAAA,CAAAC,GAAA,EAAC;gBACGvD,IAAA,EAAK;gBACL0D,SAAA,EAAU;gBACVa,KAAA,EAAOtD,QAAA;gBACPuD,QAAA,EAAWlC,CAAA,IAAM;kBAAA;kBAAAtD,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAG,CAAA;kBAAA,OAAA+B,WAAA,CAAYoB,CAAA,CAAEmC,MAAM,CAACF,KAAK;gBAAA;gBAC3CI,WAAA,EAAY;gBACZD,QAAQ;;;2BAOxB,IAAApB,WAAA,CAAAK,IAAA,EAAC;oCACG,IAAAL,WAAA,CAAAC,GAAA,EAAC;cAAMG,SAAA,EAAU;wBAA+C;6BAGhE,IAAAJ,WAAA,CAAAC,GAAA,EAAC;cACGvD,IAAA,EAAK;cACL0D,SAAA,EAAU;cACVa,KAAA,EAAOxD,SAAA;cACPyD,QAAA,EAAWlC,CAAA,IAAM;gBAAA;gBAAAtD,cAAA,GAAAC,CAAA;gBAAAD,cAAA,GAAAG,CAAA;gBAAA,OAAA6B,YAAA,CAAasB,CAAA,CAAEmC,MAAM,CAACF,KAAK;cAAA;cAC5CI,WAAA,EAAY;;;UAKnB;UAAA,CAAA3F,cAAA,GAAAyC,CAAA,WAAAzB,IAAA,KAAS;UAAA;UAAA,CAAAhB,cAAA,GAAAyC,CAAA,wBACN,IAAA6B,WAAA,CAAAK,IAAA,EAAC;oCACG,IAAAL,WAAA,CAAAC,GAAA,EAAC;cAAMG,SAAA,EAAU;wBAA+C;6BAGhE,IAAAJ,WAAA,CAAAC,GAAA,EAAC;cACGvD,IAAA,EAAK;cACL0D,SAAA,EAAU;cACVa,KAAA,EAAOtD,QAAA;cACPuD,QAAA,EAAWlC,CAAA,IAAM;gBAAA;gBAAAtD,cAAA,GAAAC,CAAA;gBAAAD,cAAA,GAAAG,CAAA;gBAAA,OAAA+B,WAAA,CAAYoB,CAAA,CAAEmC,MAAM,CAACF,KAAK;cAAA;cAC3CI,WAAA,EAAY;cACZD,QAAQ;;4BAMpB,IAAApB,WAAA,CAAAK,IAAA,EAAC;YAAID,SAAA,EAAU;oCACX,IAAAJ,WAAA,CAAAC,GAAA,EAACK,OAAA,CAAAC,MAAM;cACHC,OAAA,EAAQ;cACR9D,IAAA,EAAK;cACL+D,OAAA,EAASA,CAAA,KAAM;gBAAA;gBAAA/E,cAAA,GAAAC,CAAA;gBAAAD,cAAA,GAAAG,CAAA;gBAAA,OAAAD,MAAA,CAAOmE,IAAI,CAAC;cAAA;wBAC9B;6BAGD,IAAAC,WAAA,CAAAC,GAAA,EAACK,OAAA,CAAAC,MAAM;cACHC,OAAA,EAAQ;cACR9D,IAAA,EAAK;cACLkF,QAAA,EAAUpF,QAAA;wBAETA,QAAA;cAAA;cAAA,CAAAd,cAAA,GAAAyC,CAAA,WAAW;cAAA;cAAA,CAAAzC,cAAA,GAAAyC,CAAA,WAAc;;;;;;;AAQ1D","ignoreList":[]}