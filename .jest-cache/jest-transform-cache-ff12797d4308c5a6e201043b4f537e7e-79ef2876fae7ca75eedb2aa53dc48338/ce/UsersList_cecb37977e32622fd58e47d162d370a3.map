{"version":3,"names":["cov_17k8lvtoqj","actualCoverage","s","UsersList","onAddUser","f","users","setUsers","_react","useState","loading","setLoading","error","setError","expandedUser","setExpandedUser","resetPasswordLoading","setResetPasswordLoading","fetchUsers","response","fetch","headers","data","json","success","b","message","err","console","handleResetPassword","userId","userEmail","confirm","method","alert","newPassword","handleEditUser","window","location","href","handleDeleteUser","userName","toggleUserExpansion","formatPermissions","permissions","length","grouped","reduce","acc","permission","module","split","push","Object","entries","map","perms","charAt","toUpperCase","slice","useEffect","_jsxruntime","jsx","className","jsxs","_Button","Button","onClick","_lucidereact","Shield","user","name","isActive","email","shop","MapPin","variant","size","id","Edit","Trash2","disabled","RotateCcw","Fragment","EyeOff","Eye","phone","Date","createdAt","toLocaleDateString","role"],"sources":["/Users/sachin/Documents/md-sports-/src/components/settings/UsersList.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/Button';\nimport { Eye, EyeOff, RotateCcw, Edit, Trash2, Shield, MapPin } from 'lucide-react';\n\ninterface User {\n    id: number;\n    name: string;\n    email: string;\n    phone?: string;\n    isActive: boolean;\n    shopId?: number;\n    permissions: string[];\n    createdAt: string;\n    shop?: {\n        id: number;\n        name: string;\n    };\n    role?: {\n        id: number;\n        name: string;\n    };\n}\n\ninterface UsersListProps {\n    onAddUser: () => void;\n}\n\nexport default function UsersList({ onAddUser }: UsersListProps) {\n    const [users, setUsers] = useState<User[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [expandedUser, setExpandedUser] = useState<number | null>(null);\n    const [resetPasswordLoading, setResetPasswordLoading] = useState<number | null>(null);\n\n    const fetchUsers = async () => {\n        try {\n            const response = await fetch('/api/users', {\n                headers: {\n                    'Authorization': 'Bearer dev-token',\n                },\n            });\n            const data = await response.json();\n\n            if (data.success) {\n                setUsers(data.users || []);\n            } else {\n                setError(data.message || 'Failed to fetch users');\n            }\n        } catch (err) {\n            console.error('Error fetching users:', err);\n            setError('Failed to load users');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const handleResetPassword = async (userId: number, userEmail: string) => {\n        if (!confirm(`Are you sure you want to reset the password for ${userEmail}?`)) {\n            return;\n        }\n\n        setResetPasswordLoading(userId);\n        try {\n            const response = await fetch(`/api/users/${userId}/reset-password`, {\n                method: 'POST',\n                headers: {\n                    'Authorization': 'Bearer dev-token',\n                    'Content-Type': 'application/json',\n                },\n            });\n            const data = await response.json();\n\n            if (data.success) {\n                alert(`Password reset successfully! New password: ${data.newPassword}`);\n            } else {\n                alert(data.message || 'Failed to reset password');\n            }\n        } catch (err) {\n            console.error('Error resetting password:', err);\n            alert('Failed to reset password');\n        } finally {\n            setResetPasswordLoading(null);\n        }\n    };\n\n    const handleEditUser = (userId: number) => {\n        // Navigate to edit user page or open edit modal\n        window.location.href = `/settings/users/edit/${userId}`;\n    };\n\n    const handleDeleteUser = async (userId: number, userName: string) => {\n        if (!confirm(`Are you sure you want to delete user \"${userName}\"? This action cannot be undone.`)) {\n            return;\n        }\n\n        try {\n            const response = await fetch(`/api/users/${userId}`, {\n                method: 'DELETE',\n                headers: {\n                    'Authorization': 'Bearer dev-token',\n                },\n            });\n            const data = await response.json();\n\n            if (data.success) {\n                alert('User deleted successfully!');\n                // Refresh the users list\n                fetchUsers();\n            } else {\n                alert(data.message || 'Failed to delete user');\n            }\n        } catch (err) {\n            console.error('Error deleting user:', err);\n            alert('Failed to delete user');\n        }\n    };\n\n    const toggleUserExpansion = (userId: number) => {\n        setExpandedUser(expandedUser === userId ? null : userId);\n    };\n\n    const formatPermissions = (permissions: string[]) => {\n        // If permissions array is empty or undefined, return empty array\n        if (!permissions || permissions.length === 0) {\n            return [];\n        }\n\n        const grouped = permissions.reduce((acc, permission) => {\n            const [module] = permission.split(':');\n            if (!acc[module]) acc[module] = [];\n            acc[module].push(permission);\n            return acc;\n        }, {} as Record<string, string[]>);\n\n        return Object.entries(grouped).map(([module, perms]) => ({\n            module: module.charAt(0).toUpperCase() + module.slice(1),\n            permissions: perms\n        }));\n    };\n\n    useEffect(() => {\n        fetchUsers();\n    }, []);\n\n    if (loading) {\n        return (\n            <div className=\"flex justify-center items-center py-8\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md\">\n                {error}\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"space-y-6\">\n            <div className=\"flex justify-between items-center\">\n                <div>\n                    <h3 className=\"text-lg font-medium text-gray-900\">Users & Permissions</h3>\n                    <p className=\"text-gray-500\">Manage user accounts and their permissions</p>\n                </div>\n                <Button onClick={onAddUser} className=\"flex items-center gap-2\">\n                    <Shield className=\"h-4 w-4\" />\n                    Add New User\n                </Button>\n            </div>\n\n            {users.length === 0 ? (\n                <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center\">\n                    <Shield className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n                    <h4 className=\"text-lg font-medium text-gray-900 mb-2\">No users found</h4>\n                    <p className=\"text-gray-500 mb-4\">Get started by creating your first user account.</p>\n                    <Button onClick={onAddUser}>Create First User</Button>\n                </div>\n            ) : (\n                <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n                    <div className=\"divide-y divide-gray-200\">\n                        {users.map((user) => (\n                            <div key={user.id} className=\"p-6\">\n                                <div className=\"flex items-center justify-between\">\n                                    <div className=\"flex items-center space-x-4\">\n                                        <div className=\"flex-shrink-0\">\n                                            <div className=\"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center\">\n                                                <span className=\"text-sm font-medium text-primary\">\n                                                    {user.name.charAt(0).toUpperCase()}\n                                                </span>\n                                            </div>\n                                        </div>\n                                        <div className=\"flex-1 min-w-0\">\n                                            <div className=\"flex items-center gap-2\">\n                                                <h4 className=\"text-sm font-medium text-gray-900 truncate\">\n                                                    {user.name}\n                                                </h4>\n                                                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${user.isActive\n                                                    ? 'bg-green-100 text-green-800'\n                                                    : 'bg-red-100 text-red-800'\n                                                    }`}>\n                                                    {user.isActive ? 'Active' : 'Inactive'}\n                                                </span>\n                                            </div>\n                                            <div className=\"flex items-center gap-4 mt-1\">\n                                                <p className=\"text-sm text-gray-500 truncate\">{user.email}</p>\n                                                {user.shop && (\n                                                    <div className=\"flex items-center gap-1 text-sm text-gray-500\">\n                                                        <MapPin className=\"h-3 w-3\" />\n                                                        <span>{user.shop.name}</span>\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"flex items-center space-x-2\">\n                                        <Button\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            onClick={() => handleEditUser(user.id)}\n                                            className=\"flex items-center gap-1\"\n                                        >\n                                            <Edit className=\"h-3 w-3\" />\n                                            Edit\n                                        </Button>\n                                        <Button\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            onClick={() => handleDeleteUser(user.id, user.name)}\n                                            className=\"flex items-center gap-1 text-red-600 hover:text-red-700 hover:border-red-300\"\n                                        >\n                                            <Trash2 className=\"h-3 w-3\" />\n                                            Delete\n                                        </Button>\n                                        <Button\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            onClick={() => handleResetPassword(user.id, user.email)}\n                                            disabled={resetPasswordLoading === user.id}\n                                            className=\"flex items-center gap-1\"\n                                        >\n                                            <RotateCcw className={`h-3 w-3 ${resetPasswordLoading === user.id ? 'animate-spin' : ''\n                                                }`} />\n                                            Reset Password\n                                        </Button>\n                                        <Button\n                                            variant=\"outline\"\n                                            size=\"sm\"\n                                            onClick={() => toggleUserExpansion(user.id)}\n                                            className=\"flex items-center gap-1\"\n                                        >\n                                            {expandedUser === user.id ? (\n                                                <><EyeOff className=\"h-3 w-3\" /> Hide Details</>\n                                            ) : (\n                                                <><Eye className=\"h-3 w-3\" /> View Details</>\n                                            )}\n                                        </Button>\n                                    </div>\n                                </div>\n\n                                {expandedUser === user.id && (\n                                    <div className=\"mt-4 pt-4 border-t border-gray-200\">\n                                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                            <div>\n                                                <h5 className=\"text-sm font-medium text-gray-900 mb-2\">User Information</h5>\n                                                <dl className=\"space-y-1\">\n                                                    <div className=\"flex justify-between text-sm\">\n                                                        <dt className=\"text-gray-500\">Email:</dt>\n                                                        <dd className=\"text-gray-900\">{user.email}</dd>\n                                                    </div>\n                                                    {user.phone && (\n                                                        <div className=\"flex justify-between text-sm\">\n                                                            <dt className=\"text-gray-500\">Phone:</dt>\n                                                            <dd className=\"text-gray-900\">{user.phone}</dd>\n                                                        </div>\n                                                    )}\n                                                    <div className=\"flex justify-between text-sm\">\n                                                        <dt className=\"text-gray-500\">Shop:</dt>\n                                                        <dd className=\"text-gray-900\">\n                                                            {user.shop ? user.shop.name : 'No shop assigned'}\n                                                        </dd>\n                                                    </div>\n                                                    <div className=\"flex justify-between text-sm\">\n                                                        <dt className=\"text-gray-500\">Created:</dt>\n                                                        <dd className=\"text-gray-900\">\n                                                            {new Date(user.createdAt).toLocaleDateString()}\n                                                        </dd>\n                                                    </div>\n                                                </dl>\n                                            </div>\n                                            <div>\n                                                <h5 className=\"text-sm font-medium text-gray-900 mb-2\">Permissions</h5>\n                                                {(!user.permissions || user.permissions.length === 0) ? (\n                                                    <div className=\"text-sm text-gray-500\">\n                                                        <p>No direct permissions assigned</p>\n                                                        {user.role && (\n                                                            <p className=\"mt-1 text-xs text-blue-600\">\n                                                                Role: {user.role.name} (may have role-based permissions)\n                                                            </p>\n                                                        )}\n                                                    </div>\n                                                ) : (\n                                                    <div className=\"space-y-2\">\n                                                        {formatPermissions(user.permissions).map(({ module, permissions }) => (\n                                                            <div key={module} className=\"text-sm\">\n                                                                <span className=\"font-medium text-gray-700\">{module}:</span>\n                                                                <div className=\"ml-2 flex flex-wrap gap-1 mt-1\">\n                                                                    {permissions.map((permission) => (\n                                                                        <span\n                                                                            key={permission}\n                                                                            className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800\"\n                                                                        >\n                                                                            {permission.split(':')[1]}\n                                                                        </span>\n                                                                    ))}\n                                                                </div>\n                                                            </div>\n                                                        ))}\n                                                        {user.role && (\n                                                            <p className=\"mt-2 text-xs text-blue-600\">\n                                                                Role: {user.role.name}\n                                                            </p>\n                                                        )}\n                                                    </div>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}