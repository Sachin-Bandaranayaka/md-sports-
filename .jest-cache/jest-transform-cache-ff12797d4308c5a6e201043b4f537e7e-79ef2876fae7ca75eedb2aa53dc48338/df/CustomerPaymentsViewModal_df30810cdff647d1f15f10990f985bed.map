{"version":3,"names":["cov_1bdzilbkk7","actualCoverage","s","CustomerPaymentsViewModal","isOpen","onClose","reportName","reportData","f","b","formatDate","dateString","Date","toLocaleString","undefined","year","month","day","hour","minute","formatCurrency","amount","style","currency","_jsxruntime","jsx","className","jsxs","_Button","Button","variant","size","onClick","_lucidereact","X","message","summary","totalPaymentsAmount","numberOfPayments","numberOfCreditCustomersWithPayments","generatedAt","details","map","payment","customerName","paymentDate","paymentMethod","referenceNumber","invoiceNumber","paymentAmount","paymentId","length","colSpan"],"sources":["/Users/sachin/Documents/md-sports-/src/components/reports/CustomerPaymentsViewModal.tsx"],"sourcesContent":["import { Button } from '@/components/ui/Button';\nimport { X } from 'lucide-react';\n\ninterface PaymentDetail {\n    paymentId: number;\n    customerName: string;\n    paymentDate: string; // Assuming ISO string from API\n    paymentAmount: number;\n    paymentMethod: string | null;\n    referenceNumber: string | null;\n    invoiceNumber: string;\n}\n\ninterface PaymentReportSummary {\n    totalPaymentsAmount: number;\n    numberOfPayments: number;\n    numberOfCreditCustomersWithPayments: number;\n}\n\ninterface CustomerPaymentsReportData {\n    details: PaymentDetail[];\n    summary: PaymentReportSummary;\n    generatedAt: string;\n    message?: string; // Optional message e.g. \"No credit customers found\"\n}\n\ninterface CustomerPaymentsViewModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    reportName?: string;\n    reportData: CustomerPaymentsReportData | null;\n}\n\nexport default function CustomerPaymentsViewModal({\n    isOpen,\n    onClose,\n    reportName,\n    reportData,\n}: CustomerPaymentsViewModalProps) {\n    if (!isOpen || !reportData) return null;\n\n    const formatDate = (dateString: string) => {\n        return new Date(dateString).toLocaleString(undefined, {\n            year: 'numeric', month: 'long', day: 'numeric',\n            hour: '2-digit', minute: '2-digit'\n        });\n    };\n\n    const formatCurrency = (amount: number) => {\n        return amount.toLocaleString(undefined, { style: 'currency', currency: 'LKR' });\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-5xl max-h-[90vh] flex flex-col\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h2 className=\"text-xl font-semibold text-gray-800\">{reportName || 'Customer Payment History'}</h2>\n                    <Button variant=\"ghost\" size=\"sm\" onClick={onClose} className=\"p-1\">\n                        <X className=\"w-5 h-5\" />\n                    </Button>\n                </div>\n\n                {reportData.message && (\n                    <div className=\"mb-4 p-3 bg-blue-50 text-blue-700 border border-blue-200 rounded-md\">\n                        {reportData.message}\n                    </div>\n                )}\n\n                {reportData.summary && !reportData.message && (\n                    <div className=\"text-sm text-gray-600 mb-3 pb-3 border-b\">\n                        <h3 className=\"text-lg font-semibold text-gray-700 mb-1\">Summary</h3>\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2\">\n                            <p>Total Payments: <span className=\"font-semibold\">{formatCurrency(reportData.summary.totalPaymentsAmount)}</span></p>\n                            <p>Transactions: <span className=\"font-semibold\">{reportData.summary.numberOfPayments.toLocaleString()}</span></p>\n                            <p>Customers w/ Payments: <span className=\"font-semibold\">{reportData.summary.numberOfCreditCustomersWithPayments.toLocaleString()}</span></p>\n                        </div>\n                        <p className=\"mt-1 text-xs\">Generated at: {new Date(reportData.generatedAt).toLocaleString()}</p>\n                    </div>\n                )}\n\n                <div className=\"overflow-y-auto flex-grow report-table-container pr-1\">\n                    <table className=\"w-full text-sm text-left text-gray-500\">\n                        <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0 z-10\">\n                            <tr>\n                                <th className=\"px-3 py-2\">Customer Name</th>\n                                <th className=\"px-3 py-2\">Payment Date</th>\n                                <th className=\"px-3 py-2\">Payment Method</th>\n                                <th className=\"px-3 py-2\">Reference #</th>\n                                <th className=\"px-3 py-2\">Invoice #</th>\n                                <th className=\"px-3 py-2 text-right\">Amount (LKR)</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {reportData.details.map((payment) => (\n                                <tr key={payment.paymentId} className=\"border-b hover:bg-gray-50\">\n                                    <td className=\"px-3 py-2 font-medium text-gray-900\">{payment.customerName}</td>\n                                    <td className=\"px-3 py-2\">{formatDate(payment.paymentDate)}</td>\n                                    <td className=\"px-3 py-2\">{payment.paymentMethod || 'N/A'}</td>\n                                    <td className=\"px-3 py-2\">{payment.referenceNumber || 'N/A'}</td>\n                                    <td className=\"px-3 py-2\">{payment.invoiceNumber}</td>\n                                    <td className=\"px-3 py-2 text-right\">{formatCurrency(payment.paymentAmount)}</td>\n                                </tr>\n                            ))}\n                            {reportData.details.length === 0 && !reportData.message && (\n                                <tr>\n                                    <td colSpan={6} className=\"text-center py-4 text-gray-500\">No payment history found for credit customers.</td>\n                                </tr>\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n                <div className=\"mt-6 text-right\">\n                    <Button variant=\"outline\" onClick={onClose}>Close</Button>\n                </div>\n            </div>\n        </div>\n    );\n} "],"mappings":"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","ignoreList":[]}