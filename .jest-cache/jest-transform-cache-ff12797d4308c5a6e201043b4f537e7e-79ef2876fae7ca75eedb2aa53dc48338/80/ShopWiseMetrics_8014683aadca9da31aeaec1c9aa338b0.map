{"version":3,"names":["ShopWiseMetrics","startDate","endDate","refreshTrigger","cov_2q8mncuvik","f","user","s","_useAuth","useAuth","data","setData","_react","useState","isLoading","setIsLoading","error","setError","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","fetchShopWiseMetrics","accessToken","b","localStorage","getItem","fetchHeaders","params","URLSearchParams","append","response","fetch","toString","headers","cache","ok","Error","status","result","json","success","console","message","useEffect","hasInventoryPermission","permissions","_permissions","hasAnyPermission","hasSalesPermission","_jsxruntime","jsxs","className","jsx","_lucidereact","Loader2","AlertTriangle","onClick","shopMetrics","totals","dateRange","length","Date","toLocaleDateString","Store","totalInventoryCost","TrendingUp","totalProfit","DollarSign","totalSales","CreditCard","outstandingInvoices","map","shop","shopName","shopId"],"sources":["/Users/sachin/Documents/md-sports-/src/app/(protected)/dashboard/components/ShopWiseMetrics.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Store, TrendingUp, CreditCard, AlertTriangle, Loader2, DollarSign } from 'lucide-react';\nimport { useAuth } from '@/hooks/useAuth';\nimport { hasAnyPermission } from '@/lib/utils/permissions';\n\n// Interface for shop-wise metrics data\ninterface ShopMetrics {\n    shopId: string;\n    shopName: string;\n    totalInventoryCost: number;\n    totalProfit: number;\n    totalSales: number;\n    outstandingInvoices: number;\n    lowStockItems: number;\n}\n\ninterface ShopWiseData {\n    shopMetrics: ShopMetrics[];\n    totals: {\n        totalInventoryCost: number;\n        totalProfit: number;\n        totalSales: number;\n        outstandingInvoices: number;\n        lowStockItems: number;\n    };\n    dateRange: {\n        startDate: string;\n        endDate: string;\n    };\n}\n\ninterface ShopWiseMetricsProps {\n    startDate?: string;\n    endDate?: string;\n    refreshTrigger?: number;\n}\n\nexport default function ShopWiseMetrics({ startDate, endDate, refreshTrigger }: ShopWiseMetricsProps) {\n    const { user } = useAuth();\n    const [data, setData] = useState<ShopWiseData | null>(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    // Format currency\n    const formatCurrency = (amount: number) => {\n        return new Intl.NumberFormat('en-LK', {\n            style: 'currency',\n            currency: 'LKR',\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 0\n        }).format(amount);\n    };\n\n    // Fetch shop-wise metrics\n    const fetchShopWiseMetrics = async () => {\n        try {\n            setIsLoading(true);\n            setError(null);\n\n            const accessToken = localStorage.getItem('accessToken') || localStorage.getItem('authToken');\n            \n            const fetchHeaders: HeadersInit = {\n                'Content-Type': 'application/json',\n            };\n\n            if (accessToken) {\n                fetchHeaders['Authorization'] = `Bearer ${accessToken}`;\n            }\n\n            // Build query parameters\n            const params = new URLSearchParams();\n            if (startDate) params.append('startDate', startDate);\n            if (endDate) params.append('endDate', endDate);\n\n            const response = await fetch(`/api/dashboard/shop-wise?${params.toString()}`, {\n                headers: fetchHeaders,\n                cache: 'no-store'\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to load shop-wise metrics: ${response.status}`);\n            }\n\n            const result = await response.json();\n\n            if (!result.success) {\n                throw new Error(result.error || 'Failed to load shop-wise metrics');\n            }\n\n            setData(result.data);\n        } catch (error) {\n            console.error('Error fetching shop-wise metrics:', error);\n            setError(error instanceof Error ? error.message : 'Failed to load shop-wise metrics');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    // Fetch data on component mount and when dependencies change\n    useEffect(() => {\n        fetchShopWiseMetrics();\n    }, [startDate, endDate, refreshTrigger]);\n\n    // Check permissions using centralized permission utility\n    const hasInventoryPermission = user?.permissions ? hasAnyPermission(user.permissions, ['inventory:view', 'inventory:manage']) : false;\n    const hasSalesPermission = user?.permissions ? hasAnyPermission(user.permissions, ['sales:view', 'sales:manage']) : false;\n\n    if (!hasInventoryPermission && !hasSalesPermission) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <p className=\"text-gray-500\">You don't have permission to view shop-wise metrics.</p>\n            </div>\n        );\n    }\n\n    if (isLoading) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <div className=\"flex items-center justify-center py-8\">\n                    <Loader2 className=\"h-6 w-6 animate-spin text-primary\" />\n                    <span className=\"ml-2 text-gray-600\">Loading shop-wise metrics...</span>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <div className=\"text-center py-8\">\n                    <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n                    <p className=\"text-red-600 mb-4\">{error}</p>\n                    <button\n                        onClick={fetchShopWiseMetrics}\n                        className=\"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark transition-colors\"\n                    >\n                        Retry\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    if (!data || !data.shopMetrics || !data.totals || !data.dateRange || data.shopMetrics.length === 0) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <p className=\"text-gray-500 text-center py-8\">No shop data available.</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Shop-wise Metrics</h3>\n                <div className=\"text-sm text-gray-500\">\n                    {new Date(data.dateRange.startDate).toLocaleDateString()} - {new Date(data.dateRange.endDate).toLocaleDateString()}\n                </div>\n            </div>\n\n            {/* Summary Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n                {hasInventoryPermission && (\n                    <div className=\"bg-blue-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <Store className=\"h-5 w-5 text-blue-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-blue-900\">Total Inventory</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-blue-900 mt-1\">\n                            {formatCurrency(data.totals.totalInventoryCost)}\n                        </p>\n                    </div>\n                )}\n                \n                {hasSalesPermission && (\n                    <div className=\"bg-green-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <TrendingUp className=\"h-5 w-5 text-green-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-green-900\">Total Profit</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-green-900 mt-1\">\n                            {formatCurrency(data.totals.totalProfit)}\n                        </p>\n                    </div>\n                )}\n                \n                {hasSalesPermission && (\n                    <div className=\"bg-purple-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <DollarSign className=\"h-5 w-5 text-purple-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-purple-900\">Total Sales</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-purple-900 mt-1\">\n                            {formatCurrency(data.totals.totalSales)}\n                        </p>\n                    </div>\n                )}\n                \n                {hasSalesPermission && (\n                    <div className=\"bg-orange-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <CreditCard className=\"h-5 w-5 text-orange-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-orange-900\">Outstanding</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-orange-900 mt-1\">\n                            {formatCurrency(data.totals.outstandingInvoices)}\n                        </p>\n                    </div>\n                )}\n                \n                {/* Low Stock Items card hidden */}\n            </div>\n\n            {/* Shop-wise Table */}\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                        <tr>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Shop Name\n                            </th>\n                            {hasInventoryPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Inventory Cost\n                                </th>\n                            )}\n                            {hasSalesPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Profit\n                                </th>\n                            )}\n                            {hasSalesPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Total Sales\n                                </th>\n                            )}\n                            {hasSalesPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Outstanding\n                                </th>\n                            )}\n                            {/* Low Stock column header hidden */}\n                        </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                        {data.shopMetrics.map((shop) => (\n                            <tr key={shop.shopId} className=\"hover:bg-gray-50\">\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                                    {shop.shopName}\n                                </td>\n                                {hasInventoryPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        {formatCurrency(shop.totalInventoryCost)}\n                                    </td>\n                                )}\n                                {hasSalesPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        <span className={shop.totalProfit >= 0 ? 'text-green-600' : 'text-red-600'}>\n                                            {formatCurrency(shop.totalProfit)}\n                                        </span>\n                                    </td>\n                                )}\n                                {hasSalesPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        <span className=\"text-purple-600\">\n                                            {formatCurrency(shop.totalSales)}\n                                        </span>\n                                    </td>\n                                )}\n                                {hasSalesPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        {formatCurrency(shop.outstandingInvoices)}\n                                    </td>\n                                )}\n                                {/* Low Stock column data hidden */}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}