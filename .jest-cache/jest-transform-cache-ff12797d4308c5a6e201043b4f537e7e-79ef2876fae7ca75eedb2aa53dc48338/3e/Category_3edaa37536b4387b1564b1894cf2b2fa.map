{"version":3,"names":["_default","Category","_sequelize","Model","getProducts","cov_2c69akqyzs","f","s","_Product","default","findAll","where","categoryId","id","isActive","init","type","DataTypes","INTEGER","autoIncrement","primaryKey","name","STRING","allowNull","description","TEXT","parentId","references","model","key","BOOLEAN","defaultValue","createdAt","DATE","NOW","updatedAt","sequelize","_db","modelName","tableName","timestamps","hasMany","sourceKey","foreignKey","as","belongsTo"],"sources":["/Users/sachin/Documents/md-sports-/src/lib/models/Category.ts"],"sourcesContent":["import { DataTypes, Model, Optional } from 'sequelize';\nimport sequelize from '../db';\nimport Product from './Product';\n\ninterface CategoryAttributes {\n    id: number;\n    name: string;\n    description?: string;\n    parentId?: number;\n    isActive: boolean;\n    createdAt: Date;\n    updatedAt: Date;\n}\n\ninterface CategoryCreationAttributes extends Optional<CategoryAttributes, 'id' | 'createdAt' | 'updatedAt' | 'isActive'> { }\n\nclass Category extends Model<CategoryAttributes, CategoryCreationAttributes> implements CategoryAttributes {\n    public id!: number;\n    public name!: string;\n    public description!: string;\n    public parentId!: number;\n    public isActive!: boolean;\n\n    // Timestamps\n    public readonly createdAt!: Date;\n    public readonly updatedAt!: Date;\n\n    // Methods defined in the design document\n    public async getProducts(): Promise<Product[]> {\n        return Product.findAll({\n            where: {\n                categoryId: this.id,\n                isActive: true\n            }\n        });\n    }\n}\n\nCategory.init({\n    id: {\n        type: DataTypes.INTEGER,\n        autoIncrement: true,\n        primaryKey: true,\n    },\n    name: {\n        type: DataTypes.STRING,\n        allowNull: false,\n    },\n    description: {\n        type: DataTypes.TEXT,\n        allowNull: true,\n    },\n    parentId: {\n        type: DataTypes.INTEGER,\n        allowNull: true,\n        references: {\n            model: 'categories',\n            key: 'id'\n        }\n    },\n    isActive: {\n        type: DataTypes.BOOLEAN,\n        allowNull: false,\n        defaultValue: true,\n    },\n    createdAt: {\n        type: DataTypes.DATE,\n        allowNull: false,\n        defaultValue: DataTypes.NOW,\n    },\n    updatedAt: {\n        type: DataTypes.DATE,\n        allowNull: false,\n        defaultValue: DataTypes.NOW,\n    },\n}, {\n    sequelize,\n    modelName: 'Category',\n    tableName: 'categories',\n    timestamps: true,\n});\n\n// Set up associations\nCategory.hasMany(Product, {\n    sourceKey: 'id',\n    foreignKey: 'categoryId',\n    as: 'products'\n});\n\nProduct.belongsTo(Category, {\n    foreignKey: 'categoryId',\n    as: 'category'\n});\n\nexport default Category; "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BA8FA;;;;;;WAAAA,QAAA;;;;;kCA9F2C;;;wEACrB;;;wEACF;;;;;;;;;;;;;;;AAcpB,MAAMC,QAAA;AAAA;AAAA,CAAiBC,UAAA,CAAAC,KAAK;EAWxB;EACA,MAAaC,YAAA,EAAkC;IAAA;IAAAC,cAAA,GAAAC,CAAA;IAAAD,cAAA,GAAAE,CAAA;IAC3C,OAAOC,QAAA,CAAAC,OAAO,CAACC,OAAO,CAAC;MACnBC,KAAA,EAAO;QACHC,UAAA,EAAY,IAAI,CAACC,EAAE;QACnBC,QAAA,EAAU;MACd;IACJ;EACJ;AACJ;AAAA;AAAAT,cAAA,GAAAE,CAAA;AAEAN,QAAA,CAASc,IAAI,CAAC;EACVF,EAAA,EAAI;IACAG,IAAA,EAAMd,UAAA,CAAAe,SAAS,CAACC,OAAO;IACvBC,aAAA,EAAe;IACfC,UAAA,EAAY;EAChB;EACAC,IAAA,EAAM;IACFL,IAAA,EAAMd,UAAA,CAAAe,SAAS,CAACK,MAAM;IACtBC,SAAA,EAAW;EACf;EACAC,WAAA,EAAa;IACTR,IAAA,EAAMd,UAAA,CAAAe,SAAS,CAACQ,IAAI;IACpBF,SAAA,EAAW;EACf;EACAG,QAAA,EAAU;IACNV,IAAA,EAAMd,UAAA,CAAAe,SAAS,CAACC,OAAO;IACvBK,SAAA,EAAW;IACXI,UAAA,EAAY;MACRC,KAAA,EAAO;MACPC,GAAA,EAAK;IACT;EACJ;EACAf,QAAA,EAAU;IACNE,IAAA,EAAMd,UAAA,CAAAe,SAAS,CAACa,OAAO;IACvBP,SAAA,EAAW;IACXQ,YAAA,EAAc;EAClB;EACAC,SAAA,EAAW;IACPhB,IAAA,EAAMd,UAAA,CAAAe,SAAS,CAACgB,IAAI;IACpBV,SAAA,EAAW;IACXQ,YAAA,EAAc7B,UAAA,CAAAe,SAAS,CAACiB;EAC5B;EACAC,SAAA,EAAW;IACPnB,IAAA,EAAMd,UAAA,CAAAe,SAAS,CAACgB,IAAI;IACpBV,SAAA,EAAW;IACXQ,YAAA,EAAc7B,UAAA,CAAAe,SAAS,CAACiB;EAC5B;AACJ,GAAG;EACCE,SAAA,EAAAC,GAAA,CAAA5B,OAAS;EACT6B,SAAA,EAAW;EACXC,SAAA,EAAW;EACXC,UAAA,EAAY;AAChB;AAEA;AAAA;AAAAnC,cAAA,GAAAE,CAAA;AACAN,QAAA,CAASwC,OAAO,CAACjC,QAAA,CAAAC,OAAO,EAAE;EACtBiC,SAAA,EAAW;EACXC,UAAA,EAAY;EACZC,EAAA,EAAI;AACR;AAAA;AAAAvC,cAAA,GAAAE,CAAA;AAEAC,QAAA,CAAAC,OAAO,CAACoC,SAAS,CAAC5C,QAAA,EAAU;EACxB0C,UAAA,EAAY;EACZC,EAAA,EAAI;AACR;MAEA5C,QAAA;AAAA;AAAA,CAAAK,cAAA,GAAAE,CAAA,QAAeN,QAAA","ignoreList":[]}