{"version":3,"names":["cov_5glgps56q","actualCoverage","s","InventoryReportViewModal","isOpen","onClose","reportName","reportData","f","b","formatCurrency","amount","toLocaleString","undefined","style","currency","overallTotalItems","details","reduce","sum","item","quantity","overallTotalValue","totalValue","_jsxruntime","jsx","className","jsxs","_Button","Button","variant","size","onClick","_lucidereact","X","Date","generatedAt","map","index","productName","sku","shopName","category","price","length","colSpan"],"sources":["/Users/sachin/Documents/md-sports-/src/components/reports/InventoryReportViewModal.tsx"],"sourcesContent":["import { Button } from '@/components/ui/Button';\nimport { X } from 'lucide-react';\n\ninterface InventoryItemDetail {\n    productName: string;\n    sku: string | null;\n    barcode: string | null;\n    category: string;\n    shopName: string;\n    quantity: number;\n    price: number; // Retail price from Product.price\n    totalValue: number; // quantity * price\n    // weightedAverageCost?: number; // Could be added later\n    // totalWACValue?: number; // Could be added later\n}\n\ninterface InventoryReportData {\n    details: InventoryItemDetail[];\n    generatedAt: string;\n    // Add summary fields if any are calculated in API, e.g., total_items, grand_total_value\n}\n\ninterface InventoryReportViewModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    reportName?: string;\n    reportData: InventoryReportData | null;\n}\n\nexport default function InventoryReportViewModal({\n    isOpen,\n    onClose,\n    reportName,\n    reportData,\n}: InventoryReportViewModalProps) {\n    if (!isOpen || !reportData) return null;\n\n    const formatCurrency = (amount: number) => {\n        return amount.toLocaleString(undefined, { style: 'currency', currency: 'LKR' });\n    };\n\n    const overallTotalItems = reportData.details.reduce((sum, item) => sum + item.quantity, 0);\n    const overallTotalValue = reportData.details.reduce((sum, item) => sum + item.totalValue, 0);\n\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-6xl max-h-[90vh] flex flex-col\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h2 className=\"text-xl font-semibold text-gray-800\">{reportName || 'Inventory Status Details'}</h2>\n                    <Button variant=\"ghost\" size=\"sm\" onClick={onClose} className=\"p-1\">\n                        <X className=\"w-5 h-5\" />\n                    </Button>\n                </div>\n                <div className=\"text-sm text-gray-600 mb-2\">\n                    <p>Generated At: {new Date(reportData.generatedAt).toLocaleString()}</p>\n                    <p>Overall Total Items: {overallTotalItems.toLocaleString()}</p>\n                    <p>Overall Total Value (Retail): {formatCurrency(overallTotalValue)}</p>\n                </div>\n                <div className=\"overflow-y-auto flex-grow\">\n                    <table className=\"w-full text-sm text-left text-gray-500\">\n                        <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0\">\n                            <tr>\n                                <th className=\"px-3 py-2\">Product Name</th>\n                                <th className=\"px-3 py-2\">SKU</th>\n                                <th className=\"px-3 py-2\">Shop</th>\n                                <th className=\"px-3 py-2\">Category</th>\n                                <th className=\"px-3 py-2 text-right\">Quantity</th>\n                                <th className=\"px-3 py-2 text-right\">Price (Retail)</th>\n                                <th className=\"px-3 py-2 text-right\">Total Value (Retail)</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {reportData.details.map((item, index) => (\n                                <tr key={`${item.sku}-${item.shopName}-${index}`} className=\"border-b hover:bg-gray-50\">\n                                    <td className=\"px-3 py-2 font-medium text-gray-900\">{item.productName}</td>\n                                    <td className=\"px-3 py-2\">{item.sku || 'N/A'}</td>\n                                    <td className=\"px-3 py-2\">{item.shopName}</td>\n                                    <td className=\"px-3 py-2\">{item.category}</td>\n                                    <td className=\"px-3 py-2 text-right\">{item.quantity.toLocaleString()}</td>\n                                    <td className=\"px-3 py-2 text-right\">{formatCurrency(item.price)}</td>\n                                    <td className=\"px-3 py-2 text-right\">{formatCurrency(item.totalValue)}</td>\n                                </tr>\n                            ))}\n                            {reportData.details.length === 0 && (\n                                <tr>\n                                    <td colSpan={7} className=\"text-center py-4 text-gray-500\">No inventory items found.</td>\n                                </tr>\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n                <div className=\"mt-6 text-right\">\n                    <Button variant=\"outline\" onClick={onClose}>Close</Button>\n                </div>\n            </div>\n        </div>\n    );\n} "],"mappings":"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","ignoreList":[]}