{"version":3,"names":["cov_jyxvsl9nf","actualCoverage","s","_default","pool","_pg","Pool","connectionString","process","env","DATABASE_URL","ssl","NODE_ENV","b","rejectUnauthorized","query","text","params","f","start","Date","now","res","duration","console","log","rows","rowCount","db"],"sources":["/Users/sachin/Documents/md-sports-/src/utils/db.ts"],"sourcesContent":["import { Pool, QueryResult } from 'pg';\n\n// Create a connection pool\nconst pool = new Pool({\n    connectionString: process.env.DATABASE_URL,\n    ssl: process.env.NODE_ENV === 'production'\n        ? { rejectUnauthorized: false }\n        : false\n});\n\n// Simple query method\nconst query = async (text: string, params?: any[]): Promise<QueryResult> => {\n    const start = Date.now();\n    const res = await pool.query(text, params);\n    const duration = Date.now() - start;\n\n    // Log slow queries in development\n    if (process.env.NODE_ENV !== 'production' && duration > 100) {\n        console.log('Slow query:', { text, duration, rows: res.rowCount });\n    }\n\n    return res;\n};\n\n// Export the database interface\nconst db = {\n    query,\n    pool\n};\n\nexport default db; "],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMY;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;+BAwBZ;;;;;;WAAAC,QAAA;;;;;iCA9BkC;AAElC;AACA,MAAMC,IAAA;AAAA;AAAA,CAAAJ,aAAA,GAAAE,CAAA,OAAO,IAAIG,GAAA,CAAAC,IAAI,CAAC;EAClBC,gBAAA,EAAkBC,OAAA,CAAQC,GAAG,CAACC,YAAY;EAC1CC,GAAA,EAAKH,OAAA,CAAQC,GAAG,CAACG,QAAQ,KAAK;EAAA;EAAA,CAAAZ,aAAA,GAAAa,CAAA,UACxB;IAAEC,kBAAA,EAAoB;EAAM;EAAA;EAAA,CAAAd,aAAA,GAAAa,CAAA,UAC5B;AACV;AAEA;AAAA;AAAAb,aAAA,GAAAE,CAAA;AACA,MAAMa,KAAA,GAAQ,MAAAA,CAAOC,IAAA,EAAcC,MAAA;EAAA;EAAAjB,aAAA,GAAAkB,CAAA;EAC/B,MAAMC,KAAA;EAAA;EAAA,CAAAnB,aAAA,GAAAE,CAAA,OAAQkB,IAAA,CAAKC,GAAG;EACtB,MAAMC,GAAA;EAAA;EAAA,CAAAtB,aAAA,GAAAE,CAAA,OAAM,MAAME,IAAA,CAAKW,KAAK,CAACC,IAAA,EAAMC,MAAA;EACnC,MAAMM,QAAA;EAAA;EAAA,CAAAvB,aAAA,GAAAE,CAAA,OAAWkB,IAAA,CAAKC,GAAG,KAAKF,KAAA;EAE9B;EAAA;EAAAnB,aAAA,GAAAE,CAAA;EACA;EAAI;EAAA,CAAAF,aAAA,GAAAa,CAAA,UAAAL,OAAA,CAAQC,GAAG,CAACG,QAAQ,KAAK;EAAA;EAAA,CAAAZ,aAAA,GAAAa,CAAA,UAAgBU,QAAA,GAAW,MAAK;IAAA;IAAAvB,aAAA,GAAAa,CAAA;IAAAb,aAAA,GAAAE,CAAA;IACzDsB,OAAA,CAAQC,GAAG,CAAC,eAAe;MAAET,IAAA;MAAMO,QAAA;MAAUG,IAAA,EAAMJ,GAAA,CAAIK;IAAS;EACpE;EAAA;EAAA;IAAA3B,aAAA,GAAAa,CAAA;EAAA;EAAAb,aAAA,GAAAE,CAAA;EAEA,OAAOoB,GAAA;AACX;AAEA;AACA,MAAMM,EAAA;AAAA;AAAA,CAAA5B,aAAA,GAAAE,CAAA,QAAK;EACPa,KAAA;EACAX;AACJ;MAEAD,QAAA;AAAA;AAAA,CAAAH,aAAA,GAAAE,CAAA,QAAe0B,EAAA","ignoreList":[]}