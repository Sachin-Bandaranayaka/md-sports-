7337f5af45fdcae04fdecc4a58cb23e5
// Fixed Unit tests for database operations
// This file tests various database operations and utilities
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _prisma = /*#__PURE__*/ _interop_require_default(require("../../src/lib/prisma"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Create a comprehensive mock for all Prisma models
const createMockModel = ()=>({
        findMany: _globals.jest.fn(),
        findUnique: _globals.jest.fn(),
        findFirst: _globals.jest.fn(),
        create: _globals.jest.fn(),
        update: _globals.jest.fn(),
        delete: _globals.jest.fn(),
        count: _globals.jest.fn(),
        aggregate: _globals.jest.fn(),
        upsert: _globals.jest.fn(),
        deleteMany: _globals.jest.fn(),
        updateMany: _globals.jest.fn()
    });
// Mock Prisma Client BEFORE importing
const mockPrisma = {
    user: createMockModel(),
    product: createMockModel(),
    customer: createMockModel(),
    invoice: createMockModel(),
    inventoryItem: createMockModel(),
    category: createMockModel(),
    supplier: createMockModel(),
    purchaseInvoice: createMockModel(),
    purchaseInvoiceItem: createMockModel(),
    salesInvoice: createMockModel(),
    salesInvoiceItem: createMockModel(),
    $transaction: _globals.jest.fn(),
    $connect: _globals.jest.fn(),
    $disconnect: _globals.jest.fn(),
    $executeRaw: _globals.jest.fn(),
    $queryRaw: _globals.jest.fn()
};
// Mock the Prisma module
_globals.jest.mock("@/lib/prisma", ()=>({
        __esModule: true,
        default: mockPrisma
    }));
describe("Database Operations - Prisma Models", ()=>{
    beforeEach(()=>{
        _globals.jest.clearAllMocks();
    });
    describe("User Model Operations", ()=>{
        const mockUser1 = {
            id: 1,
            username: "testuser",
            email: "test@example.com",
            password: "hashedpassword",
            firstName: "Test",
            lastName: "User",
            isActive: true,
            roleId: 1,
            shopId: "shop1",
            createdAt: new Date(),
            updatedAt: new Date()
        };
        describe("findMany", ()=>{
            it("should fetch all active users", async ()=>{
                const mockUsers = [
                    mockUser1,
                    {
                        ...mockUser1,
                        id: 2,
                        username: "testuser2"
                    }
                ];
                mockPrisma.user.findMany.mockResolvedValue(mockUsers);
                const result = await _prisma.default.user.findMany({
                    where: {
                        isActive: true
                    }
                });
                expect(mockPrisma.user.findMany).toHaveBeenCalledWith({
                    where: {
                        isActive: true
                    }
                });
                expect(result).toEqual(mockUsers);
                expect(result).toHaveLength(2);
            });
            it("should fetch users with role and shop relations", async ()=>{
                const mockUsersWithRelations = [
                    {
                        ...mockUser1,
                        role: {
                            id: 1,
                            name: "admin",
                            permissions: []
                        },
                        shop: {
                            id: "shop1",
                            name: "Main Shop"
                        }
                    }
                ];
                mockPrisma.user.findMany.mockResolvedValue(mockUsersWithRelations);
                const result = await _prisma.default.user.findMany({
                    include: {
                        role: {
                            include: {
                                permissions: true
                            }
                        },
                        shop: true
                    }
                });
                expect(mockPrisma.user.findMany).toHaveBeenCalledWith({
                    include: {
                        role: {
                            include: {
                                permissions: true
                            }
                        },
                        shop: true
                    }
                });
                expect(result[0]).toHaveProperty("role");
                expect(result[0]).toHaveProperty("shop");
            });
        });
        describe("findUnique", ()=>{
            it("should find user by id", async ()=>{
                mockPrisma.user.findUnique.mockResolvedValue(mockUser1);
                const result = await _prisma.default.user.findUnique({
                    where: {
                        id: 1
                    }
                });
                expect(mockPrisma.user.findUnique).toHaveBeenCalledWith({
                    where: {
                        id: 1
                    }
                });
                expect(result).toEqual(mockUser1);
            });
            it("should find user by email", async ()=>{
                mockPrisma.user.findUnique.mockResolvedValue(mockUser1);
                const result = await _prisma.default.user.findUnique({
                    where: {
                        email: "test@example.com"
                    }
                });
                expect(mockPrisma.user.findUnique).toHaveBeenCalledWith({
                    where: {
                        email: "test@example.com"
                    }
                });
                expect(result).toEqual(mockUser1);
            });
            it("should return null for non-existent user", async ()=>{
                mockPrisma.user.findUnique.mockResolvedValue(null);
                const result = await _prisma.default.user.findUnique({
                    where: {
                        id: 999
                    }
                });
                expect(result).toBeNull();
            });
        });
        describe("create", ()=>{
            it("should create a new user", async ()=>{
                const newUserData = {
                    username: "newuser",
                    email: "new@example.com",
                    password: "hashedpassword",
                    firstName: "New",
                    lastName: "User",
                    roleId: 2
                };
                const createdUser = {
                    ...mockUser1,
                    ...newUserData,
                    id: 3
                };
                mockPrisma.user.create.mockResolvedValue(createdUser);
                const result = await _prisma.default.user.create({
                    data: newUserData
                });
                expect(mockPrisma.user.create).toHaveBeenCalledWith({
                    data: newUserData
                });
                expect(result).toEqual(createdUser);
            });
        });
        describe("update", ()=>{
            it("should update user data", async ()=>{
                const updateData = {
                    firstName: "Updated",
                    lastName: "Name"
                };
                const updatedUser = {
                    ...mockUser1,
                    ...updateData
                };
                mockPrisma.user.update.mockResolvedValue(updatedUser);
                const result = await _prisma.default.user.update({
                    where: {
                        id: 1
                    },
                    data: updateData
                });
                expect(mockPrisma.user.update).toHaveBeenCalledWith({
                    where: {
                        id: 1
                    },
                    data: updateData
                });
                expect(result).toEqual(updatedUser);
            });
        });
        describe("delete", ()=>{
            it("should delete a user", async ()=>{
                mockPrisma.user.delete.mockResolvedValue(mockUser1);
                const result = await _prisma.default.user.delete({
                    where: {
                        id: 1
                    }
                });
                expect(mockPrisma.user.delete).toHaveBeenCalledWith({
                    where: {
                        id: 1
                    }
                });
                expect(result).toEqual(mockUser1);
            });
        });
    });
    describe("Product Model Operations", ()=>{
        const mockProduct1 = {
            id: 1,
            name: "Test Product",
            description: "Test Description",
            price: 99.99,
            costPrice: 50.00,
            sku: "TEST-001",
            barcode: "1234567890",
            categoryId: 1,
            isActive: true,
            createdAt: new Date(),
            updatedAt: new Date()
        };
        describe("findMany", ()=>{
            it("should fetch all active products", async ()=>{
                const mockProducts = [
                    mockProduct1,
                    {
                        ...mockProduct1,
                        id: 2,
                        name: "Product 2"
                    }
                ];
                mockPrisma.product.findMany.mockResolvedValue(mockProducts);
                const result = await _prisma.default.product.findMany({
                    where: {
                        isActive: true
                    }
                });
                expect(mockPrisma.product.findMany).toHaveBeenCalledWith({
                    where: {
                        isActive: true
                    }
                });
                expect(result).toEqual(mockProducts);
            });
            it("should fetch products with category and inventory", async ()=>{
                const mockProductsWithRelations = [
                    {
                        ...mockProduct1,
                        category: {
                            id: 1,
                            name: "Electronics"
                        },
                        inventoryItems: [
                            {
                                id: 1,
                                quantity: 100,
                                shopId: "shop1"
                            }
                        ]
                    }
                ];
                mockPrisma.product.findMany.mockResolvedValue(mockProductsWithRelations);
                const result = await _prisma.default.product.findMany({
                    include: {
                        category: true,
                        inventoryItems: true
                    }
                });
                expect(result[0]).toHaveProperty("category");
                expect(result[0]).toHaveProperty("inventoryItems");
            });
        });
        describe("findUnique", ()=>{
            it("should find product by id", async ()=>{
                mockPrisma.product.findUnique.mockResolvedValue(mockProduct1);
                const result = await _prisma.default.product.findUnique({
                    where: {
                        id: 1
                    }
                });
                expect(result).toEqual(mockProduct1);
            });
            it("should find product by SKU", async ()=>{
                mockPrisma.product.findUnique.mockResolvedValue(mockProduct1);
                const result = await _prisma.default.product.findUnique({
                    where: {
                        sku: "TEST-001"
                    }
                });
                expect(result).toEqual(mockProduct1);
            });
        });
        describe("create", ()=>{
            it("should create a new product", async ()=>{
                const newProductData = {
                    name: "New Product",
                    price: 149.99,
                    costPrice: 75.00,
                    sku: "NEW-001",
                    categoryId: 1
                };
                const createdProduct = {
                    ...mockProduct1,
                    ...newProductData,
                    id: 3
                };
                mockPrisma.product.create.mockResolvedValue(createdProduct);
                const result = await _prisma.default.product.create({
                    data: newProductData
                });
                expect(result).toEqual(createdProduct);
            });
        });
    });
    describe("Customer Model Operations", ()=>{
        const mockCustomer = {
            id: 1,
            name: "Test Customer",
            email: "customer@example.com",
            phone: "+1234567890",
            address: "123 Test St",
            city: "Test City",
            status: "active",
            createdAt: new Date(),
            updatedAt: new Date()
        };
        describe("findMany", ()=>{
            it("should fetch all active customers", async ()=>{
                const mockCustomers = [
                    mockCustomer,
                    {
                        ...mockCustomer,
                        id: 2,
                        name: "Customer 2"
                    }
                ];
                mockPrisma.customer.findMany.mockResolvedValue(mockCustomers);
                const result = await _prisma.default.customer.findMany({
                    where: {
                        status: "active"
                    }
                });
                expect(result).toEqual(mockCustomers);
            });
            it("should fetch customers with invoices", async ()=>{
                const mockCustomersWithInvoices = [
                    {
                        ...mockCustomer,
                        invoices: [
                            {
                                id: 1,
                                total: 100.00,
                                status: "paid"
                            }
                        ]
                    }
                ];
                mockPrisma.customer.findMany.mockResolvedValue(mockCustomersWithInvoices);
                const result = await _prisma.default.customer.findMany({
                    include: {
                        invoices: true
                    }
                });
                expect(result[0]).toHaveProperty("invoices");
            });
        });
        describe("create", ()=>{
            it("should create a new customer", async ()=>{
                const newCustomerData = {
                    name: "New Customer",
                    email: "new@customer.com",
                    phone: "+9876543210"
                };
                const createdCustomer = {
                    ...mockCustomer,
                    ...newCustomerData,
                    id: 3
                };
                mockPrisma.customer.create.mockResolvedValue(createdCustomer);
                const result = await _prisma.default.customer.create({
                    data: newCustomerData
                });
                expect(result).toEqual(createdCustomer);
            });
        });
    });
    describe("Invoice Model Operations", ()=>{
        const mockInvoice = {
            id: 1,
            invoiceNumber: "INV-001",
            customerId: 1,
            total: 199.99,
            status: "pending",
            paymentMethod: "Cash",
            createdAt: new Date(),
            updatedAt: new Date()
        };
        describe("findMany", ()=>{
            it("should fetch invoices with filters", async ()=>{
                const mockInvoices = [
                    mockInvoice,
                    {
                        ...mockInvoice,
                        id: 2,
                        invoiceNumber: "INV-002"
                    }
                ];
                mockPrisma.invoice.findMany.mockResolvedValue(mockInvoices);
                const result = await _prisma.default.invoice.findMany({
                    where: {
                        status: "pending",
                        createdAt: {
                            gte: new Date("2024-01-01")
                        }
                    },
                    orderBy: {
                        createdAt: "desc"
                    }
                });
                expect(mockPrisma.invoice.findMany).toHaveBeenCalledWith({
                    where: {
                        status: "pending",
                        createdAt: {
                            gte: new Date("2024-01-01")
                        }
                    },
                    orderBy: {
                        createdAt: "desc"
                    }
                });
                expect(result).toEqual(mockInvoices);
            });
            it("should fetch invoices with customer and items", async ()=>{
                const mockInvoicesWithRelations = [
                    {
                        ...mockInvoice,
                        customer: {
                            id: 1,
                            name: "Test Customer"
                        },
                        items: [
                            {
                                id: 1,
                                productId: 1,
                                quantity: 2,
                                price: 99.99
                            }
                        ]
                    }
                ];
                mockPrisma.invoice.findMany.mockResolvedValue(mockInvoicesWithRelations);
                const result = await _prisma.default.invoice.findMany({
                    include: {
                        customer: true,
                        items: {
                            include: {
                                product: true
                            }
                        }
                    }
                });
                expect(result[0]).toHaveProperty("customer");
                expect(result[0]).toHaveProperty("items");
            });
        });
        describe("create", ()=>{
            it("should create invoice with items", async ()=>{
                const invoiceData = {
                    invoiceNumber: "INV-003",
                    customerId: 1,
                    total: 299.99,
                    status: "pending",
                    items: {
                        create: [
                            {
                                productId: 1,
                                quantity: 2,
                                price: 99.99,
                                total: 199.98
                            },
                            {
                                productId: 2,
                                quantity: 1,
                                price: 100.01,
                                total: 100.01
                            }
                        ]
                    }
                };
                const createdInvoice = {
                    ...mockInvoice,
                    ...invoiceData,
                    id: 3
                };
                mockPrisma.invoice.create.mockResolvedValue(createdInvoice);
                const result = await _prisma.default.invoice.create({
                    data: invoiceData,
                    include: {
                        items: true
                    }
                });
                expect(mockPrisma.invoice.create).toHaveBeenCalledWith({
                    data: invoiceData,
                    include: {
                        items: true
                    }
                });
                expect(result).toEqual(createdInvoice);
            });
        });
    });
    describe("Inventory Model Operations", ()=>{
        const mockInventoryItem = {
            id: 1,
            productId: 1,
            shopId: "shop1",
            quantity: 100,
            minStockLevel: 10,
            maxStockLevel: 500,
            reorderPoint: 20,
            createdAt: new Date(),
            updatedAt: new Date()
        };
        describe("findMany", ()=>{
            it("should fetch inventory items by shop", async ()=>{
                const mockInventoryItems = [
                    mockInventoryItem,
                    {
                        ...mockInventoryItem,
                        id: 2,
                        productId: 2
                    }
                ];
                mockPrisma.inventoryItem.findMany.mockResolvedValue(mockInventoryItems);
                const result = await _prisma.default.inventoryItem.findMany({
                    where: {
                        shopId: "shop1"
                    },
                    include: {
                        product: true
                    }
                });
                expect(mockPrisma.inventoryItem.findMany).toHaveBeenCalledWith({
                    where: {
                        shopId: "shop1"
                    },
                    include: {
                        product: true
                    }
                });
                expect(result).toEqual(mockInventoryItems);
            });
            it("should fetch low stock items", async ()=>{
                const lowStockItems = [
                    {
                        ...mockInventoryItem,
                        quantity: 5
                    }
                ];
                mockPrisma.inventoryItem.findMany.mockResolvedValue(lowStockItems);
                const result = await _prisma.default.inventoryItem.findMany({
                    where: {
                        quantity: {
                            lte: mockInventoryItem.minStockLevel
                        }
                    }
                });
                expect(result).toEqual(lowStockItems);
            });
        });
        describe("update", ()=>{
            it("should update inventory quantity", async ()=>{
                const updatedItem = {
                    ...mockInventoryItem,
                    quantity: 150
                };
                mockPrisma.inventoryItem.update.mockResolvedValue(updatedItem);
                const result = await _prisma.default.inventoryItem.update({
                    where: {
                        productId_shopId: {
                            productId: 1,
                            shopId: "shop1"
                        }
                    },
                    data: {
                        quantity: 150
                    }
                });
                expect(result).toEqual(updatedItem);
            });
        });
    });
    describe("Transaction Operations", ()=>{
        describe("$transaction", ()=>{
            it("should execute multiple operations in a transaction", async ()=>{
                const mockResults = [
                    mockUser,
                    mockProduct
                ];
                mockPrisma.$transaction.mockResolvedValue(mockResults);
                const result = await _prisma.default.$transaction([
                    _prisma.default.user.create({
                        data: {
                            username: "test",
                            email: "test@test.com"
                        }
                    }),
                    _prisma.default.product.create({
                        data: {
                            name: "Test Product",
                            price: 99.99
                        }
                    })
                ]);
                expect(mockPrisma.$transaction).toHaveBeenCalled();
                expect(result).toEqual(mockResults);
            });
            it("should handle transaction rollback on error", async ()=>{
                const error = new Error("Transaction failed");
                mockPrisma.$transaction.mockRejectedValue(error);
                await expect(_prisma.default.$transaction([
                    _prisma.default.user.create({
                        data: {
                            username: "test",
                            email: "test@test.com"
                        }
                    }),
                    _prisma.default.product.create({
                        data: {
                            name: "Test Product",
                            price: 99.99
                        }
                    })
                ])).rejects.toThrow("Transaction failed");
            });
        });
    });
    describe("Connection Management", ()=>{
        describe("$connect", ()=>{
            it("should connect to database", async ()=>{
                mockPrisma.$connect.mockResolvedValue(undefined);
                await _prisma.default.$connect();
                expect(mockPrisma.$connect).toHaveBeenCalled();
            });
        });
        describe("$disconnect", ()=>{
            it("should disconnect from database", async ()=>{
                mockPrisma.$disconnect.mockResolvedValue(undefined);
                await _prisma.default.$disconnect();
                expect(mockPrisma.$disconnect).toHaveBeenCalled();
            });
        });
    });
    describe("Error Handling", ()=>{
        it("should handle database connection errors", async ()=>{
            const connectionError = new Error("Database connection failed");
            mockPrisma.user.findMany.mockRejectedValue(connectionError);
            await expect(_prisma.default.user.findMany()).rejects.toThrow("Database connection failed");
        });
        it("should handle unique constraint violations", async ()=>{
            const uniqueError = new Error("Unique constraint failed");
            mockPrisma.user.create.mockRejectedValue(uniqueError);
            await expect(_prisma.default.user.create({
                data: {
                    username: "existing",
                    email: "existing@test.com"
                }
            })).rejects.toThrow("Unique constraint failed");
        });
        it("should handle foreign key constraint violations", async ()=>{
            const fkError = new Error("Foreign key constraint failed");
            mockPrisma.product.create.mockRejectedValue(fkError);
            await expect(_prisma.default.product.create({
                data: {
                    name: "Test",
                    price: 99.99,
                    categoryId: 999
                }
            })).rejects.toThrow("Foreign key constraint failed");
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWNoaW4vRG9jdW1lbnRzL21kLXNwb3J0cy0vdGVzdHMvdW5pdC9kYXRhYmFzZU9wZXJhdGlvbnMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaXhlZCBVbml0IHRlc3RzIGZvciBkYXRhYmFzZSBvcGVyYXRpb25zXG4vLyBUaGlzIGZpbGUgdGVzdHMgdmFyaW91cyBkYXRhYmFzZSBvcGVyYXRpb25zIGFuZCB1dGlsaXRpZXNcblxuaW1wb3J0IHsgamVzdCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuXG4vLyBDcmVhdGUgYSBjb21wcmVoZW5zaXZlIG1vY2sgZm9yIGFsbCBQcmlzbWEgbW9kZWxzXG5jb25zdCBjcmVhdGVNb2NrTW9kZWwgPSAoKSA9PiAoe1xuICBmaW5kTWFueTogamVzdC5mbigpLFxuICBmaW5kVW5pcXVlOiBqZXN0LmZuKCksXG4gIGZpbmRGaXJzdDogamVzdC5mbigpLFxuICBjcmVhdGU6IGplc3QuZm4oKSxcbiAgdXBkYXRlOiBqZXN0LmZuKCksXG4gIGRlbGV0ZTogamVzdC5mbigpLFxuICBjb3VudDogamVzdC5mbigpLFxuICBhZ2dyZWdhdGU6IGplc3QuZm4oKSxcbiAgdXBzZXJ0OiBqZXN0LmZuKCksXG4gIGRlbGV0ZU1hbnk6IGplc3QuZm4oKSxcbiAgdXBkYXRlTWFueTogamVzdC5mbigpLFxufSk7XG5cbi8vIE1vY2sgUHJpc21hIENsaWVudCBCRUZPUkUgaW1wb3J0aW5nXG5jb25zdCBtb2NrUHJpc21hID0ge1xuICB1c2VyOiBjcmVhdGVNb2NrTW9kZWwoKSxcbiAgcHJvZHVjdDogY3JlYXRlTW9ja01vZGVsKCksXG4gIGN1c3RvbWVyOiBjcmVhdGVNb2NrTW9kZWwoKSxcbiAgaW52b2ljZTogY3JlYXRlTW9ja01vZGVsKCksXG4gIGludmVudG9yeUl0ZW06IGNyZWF0ZU1vY2tNb2RlbCgpLFxuICBjYXRlZ29yeTogY3JlYXRlTW9ja01vZGVsKCksXG4gIHN1cHBsaWVyOiBjcmVhdGVNb2NrTW9kZWwoKSxcbiAgcHVyY2hhc2VJbnZvaWNlOiBjcmVhdGVNb2NrTW9kZWwoKSxcbiAgcHVyY2hhc2VJbnZvaWNlSXRlbTogY3JlYXRlTW9ja01vZGVsKCksXG4gIHNhbGVzSW52b2ljZTogY3JlYXRlTW9ja01vZGVsKCksXG4gIHNhbGVzSW52b2ljZUl0ZW06IGNyZWF0ZU1vY2tNb2RlbCgpLFxuICAkdHJhbnNhY3Rpb246IGplc3QuZm4oKSxcbiAgJGNvbm5lY3Q6IGplc3QuZm4oKSxcbiAgJGRpc2Nvbm5lY3Q6IGplc3QuZm4oKSxcbiAgJGV4ZWN1dGVSYXc6IGplc3QuZm4oKSxcbiAgJHF1ZXJ5UmF3OiBqZXN0LmZuKCksXG59O1xuXG4vLyBNb2NrIHRoZSBQcmlzbWEgbW9kdWxlXG5qZXN0Lm1vY2soJ0AvbGliL3ByaXNtYScsICgpID0+ICh7XG4gIF9fZXNNb2R1bGU6IHRydWUsXG4gIGRlZmF1bHQ6IG1vY2tQcmlzbWEsXG59KSk7XG5cbi8vIEltcG9ydCBhZnRlciBtb2NraW5nXG5pbXBvcnQgcHJpc21hIGZyb20gJ0AvbGliL3ByaXNtYSc7XG5pbXBvcnQgeyBEYXRhYmFzZU9wZXJhdGlvbnMgfSBmcm9tICdAL2xpYi9kYXRhYmFzZS9vcGVyYXRpb25zJztcbmltcG9ydCB7IERhdGFiYXNlRXJyb3IsIFZhbGlkYXRpb25FcnJvciB9IGZyb20gJ0AvbGliL2Vycm9ycyc7XG5cbmRlc2NyaWJlKCdEYXRhYmFzZSBPcGVyYXRpb25zIC0gUHJpc21hIE1vZGVscycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdVc2VyIE1vZGVsIE9wZXJhdGlvbnMnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1VzZXIgPSB7XG4gICAgICBpZDogMSxcbiAgICAgIHVzZXJuYW1lOiAndGVzdHVzZXInLFxuICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAnaGFzaGVkcGFzc3dvcmQnLFxuICAgICAgZmlyc3ROYW1lOiAnVGVzdCcsXG4gICAgICBsYXN0TmFtZTogJ1VzZXInLFxuICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICByb2xlSWQ6IDEsXG4gICAgICBzaG9wSWQ6ICdzaG9wMScsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfTtcblxuICAgIGRlc2NyaWJlKCdmaW5kTWFueScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgZmV0Y2ggYWxsIGFjdGl2ZSB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbW9ja1VzZXJzID0gW21vY2tVc2VyLCB7IC4uLm1vY2tVc2VyLCBpZDogMiwgdXNlcm5hbWU6ICd0ZXN0dXNlcjInIH1dO1xuICAgICAgICBtb2NrUHJpc21hLnVzZXIuZmluZE1hbnkubW9ja1Jlc29sdmVkVmFsdWUobW9ja1VzZXJzIGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZE1hbnkoe1xuICAgICAgICAgIHdoZXJlOiB7IGlzQWN0aXZlOiB0cnVlIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrUHJpc21hLnVzZXIuZmluZE1hbnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgICB3aGVyZTogeyBpc0FjdGl2ZTogdHJ1ZSB9LFxuICAgICAgICB9KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrVXNlcnMpO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMik7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBmZXRjaCB1c2VycyB3aXRoIHJvbGUgYW5kIHNob3AgcmVsYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrVXNlcnNXaXRoUmVsYXRpb25zID0gW3tcbiAgICAgICAgICAuLi5tb2NrVXNlcixcbiAgICAgICAgICByb2xlOiB7IGlkOiAxLCBuYW1lOiAnYWRtaW4nLCBwZXJtaXNzaW9uczogW10gfSxcbiAgICAgICAgICBzaG9wOiB7IGlkOiAnc2hvcDEnLCBuYW1lOiAnTWFpbiBTaG9wJyB9LFxuICAgICAgICB9XTtcbiAgICAgICAgbW9ja1ByaXNtYS51c2VyLmZpbmRNYW55Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2Vyc1dpdGhSZWxhdGlvbnMgYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kTWFueSh7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgcm9sZTogeyBpbmNsdWRlOiB7IHBlcm1pc3Npb25zOiB0cnVlIH0gfSxcbiAgICAgICAgICAgIHNob3A6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tQcmlzbWEudXNlci5maW5kTWFueSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIHJvbGU6IHsgaW5jbHVkZTogeyBwZXJtaXNzaW9uczogdHJ1ZSB9IH0sXG4gICAgICAgICAgICBzaG9wOiB0cnVlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBleHBlY3QocmVzdWx0WzBdKS50b0hhdmVQcm9wZXJ0eSgncm9sZScpO1xuICAgICAgICBleHBlY3QocmVzdWx0WzBdKS50b0hhdmVQcm9wZXJ0eSgnc2hvcCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnZmluZFVuaXF1ZScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgZmluZCB1c2VyIGJ5IGlkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBtb2NrUHJpc21hLnVzZXIuZmluZFVuaXF1ZS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVXNlciBhcyBhbnkpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiAxIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrUHJpc21hLnVzZXIuZmluZFVuaXF1ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiAxIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tVc2VyKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGZpbmQgdXNlciBieSBlbWFpbCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgbW9ja1ByaXNtYS51c2VyLmZpbmRVbmlxdWUubW9ja1Jlc29sdmVkVmFsdWUobW9ja1VzZXIgYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgICB3aGVyZTogeyBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrUHJpc21hLnVzZXIuZmluZFVuaXF1ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1VzZXIpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgcmV0dXJuIG51bGwgZm9yIG5vbi1leGlzdGVudCB1c2VyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBtb2NrUHJpc21hLnVzZXIuZmluZFVuaXF1ZS5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgICB3aGVyZTogeyBpZDogOTk5IH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdjcmVhdGUnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhIG5ldyB1c2VyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdVc2VyRGF0YSA9IHtcbiAgICAgICAgICB1c2VybmFtZTogJ25ld3VzZXInLFxuICAgICAgICAgIGVtYWlsOiAnbmV3QGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBwYXNzd29yZDogJ2hhc2hlZHBhc3N3b3JkJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdOZXcnLFxuICAgICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgICAgcm9sZUlkOiAyLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjcmVhdGVkVXNlciA9IHsgLi4ubW9ja1VzZXIsIC4uLm5ld1VzZXJEYXRhLCBpZDogMyB9O1xuICAgICAgICBtb2NrUHJpc21hLnVzZXIuY3JlYXRlLm1vY2tSZXNvbHZlZFZhbHVlKGNyZWF0ZWRVc2VyIGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiBuZXdVc2VyRGF0YSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KG1vY2tQcmlzbWEudXNlci5jcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgICBkYXRhOiBuZXdVc2VyRGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoY3JlYXRlZFVzZXIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgndXBkYXRlJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgdXNlciBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0geyBmaXJzdE5hbWU6ICdVcGRhdGVkJywgbGFzdE5hbWU6ICdOYW1lJyB9O1xuICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IHsgLi4ubW9ja1VzZXIsIC4uLnVwZGF0ZURhdGEgfTtcbiAgICAgICAgbW9ja1ByaXNtYS51c2VyLnVwZGF0ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh1cGRhdGVkVXNlciBhcyBhbnkpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7XG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IDEgfSxcbiAgICAgICAgICBkYXRhOiB1cGRhdGVEYXRhLFxuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QobW9ja1ByaXNtYS51c2VyLnVwZGF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiAxIH0sXG4gICAgICAgICAgZGF0YTogdXBkYXRlRGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwodXBkYXRlZFVzZXIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnZGVsZXRlJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBkZWxldGUgYSB1c2VyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBtb2NrUHJpc21hLnVzZXIuZGVsZXRlLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2VyIGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLnVzZXIuZGVsZXRlKHtcbiAgICAgICAgICB3aGVyZTogeyBpZDogMSB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QobW9ja1ByaXNtYS51c2VyLmRlbGV0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiAxIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tVc2VyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHJvZHVjdCBNb2RlbCBPcGVyYXRpb25zJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tQcm9kdWN0ID0ge1xuICAgICAgaWQ6IDEsXG4gICAgICBuYW1lOiAnVGVzdCBQcm9kdWN0JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBEZXNjcmlwdGlvbicsXG4gICAgICBwcmljZTogOTkuOTksXG4gICAgICBjb3N0UHJpY2U6IDUwLjAwLFxuICAgICAgc2t1OiAnVEVTVC0wMDEnLFxuICAgICAgYmFyY29kZTogJzEyMzQ1Njc4OTAnLFxuICAgICAgY2F0ZWdvcnlJZDogMSxcbiAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICBkZXNjcmliZSgnZmluZE1hbnknLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGZldGNoIGFsbCBhY3RpdmUgcHJvZHVjdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tQcm9kdWN0cyA9IFttb2NrUHJvZHVjdCwgeyAuLi5tb2NrUHJvZHVjdCwgaWQ6IDIsIG5hbWU6ICdQcm9kdWN0IDInIH1dO1xuICAgICAgICBtb2NrUHJpc21hLnByb2R1Y3QuZmluZE1hbnkubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Byb2R1Y3RzIGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLnByb2R1Y3QuZmluZE1hbnkoe1xuICAgICAgICAgIHdoZXJlOiB7IGlzQWN0aXZlOiB0cnVlIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrUHJpc21hLnByb2R1Y3QuZmluZE1hbnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgICB3aGVyZTogeyBpc0FjdGl2ZTogdHJ1ZSB9LFxuICAgICAgICB9KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrUHJvZHVjdHMpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgZmV0Y2ggcHJvZHVjdHMgd2l0aCBjYXRlZ29yeSBhbmQgaW52ZW50b3J5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrUHJvZHVjdHNXaXRoUmVsYXRpb25zID0gW3tcbiAgICAgICAgICAuLi5tb2NrUHJvZHVjdCxcbiAgICAgICAgICBjYXRlZ29yeTogeyBpZDogMSwgbmFtZTogJ0VsZWN0cm9uaWNzJyB9LFxuICAgICAgICAgIGludmVudG9yeUl0ZW1zOiBbeyBpZDogMSwgcXVhbnRpdHk6IDEwMCwgc2hvcElkOiAnc2hvcDEnIH1dLFxuICAgICAgICB9XTtcbiAgICAgICAgbW9ja1ByaXNtYS5wcm9kdWN0LmZpbmRNYW55Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQcm9kdWN0c1dpdGhSZWxhdGlvbnMgYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEucHJvZHVjdC5maW5kTWFueSh7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgY2F0ZWdvcnk6IHRydWUsXG4gICAgICAgICAgICBpbnZlbnRvcnlJdGVtczogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0WzBdKS50b0hhdmVQcm9wZXJ0eSgnY2F0ZWdvcnknKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdFswXSkudG9IYXZlUHJvcGVydHkoJ2ludmVudG9yeUl0ZW1zJyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdmaW5kVW5pcXVlJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBmaW5kIHByb2R1Y3QgYnkgaWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIG1vY2tQcmlzbWEucHJvZHVjdC5maW5kVW5pcXVlLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQcm9kdWN0IGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLnByb2R1Y3QuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgd2hlcmU6IHsgaWQ6IDEgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrUHJvZHVjdCk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBmaW5kIHByb2R1Y3QgYnkgU0tVJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBtb2NrUHJpc21hLnByb2R1Y3QuZmluZFVuaXF1ZS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUHJvZHVjdCBhcyBhbnkpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByaXNtYS5wcm9kdWN0LmZpbmRVbmlxdWUoe1xuICAgICAgICAgIHdoZXJlOiB7IHNrdTogJ1RFU1QtMDAxJyB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tQcm9kdWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2NyZWF0ZScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgbmV3IHByb2R1Y3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Byb2R1Y3REYXRhID0ge1xuICAgICAgICAgIG5hbWU6ICdOZXcgUHJvZHVjdCcsXG4gICAgICAgICAgcHJpY2U6IDE0OS45OSxcbiAgICAgICAgICBjb3N0UHJpY2U6IDc1LjAwLFxuICAgICAgICAgIHNrdTogJ05FVy0wMDEnLFxuICAgICAgICAgIGNhdGVnb3J5SWQ6IDEsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRQcm9kdWN0ID0geyAuLi5tb2NrUHJvZHVjdCwgLi4ubmV3UHJvZHVjdERhdGEsIGlkOiAzIH07XG4gICAgICAgIG1vY2tQcmlzbWEucHJvZHVjdC5jcmVhdGUubW9ja1Jlc29sdmVkVmFsdWUoY3JlYXRlZFByb2R1Y3QgYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEucHJvZHVjdC5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IG5ld1Byb2R1Y3REYXRhLFxuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKGNyZWF0ZWRQcm9kdWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ3VzdG9tZXIgTW9kZWwgT3BlcmF0aW9ucycsICgpID0+IHtcbiAgICBjb25zdCBtb2NrQ3VzdG9tZXIgPSB7XG4gICAgICBpZDogMSxcbiAgICAgIG5hbWU6ICdUZXN0IEN1c3RvbWVyJyxcbiAgICAgIGVtYWlsOiAnY3VzdG9tZXJAZXhhbXBsZS5jb20nLFxuICAgICAgcGhvbmU6ICcrMTIzNDU2Nzg5MCcsXG4gICAgICBhZGRyZXNzOiAnMTIzIFRlc3QgU3QnLFxuICAgICAgY2l0eTogJ1Rlc3QgQ2l0eScsXG4gICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICBkZXNjcmliZSgnZmluZE1hbnknLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGZldGNoIGFsbCBhY3RpdmUgY3VzdG9tZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrQ3VzdG9tZXJzID0gW21vY2tDdXN0b21lciwgeyAuLi5tb2NrQ3VzdG9tZXIsIGlkOiAyLCBuYW1lOiAnQ3VzdG9tZXIgMicgfV07XG4gICAgICAgIG1vY2tQcmlzbWEuY3VzdG9tZXIuZmluZE1hbnkubW9ja1Jlc29sdmVkVmFsdWUobW9ja0N1c3RvbWVycyBhcyBhbnkpO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByaXNtYS5jdXN0b21lci5maW5kTWFueSh7XG4gICAgICAgICAgd2hlcmU6IHsgc3RhdHVzOiAnYWN0aXZlJyB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tDdXN0b21lcnMpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgZmV0Y2ggY3VzdG9tZXJzIHdpdGggaW52b2ljZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tDdXN0b21lcnNXaXRoSW52b2ljZXMgPSBbe1xuICAgICAgICAgIC4uLm1vY2tDdXN0b21lcixcbiAgICAgICAgICBpbnZvaWNlczogW3sgaWQ6IDEsIHRvdGFsOiAxMDAuMDAsIHN0YXR1czogJ3BhaWQnIH1dLFxuICAgICAgICB9XTtcbiAgICAgICAgbW9ja1ByaXNtYS5jdXN0b21lci5maW5kTWFueS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ3VzdG9tZXJzV2l0aEludm9pY2VzIGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLmN1c3RvbWVyLmZpbmRNYW55KHtcbiAgICAgICAgICBpbmNsdWRlOiB7IGludm9pY2VzOiB0cnVlIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHRbMF0pLnRvSGF2ZVByb3BlcnR5KCdpbnZvaWNlcycpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnY3JlYXRlJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBuZXcgY3VzdG9tZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0N1c3RvbWVyRGF0YSA9IHtcbiAgICAgICAgICBuYW1lOiAnTmV3IEN1c3RvbWVyJyxcbiAgICAgICAgICBlbWFpbDogJ25ld0BjdXN0b21lci5jb20nLFxuICAgICAgICAgIHBob25lOiAnKzk4NzY1NDMyMTAnLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjcmVhdGVkQ3VzdG9tZXIgPSB7IC4uLm1vY2tDdXN0b21lciwgLi4ubmV3Q3VzdG9tZXJEYXRhLCBpZDogMyB9O1xuICAgICAgICBtb2NrUHJpc21hLmN1c3RvbWVyLmNyZWF0ZS5tb2NrUmVzb2x2ZWRWYWx1ZShjcmVhdGVkQ3VzdG9tZXIgYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuY3VzdG9tZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiBuZXdDdXN0b21lckRhdGEsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoY3JlYXRlZEN1c3RvbWVyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW52b2ljZSBNb2RlbCBPcGVyYXRpb25zJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tJbnZvaWNlID0ge1xuICAgICAgaWQ6IDEsXG4gICAgICBpbnZvaWNlTnVtYmVyOiAnSU5WLTAwMScsXG4gICAgICBjdXN0b21lcklkOiAxLFxuICAgICAgdG90YWw6IDE5OS45OSxcbiAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgcGF5bWVudE1ldGhvZDogJ0Nhc2gnLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICBkZXNjcmliZSgnZmluZE1hbnknLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGZldGNoIGludm9pY2VzIHdpdGggZmlsdGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbW9ja0ludm9pY2VzID0gW21vY2tJbnZvaWNlLCB7IC4uLm1vY2tJbnZvaWNlLCBpZDogMiwgaW52b2ljZU51bWJlcjogJ0lOVi0wMDInIH1dO1xuICAgICAgICBtb2NrUHJpc21hLmludm9pY2UuZmluZE1hbnkubW9ja1Jlc29sdmVkVmFsdWUobW9ja0ludm9pY2VzIGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLmludm9pY2UuZmluZE1hbnkoe1xuICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDoge1xuICAgICAgICAgICAgICBndGU6IG5ldyBEYXRlKCcyMDI0LTAxLTAxJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBleHBlY3QobW9ja1ByaXNtYS5pbnZvaWNlLmZpbmRNYW55KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICAgIGd0ZTogbmV3IERhdGUoJzIwMjQtMDEtMDEnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tJbnZvaWNlcyk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBmZXRjaCBpbnZvaWNlcyB3aXRoIGN1c3RvbWVyIGFuZCBpdGVtcycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbW9ja0ludm9pY2VzV2l0aFJlbGF0aW9ucyA9IFt7XG4gICAgICAgICAgLi4ubW9ja0ludm9pY2UsXG4gICAgICAgICAgY3VzdG9tZXI6IHsgaWQ6IDEsIG5hbWU6ICdUZXN0IEN1c3RvbWVyJyB9LFxuICAgICAgICAgIGl0ZW1zOiBbeyBpZDogMSwgcHJvZHVjdElkOiAxLCBxdWFudGl0eTogMiwgcHJpY2U6IDk5Ljk5IH1dLFxuICAgICAgICB9XTtcbiAgICAgICAgbW9ja1ByaXNtYS5pbnZvaWNlLmZpbmRNYW55Lm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tJbnZvaWNlc1dpdGhSZWxhdGlvbnMgYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuaW52b2ljZS5maW5kTWFueSh7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgY3VzdG9tZXI6IHRydWUsXG4gICAgICAgICAgICBpdGVtczogeyBpbmNsdWRlOiB7IHByb2R1Y3Q6IHRydWUgfSB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHRbMF0pLnRvSGF2ZVByb3BlcnR5KCdjdXN0b21lcicpO1xuICAgICAgICBleHBlY3QocmVzdWx0WzBdKS50b0hhdmVQcm9wZXJ0eSgnaXRlbXMnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2NyZWF0ZScsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgY3JlYXRlIGludm9pY2Ugd2l0aCBpdGVtcycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaW52b2ljZURhdGEgPSB7XG4gICAgICAgICAgaW52b2ljZU51bWJlcjogJ0lOVi0wMDMnLFxuICAgICAgICAgIGN1c3RvbWVySWQ6IDEsXG4gICAgICAgICAgdG90YWw6IDI5OS45OSxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgY3JlYXRlOiBbXG4gICAgICAgICAgICAgIHsgcHJvZHVjdElkOiAxLCBxdWFudGl0eTogMiwgcHJpY2U6IDk5Ljk5LCB0b3RhbDogMTk5Ljk4IH0sXG4gICAgICAgICAgICAgIHsgcHJvZHVjdElkOiAyLCBxdWFudGl0eTogMSwgcHJpY2U6IDEwMC4wMSwgdG90YWw6IDEwMC4wMSB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjcmVhdGVkSW52b2ljZSA9IHsgLi4ubW9ja0ludm9pY2UsIC4uLmludm9pY2VEYXRhLCBpZDogMyB9O1xuICAgICAgICBtb2NrUHJpc21hLmludm9pY2UuY3JlYXRlLm1vY2tSZXNvbHZlZFZhbHVlKGNyZWF0ZWRJbnZvaWNlIGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLmludm9pY2UuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiBpbnZvaWNlRGF0YSxcbiAgICAgICAgICBpbmNsdWRlOiB7IGl0ZW1zOiB0cnVlIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrUHJpc21hLmludm9pY2UuY3JlYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgICAgZGF0YTogaW52b2ljZURhdGEsXG4gICAgICAgICAgaW5jbHVkZTogeyBpdGVtczogdHJ1ZSB9LFxuICAgICAgICB9KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChjcmVhdGVkSW52b2ljZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ludmVudG9yeSBNb2RlbCBPcGVyYXRpb25zJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tJbnZlbnRvcnlJdGVtID0ge1xuICAgICAgaWQ6IDEsXG4gICAgICBwcm9kdWN0SWQ6IDEsXG4gICAgICBzaG9wSWQ6ICdzaG9wMScsXG4gICAgICBxdWFudGl0eTogMTAwLFxuICAgICAgbWluU3RvY2tMZXZlbDogMTAsXG4gICAgICBtYXhTdG9ja0xldmVsOiA1MDAsXG4gICAgICByZW9yZGVyUG9pbnQ6IDIwLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICBkZXNjcmliZSgnZmluZE1hbnknLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGZldGNoIGludmVudG9yeSBpdGVtcyBieSBzaG9wJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrSW52ZW50b3J5SXRlbXMgPSBbbW9ja0ludmVudG9yeUl0ZW0sIHsgLi4ubW9ja0ludmVudG9yeUl0ZW0sIGlkOiAyLCBwcm9kdWN0SWQ6IDIgfV07XG4gICAgICAgIG1vY2tQcmlzbWEuaW52ZW50b3J5SXRlbS5maW5kTWFueS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrSW52ZW50b3J5SXRlbXMgYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuaW52ZW50b3J5SXRlbS5maW5kTWFueSh7XG4gICAgICAgICAgd2hlcmU6IHsgc2hvcElkOiAnc2hvcDEnIH0sXG4gICAgICAgICAgaW5jbHVkZTogeyBwcm9kdWN0OiB0cnVlIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrUHJpc21hLmludmVudG9yeUl0ZW0uZmluZE1hbnkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgICB3aGVyZTogeyBzaG9wSWQ6ICdzaG9wMScgfSxcbiAgICAgICAgICBpbmNsdWRlOiB7IHByb2R1Y3Q6IHRydWUgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja0ludmVudG9yeUl0ZW1zKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGZldGNoIGxvdyBzdG9jayBpdGVtcycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbG93U3RvY2tJdGVtcyA9IFt7IC4uLm1vY2tJbnZlbnRvcnlJdGVtLCBxdWFudGl0eTogNSB9XTtcbiAgICAgICAgbW9ja1ByaXNtYS5pbnZlbnRvcnlJdGVtLmZpbmRNYW55Lm1vY2tSZXNvbHZlZFZhbHVlKGxvd1N0b2NrSXRlbXMgYXMgYW55KTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuaW52ZW50b3J5SXRlbS5maW5kTWFueSh7XG4gICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgIHF1YW50aXR5OiB7IGx0ZTogbW9ja0ludmVudG9yeUl0ZW0ubWluU3RvY2tMZXZlbCB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobG93U3RvY2tJdGVtcyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCd1cGRhdGUnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIHVwZGF0ZSBpbnZlbnRvcnkgcXVhbnRpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRJdGVtID0geyAuLi5tb2NrSW52ZW50b3J5SXRlbSwgcXVhbnRpdHk6IDE1MCB9O1xuICAgICAgICBtb2NrUHJpc21hLmludmVudG9yeUl0ZW0udXBkYXRlLm1vY2tSZXNvbHZlZFZhbHVlKHVwZGF0ZWRJdGVtIGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLmludmVudG9yeUl0ZW0udXBkYXRlKHtcbiAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgcHJvZHVjdElkX3Nob3BJZDoge1xuICAgICAgICAgICAgICBwcm9kdWN0SWQ6IDEsXG4gICAgICAgICAgICAgIHNob3BJZDogJ3Nob3AxJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRhOiB7IHF1YW50aXR5OiAxNTAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh1cGRhdGVkSXRlbSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RyYW5zYWN0aW9uIE9wZXJhdGlvbnMnLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJyR0cmFuc2FjdGlvbicsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBtdWx0aXBsZSBvcGVyYXRpb25zIGluIGEgdHJhbnNhY3Rpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tSZXN1bHRzID0gW21vY2tVc2VyLCBtb2NrUHJvZHVjdF07XG4gICAgICAgIG1vY2tQcmlzbWEuJHRyYW5zYWN0aW9uLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tSZXN1bHRzIGFzIGFueSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLiR0cmFuc2FjdGlvbihbXG4gICAgICAgICAgcHJpc21hLnVzZXIuY3JlYXRlKHsgZGF0YTogeyB1c2VybmFtZTogJ3Rlc3QnLCBlbWFpbDogJ3Rlc3RAdGVzdC5jb20nIH0gfSksXG4gICAgICAgICAgcHJpc21hLnByb2R1Y3QuY3JlYXRlKHsgZGF0YTogeyBuYW1lOiAnVGVzdCBQcm9kdWN0JywgcHJpY2U6IDk5Ljk5IH0gfSksXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGV4cGVjdChtb2NrUHJpc21hLiR0cmFuc2FjdGlvbikudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tSZXN1bHRzKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGhhbmRsZSB0cmFuc2FjdGlvbiByb2xsYmFjayBvbiBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoJ1RyYW5zYWN0aW9uIGZhaWxlZCcpO1xuICAgICAgICBtb2NrUHJpc21hLiR0cmFuc2FjdGlvbi5tb2NrUmVqZWN0ZWRWYWx1ZShlcnJvcik7XG5cbiAgICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICAgIHByaXNtYS4kdHJhbnNhY3Rpb24oW1xuICAgICAgICAgICAgcHJpc21hLnVzZXIuY3JlYXRlKHsgZGF0YTogeyB1c2VybmFtZTogJ3Rlc3QnLCBlbWFpbDogJ3Rlc3RAdGVzdC5jb20nIH0gfSksXG4gICAgICAgICAgICBwcmlzbWEucHJvZHVjdC5jcmVhdGUoeyBkYXRhOiB7IG5hbWU6ICdUZXN0IFByb2R1Y3QnLCBwcmljZTogOTkuOTkgfSB9KSxcbiAgICAgICAgICBdKVxuICAgICAgICApLnJlamVjdHMudG9UaHJvdygnVHJhbnNhY3Rpb24gZmFpbGVkJyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Nvbm5lY3Rpb24gTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICBkZXNjcmliZSgnJGNvbm5lY3QnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGNvbm5lY3QgdG8gZGF0YWJhc2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIG1vY2tQcmlzbWEuJGNvbm5lY3QubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcblxuICAgICAgICBhd2FpdCBwcmlzbWEuJGNvbm5lY3QoKTtcblxuICAgICAgICBleHBlY3QobW9ja1ByaXNtYS4kY29ubmVjdCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgnJGRpc2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGRpc2Nvbm5lY3QgZnJvbSBkYXRhYmFzZScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgbW9ja1ByaXNtYS4kZGlzY29ubmVjdC5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuXG4gICAgICAgIGF3YWl0IHByaXNtYS4kZGlzY29ubmVjdCgpO1xuXG4gICAgICAgIGV4cGVjdChtb2NrUHJpc21hLiRkaXNjb25uZWN0KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRhdGFiYXNlIGNvbm5lY3Rpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29ubmVjdGlvbkVycm9yID0gbmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgICAgbW9ja1ByaXNtYS51c2VyLmZpbmRNYW55Lm1vY2tSZWplY3RlZFZhbHVlKGNvbm5lY3Rpb25FcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChwcmlzbWEudXNlci5maW5kTWFueSgpKS5yZWplY3RzLnRvVGhyb3coJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmlxdWUgY29uc3RyYWludCB2aW9sYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdW5pcXVlRXJyb3IgPSBuZXcgRXJyb3IoJ1VuaXF1ZSBjb25zdHJhaW50IGZhaWxlZCcpO1xuICAgICAgbW9ja1ByaXNtYS51c2VyLmNyZWF0ZS5tb2NrUmVqZWN0ZWRWYWx1ZSh1bmlxdWVFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7IHVzZXJuYW1lOiAnZXhpc3RpbmcnLCBlbWFpbDogJ2V4aXN0aW5nQHRlc3QuY29tJyB9LFxuICAgICAgICB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coJ1VuaXF1ZSBjb25zdHJhaW50IGZhaWxlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZm9yZWlnbiBrZXkgY29uc3RyYWludCB2aW9sYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmtFcnJvciA9IG5ldyBFcnJvcignRm9yZWlnbiBrZXkgY29uc3RyYWludCBmYWlsZWQnKTtcbiAgICAgIG1vY2tQcmlzbWEucHJvZHVjdC5jcmVhdGUubW9ja1JlamVjdGVkVmFsdWUoZmtFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgcHJpc21hLnByb2R1Y3QuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7IG5hbWU6ICdUZXN0JywgcHJpY2U6IDk5Ljk5LCBjYXRlZ29yeUlkOiA5OTkgfSxcbiAgICAgICAgfSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KCdGb3JlaWduIGtleSBjb25zdHJhaW50IGZhaWxlZCcpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6WyJjcmVhdGVNb2NrTW9kZWwiLCJmaW5kTWFueSIsImplc3QiLCJmbiIsImZpbmRVbmlxdWUiLCJmaW5kRmlyc3QiLCJjcmVhdGUiLCJ1cGRhdGUiLCJkZWxldGUiLCJjb3VudCIsImFnZ3JlZ2F0ZSIsInVwc2VydCIsImRlbGV0ZU1hbnkiLCJ1cGRhdGVNYW55IiwibW9ja1ByaXNtYSIsInVzZXIiLCJwcm9kdWN0IiwiY3VzdG9tZXIiLCJpbnZvaWNlIiwiaW52ZW50b3J5SXRlbSIsImNhdGVnb3J5Iiwic3VwcGxpZXIiLCJwdXJjaGFzZUludm9pY2UiLCJwdXJjaGFzZUludm9pY2VJdGVtIiwic2FsZXNJbnZvaWNlIiwic2FsZXNJbnZvaWNlSXRlbSIsIiR0cmFuc2FjdGlvbiIsIiRjb25uZWN0IiwiJGRpc2Nvbm5lY3QiLCIkZXhlY3V0ZVJhdyIsIiRxdWVyeVJhdyIsIm1vY2siLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrVXNlciIsImlkIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJpc0FjdGl2ZSIsInJvbGVJZCIsInNob3BJZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ1cGRhdGVkQXQiLCJpdCIsIm1vY2tVc2VycyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwicmVzdWx0IiwicHJpc21hIiwid2hlcmUiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRvRXF1YWwiLCJ0b0hhdmVMZW5ndGgiLCJtb2NrVXNlcnNXaXRoUmVsYXRpb25zIiwicm9sZSIsIm5hbWUiLCJwZXJtaXNzaW9ucyIsInNob3AiLCJpbmNsdWRlIiwidG9IYXZlUHJvcGVydHkiLCJ0b0JlTnVsbCIsIm5ld1VzZXJEYXRhIiwiY3JlYXRlZFVzZXIiLCJkYXRhIiwidXBkYXRlRGF0YSIsInVwZGF0ZWRVc2VyIiwibW9ja1Byb2R1Y3QiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiY29zdFByaWNlIiwic2t1IiwiYmFyY29kZSIsImNhdGVnb3J5SWQiLCJtb2NrUHJvZHVjdHMiLCJtb2NrUHJvZHVjdHNXaXRoUmVsYXRpb25zIiwiaW52ZW50b3J5SXRlbXMiLCJxdWFudGl0eSIsIm5ld1Byb2R1Y3REYXRhIiwiY3JlYXRlZFByb2R1Y3QiLCJtb2NrQ3VzdG9tZXIiLCJwaG9uZSIsImFkZHJlc3MiLCJjaXR5Iiwic3RhdHVzIiwibW9ja0N1c3RvbWVycyIsIm1vY2tDdXN0b21lcnNXaXRoSW52b2ljZXMiLCJpbnZvaWNlcyIsInRvdGFsIiwibmV3Q3VzdG9tZXJEYXRhIiwiY3JlYXRlZEN1c3RvbWVyIiwibW9ja0ludm9pY2UiLCJpbnZvaWNlTnVtYmVyIiwiY3VzdG9tZXJJZCIsInBheW1lbnRNZXRob2QiLCJtb2NrSW52b2ljZXMiLCJndGUiLCJvcmRlckJ5IiwibW9ja0ludm9pY2VzV2l0aFJlbGF0aW9ucyIsIml0ZW1zIiwicHJvZHVjdElkIiwiaW52b2ljZURhdGEiLCJjcmVhdGVkSW52b2ljZSIsIm1vY2tJbnZlbnRvcnlJdGVtIiwibWluU3RvY2tMZXZlbCIsIm1heFN0b2NrTGV2ZWwiLCJyZW9yZGVyUG9pbnQiLCJtb2NrSW52ZW50b3J5SXRlbXMiLCJsb3dTdG9ja0l0ZW1zIiwibHRlIiwidXBkYXRlZEl0ZW0iLCJwcm9kdWN0SWRfc2hvcElkIiwibW9ja1Jlc3VsdHMiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiZXJyb3IiLCJFcnJvciIsIm1vY2tSZWplY3RlZFZhbHVlIiwicmVqZWN0cyIsInRvVGhyb3ciLCJ1bmRlZmluZWQiLCJjb25uZWN0aW9uRXJyb3IiLCJ1bmlxdWVFcnJvciIsImZrRXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBLDJDQUEyQztBQUMzQyw0REFBNEQ7Ozs7O3lCQUV2QzsrREE0Q0Y7Ozs7OztBQTFDbkIsb0RBQW9EO0FBQ3BELE1BQU1BLGtCQUFrQixJQUFPLENBQUE7UUFDN0JDLFVBQVVDLGFBQUksQ0FBQ0MsRUFBRTtRQUNqQkMsWUFBWUYsYUFBSSxDQUFDQyxFQUFFO1FBQ25CRSxXQUFXSCxhQUFJLENBQUNDLEVB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