0f2c200964e853c0da7ec2310b6dc78a
// Fixed Purchase Invoices Integration Test Suite
// This file contains the corrected version of purchaseInvoices.test.ts
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _client = require("@prisma/client");
const _prisma = /*#__PURE__*/ _interop_require_default(require("../../src/lib/prisma"));
const _purchaseInvoiceService = require("../../src/services/purchaseInvoiceService");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Create a proper test database instance
const testPrisma = new _client.PrismaClient({
    datasources: {
        db: {
            url: process.env.TEST_DATABASE_URL || process.env.DATABASE_URL
        }
    }
});
// Mock the prisma import to use our test instance
_globals.jest.mock("@/lib/prisma", ()=>({
        __esModule: true,
        default: testPrisma,
        prisma: testPrisma
    }));
// Mock the db module as well
_globals.jest.mock("@/lib/db", ()=>({
        __esModule: true,
        default: testPrisma,
        db: testPrisma,
        prisma: testPrisma
    }));
// Ensure prisma is the test instance
const actualPrisma = testPrisma;
describe("Purchase Invoices Integration Tests", ()=>{
    let purchaseInvoiceService;
    // Test data
    let testSupplier;
    let testProduct;
    let testUser;
    let testCategory;
    beforeAll(async ()=>{
        // Initialize service
        purchaseInvoiceService = new _purchaseInvoiceService.PurchaseInvoiceService();
        // Connect to test database
        try {
            await testPrisma.$connect();
            console.log("Connected to test database");
        } catch (error) {
            console.error("Failed to connect to test database:", error);
            throw error;
        }
    });
    beforeEach(async ()=>{
        // Clean up database before each test
        try {
            // Delete in correct order to respect foreign key constraints
            await testPrisma.purchaseInvoiceItem.deleteMany({});
            await testPrisma.purchaseInvoice.deleteMany({});
            await testPrisma.inventoryItem.deleteMany({});
            await testPrisma.product.deleteMany({});
            await testPrisma.category.deleteMany({});
            await testPrisma.supplier.deleteMany({});
            await testPrisma.user.deleteMany({});
            console.log("Database cleaned up successfully");
        } catch (error) {
            console.warn("Cleanup warning:", error.message);
        // Continue with test setup even if cleanup fails
        }
        // Create test data
        try {
            // Create test category
            testCategory = await testPrisma.category.create({
                data: {
                    name: "Test Category",
                    description: "Category for testing"
                }
            });
            // Create test user
            testUser = await testPrisma.user.create({
                data: {
                    email: "test@example.com",
                    password: "hashed-password",
                    role: "ADMIN",
                    isActive: true
                }
            });
            // Create test supplier
            testSupplier = await testPrisma.supplier.create({
                data: {
                    name: "Test Supplier",
                    email: "supplier@example.com",
                    phone: "1234567890",
                    address: "123 Test Street",
                    isActive: true
                }
            });
            // Create test product
            testProduct = await testPrisma.product.create({
                data: {
                    name: "Test Product",
                    sku: "TEST-001",
                    price: 99.99,
                    cost: 50.00,
                    categoryId: testCategory.id,
                    status: _client.ProductStatus.ACTIVE,
                    description: "Test product for purchase invoice testing"
                }
            });
            console.log("Test data created successfully");
        } catch (error) {
            console.error("Failed to create test data:", error);
            throw error;
        }
    });
    afterEach(async ()=>{
        // Clean up after each test
        try {
            await testPrisma.purchaseInvoiceItem.deleteMany({});
            await testPrisma.purchaseInvoice.deleteMany({});
            await testPrisma.inventoryItem.deleteMany({});
            await testPrisma.product.deleteMany({});
            await testPrisma.category.deleteMany({});
            await testPrisma.supplier.deleteMany({});
            await testPrisma.user.deleteMany({});
        } catch (error) {
            console.warn("Cleanup error:", error.message);
        }
    });
    afterAll(async ()=>{
        // Final cleanup and disconnect
        try {
            await testPrisma.purchaseInvoiceItem.deleteMany({});
            await testPrisma.purchaseInvoice.deleteMany({});
            await testPrisma.inventoryItem.deleteMany({});
            await testPrisma.product.deleteMany({});
            await testPrisma.category.deleteMany({});
            await testPrisma.supplier.deleteMany({});
            await testPrisma.user.deleteMany({});
        } catch (error) {
            console.warn("Final cleanup error:", error.message);
        } finally{
            await testPrisma.$disconnect();
            console.log("Disconnected from test database");
        }
    });
    describe("Purchase Invoice Creation", ()=>{
        it("should create a purchase invoice successfully", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-001",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: _client.PurchaseInvoiceStatus.PENDING,
                subtotal: 500.00,
                taxAmount: 50.00,
                totalAmount: 550.00,
                notes: "Test purchase invoice",
                createdBy: testUser.id
            };
            // Act
            const result = await purchaseInvoiceService.createPurchaseInvoice(invoiceData);
            // Assert
            expect(result).toBeDefined();
            expect(result.id).toBeDefined();
            expect(result.invoiceNumber).toBe("PI-001");
            expect(result.supplierId).toBe(testSupplier.id);
            expect(result.status).toBe(_client.PurchaseInvoiceStatus.PENDING);
            expect(result.totalAmount).toBe(550.00);
            // Verify in database
            const dbInvoice = await _prisma.default.purchaseInvoice.findUnique({
                where: {
                    id: result.id
                }
            });
            expect(dbInvoice).toBeDefined();
            expect(dbInvoice?.invoiceNumber).toBe("PI-001");
        });
        it("should create purchase invoice with items", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-002",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: _client.PurchaseInvoiceStatus.PENDING,
                createdBy: testUser.id,
                items: [
                    {
                        productId: testProduct.id,
                        quantity: 10,
                        unitCost: 50.00,
                        totalCost: 500.00
                    }
                ]
            };
            // Act
            const result = await purchaseInvoiceService.createPurchaseInvoiceWithItems(invoiceData);
            // Assert
            expect(result).toBeDefined();
            expect(result.id).toBeDefined();
            // Verify items were created
            const invoiceItems = await _prisma.default.purchaseInvoiceItem.findMany({
                where: {
                    purchaseInvoiceId: result.id
                }
            });
            expect(invoiceItems).toHaveLength(1);
            expect(invoiceItems[0].productId).toBe(testProduct.id);
            expect(invoiceItems[0].quantity).toBe(10);
            expect(invoiceItems[0].unitCost).toBe(50.00);
        });
        it("should validate required fields", async ()=>{
            // Arrange
            const invalidData = {
                // Missing required fields
                invoiceNumber: "PI-003"
            };
            // Act & Assert
            await expect(purchaseInvoiceService.createPurchaseInvoice(invalidData)).rejects.toThrow();
        });
        it("should prevent duplicate invoice numbers", async ()=>{
            // Arrange
            const invoiceData1 = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-DUPLICATE",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: _client.PurchaseInvoiceStatus.PENDING,
                subtotal: 100.00,
                totalAmount: 100.00,
                createdBy: testUser.id
            };
            const invoiceData2 = {
                ...invoiceData1
            };
            // Act
            await purchaseInvoiceService.createPurchaseInvoice(invoiceData1);
            // Assert
            await expect(purchaseInvoiceService.createPurchaseInvoice(invoiceData2)).rejects.toThrow(/unique constraint/i);
        });
    });
    describe("Purchase Invoice Retrieval", ()=>{
        let testInvoice;
        beforeEach(async ()=>{
            // Create a test invoice for retrieval tests
            testInvoice = await _prisma.default.purchaseInvoice.create({
                data: {
                    supplierId: testSupplier.id,
                    invoiceNumber: "PI-RETRIEVE-001",
                    invoiceDate: new Date(),
                    dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                    status: _client.PurchaseInvoiceStatus.PENDING,
                    subtotal: 200.00,
                    taxAmount: 20.00,
                    totalAmount: 220.00,
                    createdBy: testUser.id
                }
            });
        });
        it("should retrieve purchase invoice by ID", async ()=>{
            // Act
            const result = await purchaseInvoiceService.getPurchaseInvoiceById(testInvoice.id);
            // Assert
            expect(result).toBeDefined();
            expect(result?.id).toBe(testInvoice.id);
            expect(result?.invoiceNumber).toBe("PI-RETRIEVE-001");
            expect(result?.totalAmount).toBe(220.00);
        });
        it("should retrieve purchase invoice with supplier details", async ()=>{
            // Act
            const result = await purchaseInvoiceService.getPurchaseInvoiceWithDetails(testInvoice.id);
            // Assert
            expect(result).toBeDefined();
            expect(result?.supplier).toBeDefined();
            expect(result?.supplier.name).toBe("Test Supplier");
        });
        it("should return null for non-existent invoice", async ()=>{
            // Act
            const result = await purchaseInvoiceService.getPurchaseInvoiceById(99999);
            // Assert
            expect(result).toBeNull();
        });
        it("should retrieve all purchase invoices with pagination", async ()=>{
            // Arrange - Create additional invoices
            await _prisma.default.purchaseInvoice.createMany({
                data: [
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-PAGE-001",
                        invoiceDate: new Date(),
                        dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                        status: _client.PurchaseInvoiceStatus.PENDING,
                        subtotal: 100.00,
                        totalAmount: 100.00,
                        createdBy: testUser.id
                    },
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-PAGE-002",
                        invoiceDate: new Date(),
                        dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                        status: _client.PurchaseInvoiceStatus.PENDING,
                        subtotal: 150.00,
                        totalAmount: 150.00,
                        createdBy: testUser.id
                    }
                ]
            });
            // Act
            const result = await purchaseInvoiceService.getPurchaseInvoices({
                page: 1,
                limit: 2
            });
            // Assert
            expect(result.invoices).toHaveLength(2);
            expect(result.total).toBeGreaterThanOrEqual(3);
            expect(result.page).toBe(1);
            expect(result.limit).toBe(2);
        });
    });
    describe("Purchase Invoice Updates", ()=>{
        let testInvoice;
        beforeEach(async ()=>{
            testInvoice = await _prisma.default.purchaseInvoice.create({
                data: {
                    supplierId: testSupplier.id,
                    invoiceNumber: "PI-UPDATE-001",
                    invoiceDate: new Date(),
                    dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                    status: _client.PurchaseInvoiceStatus.PENDING,
                    subtotal: 300.00,
                    totalAmount: 300.00,
                    createdBy: testUser.id
                }
            });
        });
        it("should update purchase invoice status", async ()=>{
            // Act
            const result = await purchaseInvoiceService.updatePurchaseInvoiceStatus(testInvoice.id, _client.PurchaseInvoiceStatus.APPROVED);
            // Assert
            expect(result.status).toBe(_client.PurchaseInvoiceStatus.APPROVED);
            // Verify in database
            const dbInvoice = await _prisma.default.purchaseInvoice.findUnique({
                where: {
                    id: testInvoice.id
                }
            });
            expect(dbInvoice?.status).toBe(_client.PurchaseInvoiceStatus.APPROVED);
        });
        it("should update purchase invoice details", async ()=>{
            // Arrange
            const updateData = {
                notes: "Updated notes",
                subtotal: 350.00,
                taxAmount: 35.00,
                totalAmount: 385.00
            };
            // Act
            const result = await purchaseInvoiceService.updatePurchaseInvoice(testInvoice.id, updateData);
            // Assert
            expect(result.notes).toBe("Updated notes");
            expect(result.totalAmount).toBe(385.00);
        });
        it("should prevent updating approved invoices", async ()=>{
            // Arrange - First approve the invoice
            await purchaseInvoiceService.updatePurchaseInvoiceStatus(testInvoice.id, _client.PurchaseInvoiceStatus.APPROVED);
            // Act & Assert
            await expect(purchaseInvoiceService.updatePurchaseInvoice(testInvoice.id, {
                notes: "Should not be allowed"
            })).rejects.toThrow(/cannot be modified/i);
        });
    });
    describe("Purchase Invoice Deletion", ()=>{
        let testInvoice;
        beforeEach(async ()=>{
            testInvoice = await _prisma.default.purchaseInvoice.create({
                data: {
                    supplierId: testSupplier.id,
                    invoiceNumber: "PI-DELETE-001",
                    invoiceDate: new Date(),
                    dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                    status: _client.PurchaseInvoiceStatus.PENDING,
                    subtotal: 100.00,
                    totalAmount: 100.00,
                    createdBy: testUser.id
                }
            });
        });
        it("should soft delete purchase invoice", async ()=>{
            // Act
            const result = await purchaseInvoiceService.deletePurchaseInvoice(testInvoice.id);
            // Assert
            expect(result).toBe(true);
            // Verify soft deletion
            const dbInvoice = await _prisma.default.purchaseInvoice.findUnique({
                where: {
                    id: testInvoice.id
                }
            });
            expect(dbInvoice?.isDeleted).toBe(true);
        });
        it("should prevent deletion of approved invoices", async ()=>{
            // Arrange
            await purchaseInvoiceService.updatePurchaseInvoiceStatus(testInvoice.id, _client.PurchaseInvoiceStatus.APPROVED);
            // Act & Assert
            await expect(purchaseInvoiceService.deletePurchaseInvoice(testInvoice.id)).rejects.toThrow(/cannot be deleted/i);
        });
    });
    describe("Purchase Invoice Search and Filtering", ()=>{
        beforeEach(async ()=>{
            // Create multiple test invoices with different statuses and dates
            await _prisma.default.purchaseInvoice.createMany({
                data: [
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-SEARCH-001",
                        invoiceDate: new Date("2024-01-01"),
                        dueDate: new Date("2024-01-31"),
                        status: _client.PurchaseInvoiceStatus.PENDING,
                        subtotal: 100.00,
                        totalAmount: 100.00,
                        createdBy: testUser.id
                    },
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-SEARCH-002",
                        invoiceDate: new Date("2024-02-01"),
                        dueDate: new Date("2024-02-28"),
                        status: _client.PurchaseInvoiceStatus.APPROVED,
                        subtotal: 200.00,
                        totalAmount: 200.00,
                        createdBy: testUser.id
                    },
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-SEARCH-003",
                        invoiceDate: new Date("2024-03-01"),
                        dueDate: new Date("2024-03-31"),
                        status: _client.PurchaseInvoiceStatus.PAID,
                        subtotal: 300.00,
                        totalAmount: 300.00,
                        createdBy: testUser.id
                    }
                ]
            });
        });
        it("should search invoices by invoice number", async ()=>{
            // Act
            const result = await purchaseInvoiceService.searchPurchaseInvoices({
                invoiceNumber: "PI-SEARCH-002"
            });
            // Assert
            expect(result).toHaveLength(1);
            expect(result[0].invoiceNumber).toBe("PI-SEARCH-002");
        });
        it("should filter invoices by status", async ()=>{
            // Act
            const result = await purchaseInvoiceService.searchPurchaseInvoices({
                status: _client.PurchaseInvoiceStatus.APPROVED
            });
            // Assert
            expect(result).toHaveLength(1);
            expect(result[0].status).toBe(_client.PurchaseInvoiceStatus.APPROVED);
        });
        it("should filter invoices by date range", async ()=>{
            // Act
            const result = await purchaseInvoiceService.searchPurchaseInvoices({
                dateFrom: new Date("2024-02-01"),
                dateTo: new Date("2024-03-31")
            });
            // Assert
            expect(result).toHaveLength(2);
            expect(result.every((invoice)=>invoice.invoiceDate >= new Date("2024-02-01") && invoice.invoiceDate <= new Date("2024-03-31"))).toBe(true);
        });
        it("should filter invoices by supplier", async ()=>{
            // Act
            const result = await purchaseInvoiceService.searchPurchaseInvoices({
                supplierId: testSupplier.id
            });
            // Assert
            expect(result.length).toBeGreaterThanOrEqual(3);
            expect(result.every((invoice)=>invoice.supplierId === testSupplier.id)).toBe(true);
        });
    });
    describe("Purchase Invoice Business Logic", ()=>{
        it("should calculate totals correctly", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-CALC-001",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: _client.PurchaseInvoiceStatus.PENDING,
                createdBy: testUser.id,
                items: [
                    {
                        productId: testProduct.id,
                        quantity: 5,
                        unitCost: 20.00,
                        totalCost: 100.00
                    },
                    {
                        productId: testProduct.id,
                        quantity: 3,
                        unitCost: 30.00,
                        totalCost: 90.00
                    }
                ],
                taxRate: 0.10 // 10% tax
            };
            // Act
            const result = await purchaseInvoiceService.createPurchaseInvoiceWithCalculations(invoiceData);
            // Assert
            expect(result.subtotal).toBe(190.00); // 100 + 90
            expect(result.taxAmount).toBe(19.00); // 190 * 0.10
            expect(result.totalAmount).toBe(209.00); // 190 + 19
        });
        it("should update inventory when invoice is approved", async ()=>{
            // Arrange
            const invoice = await _prisma.default.purchaseInvoice.create({
                data: {
                    supplierId: testSupplier.id,
                    invoiceNumber: "PI-INVENTORY-001",
                    invoiceDate: new Date(),
                    dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                    status: _client.PurchaseInvoiceStatus.PENDING,
                    subtotal: 500.00,
                    totalAmount: 500.00,
                    createdBy: testUser.id
                }
            });
            await _prisma.default.purchaseInvoiceItem.create({
                data: {
                    purchaseInvoiceId: invoice.id,
                    productId: testProduct.id,
                    quantity: 10,
                    unitCost: 50.00,
                    totalCost: 500.00
                }
            });
            // Act
            await purchaseInvoiceService.approvePurchaseInvoice(invoice.id);
            // Assert
            const inventoryItems = await _prisma.default.inventoryItem.findMany({
                where: {
                    productId: testProduct.id
                }
            });
            expect(inventoryItems).toHaveLength(1);
            expect(inventoryItems[0].quantity).toBe(10);
            expect(inventoryItems[0].unitCost).toBe(50.00);
        });
    });
    describe("Error Handling and Edge Cases", ()=>{
        it("should handle concurrent invoice creation", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-CONCURRENT-001",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: _client.PurchaseInvoiceStatus.PENDING,
                subtotal: 100.00,
                totalAmount: 100.00,
                createdBy: testUser.id
            };
            // Act - Create multiple invoices concurrently
            const promises = Array(3).fill(null).map((_, index)=>purchaseInvoiceService.createPurchaseInvoice({
                    ...invoiceData,
                    invoiceNumber: `PI-CONCURRENT-${index + 1}`
                }));
            const results = await Promise.allSettled(promises);
            // Assert
            const successful = results.filter((r)=>r.status === "fulfilled");
            expect(successful).toHaveLength(3);
        });
        it("should handle invalid product references", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-INVALID-001",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: _client.PurchaseInvoiceStatus.PENDING,
                createdBy: testUser.id,
                items: [
                    {
                        productId: 99999,
                        quantity: 1,
                        unitCost: 10.00,
                        totalCost: 10.00
                    }
                ]
            };
            // Act & Assert
            await expect(purchaseInvoiceService.createPurchaseInvoiceWithItems(invoiceData)).rejects.toThrow();
        });
        it("should handle database transaction failures", async ()=>{
            // This test would require more sophisticated mocking to simulate transaction failures
            // For now, we'll test that the service handles basic validation errors
            // Arrange
            const invalidData = {
                // Missing required supplierId
                invoiceNumber: "PI-INVALID-002",
                invoiceDate: new Date(),
                status: _client.PurchaseInvoiceStatus.PENDING
            };
            // Act & Assert
            await expect(purchaseInvoiceService.createPurchaseInvoice(invalidData)).rejects.toThrow();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWNoaW4vRG9jdW1lbnRzL21kLXNwb3J0cy0vdGVzdHMvaW50ZWdyYXRpb24vcHVyY2hhc2VJbnZvaWNlcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpeGVkIFB1cmNoYXNlIEludm9pY2VzIEludGVncmF0aW9uIFRlc3QgU3VpdGVcbi8vIFRoaXMgZmlsZSBjb250YWlucyB0aGUgY29ycmVjdGVkIHZlcnNpb24gb2YgcHVyY2hhc2VJbnZvaWNlcy50ZXN0LnRzXG5cbmltcG9ydCB7IGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcbmltcG9ydCB7IGNyZWF0ZU1vY2tzIH0gZnJvbSAnbm9kZS1tb2Nrcy1odHRwJztcbmltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuXG4vLyBDcmVhdGUgYSBwcm9wZXIgdGVzdCBkYXRhYmFzZSBpbnN0YW5jZVxuY29uc3QgdGVzdFByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoe1xuICBkYXRhc291cmNlczoge1xuICAgIGRiOiB7XG4gICAgICB1cmw6IHByb2Nlc3MuZW52LlRFU1RfREFUQUJBU0VfVVJMIHx8IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTFxuICAgIH1cbiAgfVxufSk7XG5cbi8vIE1vY2sgdGhlIHByaXNtYSBpbXBvcnQgdG8gdXNlIG91ciB0ZXN0IGluc3RhbmNlXG5qZXN0Lm1vY2soJ0AvbGliL3ByaXNtYScsICgpID0+ICh7XG4gIF9fZXNNb2R1bGU6IHRydWUsXG4gIGRlZmF1bHQ6IHRlc3RQcmlzbWEsXG4gIHByaXNtYTogdGVzdFByaXNtYVxufSkpO1xuXG4vLyBNb2NrIHRoZSBkYiBtb2R1bGUgYXMgd2VsbFxuamVzdC5tb2NrKCdAL2xpYi9kYicsICgpID0+ICh7XG4gIF9fZXNNb2R1bGU6IHRydWUsXG4gIGRlZmF1bHQ6IHRlc3RQcmlzbWEsXG4gIGRiOiB0ZXN0UHJpc21hLFxuICBwcmlzbWE6IHRlc3RQcmlzbWFcbn0pKTtcblxuLy8gSW1wb3J0IGFmdGVyIG1vY2tpbmdcbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvcHJpc21hJztcblxuLy8gRW5zdXJlIHByaXNtYSBpcyB0aGUgdGVzdCBpbnN0YW5jZVxuY29uc3QgYWN0dWFsUHJpc21hID0gdGVzdFByaXNtYTtcbmltcG9ydCB7IFB1cmNoYXNlSW52b2ljZVNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL3B1cmNoYXNlSW52b2ljZVNlcnZpY2UnO1xuaW1wb3J0IHsgUHJvZHVjdFN0YXR1cywgUHVyY2hhc2VJbnZvaWNlU3RhdHVzIH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuXG5kZXNjcmliZSgnUHVyY2hhc2UgSW52b2ljZXMgSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGxldCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlOiBQdXJjaGFzZUludm9pY2VTZXJ2aWNlO1xuICBcbiAgLy8gVGVzdCBkYXRhXG4gIGxldCB0ZXN0U3VwcGxpZXI6IGFueTtcbiAgbGV0IHRlc3RQcm9kdWN0OiBhbnk7XG4gIGxldCB0ZXN0VXNlcjogYW55O1xuICBsZXQgdGVzdENhdGVnb3J5OiBhbnk7XG5cbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICAvLyBJbml0aWFsaXplIHNlcnZpY2VcbiAgICBwdXJjaGFzZUludm9pY2VTZXJ2aWNlID0gbmV3IFB1cmNoYXNlSW52b2ljZVNlcnZpY2UoKTtcbiAgICBcbiAgICAvLyBDb25uZWN0IHRvIHRlc3QgZGF0YWJhc2VcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS4kY29ubmVjdCgpO1xuICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byB0ZXN0IGRhdGFiYXNlJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIHRlc3QgZGF0YWJhc2U6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9KTtcblxuICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAvLyBDbGVhbiB1cCBkYXRhYmFzZSBiZWZvcmUgZWFjaCB0ZXN0XG4gICAgdHJ5IHtcbiAgICAgIC8vIERlbGV0ZSBpbiBjb3JyZWN0IG9yZGVyIHRvIHJlc3BlY3QgZm9yZWlnbiBrZXkgY29uc3RyYWludHNcbiAgICAgIGF3YWl0IHRlc3RQcmlzbWEucHVyY2hhc2VJbnZvaWNlSXRlbS5kZWxldGVNYW55KHt9KTtcbiAgICAgIGF3YWl0IHRlc3RQcmlzbWEucHVyY2hhc2VJbnZvaWNlLmRlbGV0ZU1hbnkoe30pO1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS5pbnZlbnRvcnlJdGVtLmRlbGV0ZU1hbnkoe30pO1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS5wcm9kdWN0LmRlbGV0ZU1hbnkoe30pO1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS5jYXRlZ29yeS5kZWxldGVNYW55KHt9KTtcbiAgICAgIGF3YWl0IHRlc3RQcmlzbWEuc3VwcGxpZXIuZGVsZXRlTWFueSh7fSk7XG4gICAgICBhd2FpdCB0ZXN0UHJpc21hLnVzZXIuZGVsZXRlTWFueSh7fSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjbGVhbmVkIHVwIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0NsZWFudXAgd2FybmluZzonLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgIC8vIENvbnRpbnVlIHdpdGggdGVzdCBzZXR1cCBldmVuIGlmIGNsZWFudXAgZmFpbHNcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdGVzdCBkYXRhXG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSB0ZXN0IGNhdGVnb3J5XG4gICAgICB0ZXN0Q2F0ZWdvcnkgPSBhd2FpdCB0ZXN0UHJpc21hLmNhdGVnb3J5LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lOiAnVGVzdCBDYXRlZ29yeScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDYXRlZ29yeSBmb3IgdGVzdGluZydcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSB0ZXN0IHVzZXJcbiAgICAgIHRlc3RVc2VyID0gYXdhaXQgdGVzdFByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHBhc3N3b3JkOiAnaGFzaGVkLXBhc3N3b3JkJyxcbiAgICAgICAgICByb2xlOiAnQURNSU4nLFxuICAgICAgICAgIGlzQWN0aXZlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgdGVzdCBzdXBwbGllclxuICAgICAgdGVzdFN1cHBsaWVyID0gYXdhaXQgdGVzdFByaXNtYS5zdXBwbGllci5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbmFtZTogJ1Rlc3QgU3VwcGxpZXInLFxuICAgICAgICAgIGVtYWlsOiAnc3VwcGxpZXJAZXhhbXBsZS5jb20nLFxuICAgICAgICAgIHBob25lOiAnMTIzNDU2Nzg5MCcsXG4gICAgICAgICAgYWRkcmVzczogJzEyMyBUZXN0IFN0cmVldCcsXG4gICAgICAgICAgaXNBY3RpdmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSB0ZXN0IHByb2R1Y3RcbiAgICAgIHRlc3RQcm9kdWN0ID0gYXdhaXQgdGVzdFByaXNtYS5wcm9kdWN0LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lOiAnVGVzdCBQcm9kdWN0JyxcbiAgICAgICAgICBza3U6ICdURVNULTAwMScsXG4gICAgICAgICAgcHJpY2U6IDk5Ljk5LFxuICAgICAgICAgIGNvc3Q6IDUwLjAwLFxuICAgICAgICAgIGNhdGVnb3J5SWQ6IHRlc3RDYXRlZ29yeS5pZCxcbiAgICAgICAgICBzdGF0dXM6IFByb2R1Y3RTdGF0dXMuQUNUSVZFLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBwcm9kdWN0IGZvciBwdXJjaGFzZSBpbnZvaWNlIHRlc3RpbmcnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCBkYXRhIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgdGVzdCBkYXRhOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICAvLyBDbGVhbiB1cCBhZnRlciBlYWNoIHRlc3RcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS5wdXJjaGFzZUludm9pY2VJdGVtLmRlbGV0ZU1hbnkoe30pO1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS5wdXJjaGFzZUludm9pY2UuZGVsZXRlTWFueSh7fSk7XG4gICAgICBhd2FpdCB0ZXN0UHJpc21hLmludmVudG9yeUl0ZW0uZGVsZXRlTWFueSh7fSk7XG4gICAgICBhd2FpdCB0ZXN0UHJpc21hLnByb2R1Y3QuZGVsZXRlTWFueSh7fSk7XG4gICAgICBhd2FpdCB0ZXN0UHJpc21hLmNhdGVnb3J5LmRlbGV0ZU1hbnkoe30pO1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS5zdXBwbGllci5kZWxldGVNYW55KHt9KTtcbiAgICAgIGF3YWl0IHRlc3RQcmlzbWEudXNlci5kZWxldGVNYW55KHt9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdDbGVhbnVwIGVycm9yOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgYWZ0ZXJBbGwoYXN5bmMgKCkgPT4ge1xuICAgIC8vIEZpbmFsIGNsZWFudXAgYW5kIGRpc2Nvbm5lY3RcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS5wdXJjaGFzZUludm9pY2VJdGVtLmRlbGV0ZU1hbnkoe30pO1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS5wdXJjaGFzZUludm9pY2UuZGVsZXRlTWFueSh7fSk7XG4gICAgICBhd2FpdCB0ZXN0UHJpc21hLmludmVudG9yeUl0ZW0uZGVsZXRlTWFueSh7fSk7XG4gICAgICBhd2FpdCB0ZXN0UHJpc21hLnByb2R1Y3QuZGVsZXRlTWFueSh7fSk7XG4gICAgICBhd2FpdCB0ZXN0UHJpc21hLmNhdGVnb3J5LmRlbGV0ZU1hbnkoe30pO1xuICAgICAgYXdhaXQgdGVzdFByaXNtYS5zdXBwbGllci5kZWxldGVNYW55KHt9KTtcbiAgICAgIGF3YWl0IHRlc3RQcmlzbWEudXNlci5kZWxldGVNYW55KHt9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdGaW5hbCBjbGVhbnVwIGVycm9yOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhd2FpdCB0ZXN0UHJpc21hLiRkaXNjb25uZWN0KCk7XG4gICAgICBjb25zb2xlLmxvZygnRGlzY29ubmVjdGVkIGZyb20gdGVzdCBkYXRhYmFzZScpO1xuICAgIH1cbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1B1cmNoYXNlIEludm9pY2UgQ3JlYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBwdXJjaGFzZSBpbnZvaWNlIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludm9pY2VEYXRhID0ge1xuICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS0wMDEnLFxuICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksIC8vIDMwIGRheXMgZnJvbSBub3dcbiAgICAgICAgc3RhdHVzOiBQdXJjaGFzZUludm9pY2VTdGF0dXMuUEVORElORyxcbiAgICAgICAgc3VidG90YWw6IDUwMC4wMCxcbiAgICAgICAgdGF4QW1vdW50OiA1MC4wMCxcbiAgICAgICAgdG90YWxBbW91bnQ6IDU1MC4wMCxcbiAgICAgICAgbm90ZXM6ICdUZXN0IHB1cmNoYXNlIGludm9pY2UnLFxuICAgICAgICBjcmVhdGVkQnk6IHRlc3RVc2VyLmlkXG4gICAgICB9O1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuY3JlYXRlUHVyY2hhc2VJbnZvaWNlKGludm9pY2VEYXRhKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pZCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaW52b2ljZU51bWJlcikudG9CZSgnUEktMDAxJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN1cHBsaWVySWQpLnRvQmUodGVzdFN1cHBsaWVyLmlkKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKFB1cmNoYXNlSW52b2ljZVN0YXR1cy5QRU5ESU5HKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudG90YWxBbW91bnQpLnRvQmUoNTUwLjAwKTtcblxuICAgICAgLy8gVmVyaWZ5IGluIGRhdGFiYXNlXG4gICAgICBjb25zdCBkYkludm9pY2UgPSBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogcmVzdWx0LmlkIH1cbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KGRiSW52b2ljZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChkYkludm9pY2U/Lmludm9pY2VOdW1iZXIpLnRvQmUoJ1BJLTAwMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgcHVyY2hhc2UgaW52b2ljZSB3aXRoIGl0ZW1zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW52b2ljZURhdGEgPSB7XG4gICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLTAwMicsXG4gICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgc3RhdHVzOiBQdXJjaGFzZUludm9pY2VTdGF0dXMuUEVORElORyxcbiAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZCxcbiAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBwcm9kdWN0SWQ6IHRlc3RQcm9kdWN0LmlkLFxuICAgICAgICAgICAgcXVhbnRpdHk6IDEwLFxuICAgICAgICAgICAgdW5pdENvc3Q6IDUwLjAwLFxuICAgICAgICAgICAgdG90YWxDb3N0OiA1MDAuMDBcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5jcmVhdGVQdXJjaGFzZUludm9pY2VXaXRoSXRlbXMoaW52b2ljZURhdGEpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmlkKS50b0JlRGVmaW5lZCgpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgaXRlbXMgd2VyZSBjcmVhdGVkXG4gICAgICBjb25zdCBpbnZvaWNlSXRlbXMgPSBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlSXRlbS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IHB1cmNoYXNlSW52b2ljZUlkOiByZXN1bHQuaWQgfVxuICAgICAgfSk7XG4gICAgICBleHBlY3QoaW52b2ljZUl0ZW1zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoaW52b2ljZUl0ZW1zWzBdLnByb2R1Y3RJZCkudG9CZSh0ZXN0UHJvZHVjdC5pZCk7XG4gICAgICBleHBlY3QoaW52b2ljZUl0ZW1zWzBdLnF1YW50aXR5KS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChpbnZvaWNlSXRlbXNbMF0udW5pdENvc3QpLnRvQmUoNTAuMDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSByZXF1aXJlZCBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZhbGlkRGF0YSA9IHtcbiAgICAgICAgLy8gTWlzc2luZyByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLTAwMydcbiAgICAgIH07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmNyZWF0ZVB1cmNoYXNlSW52b2ljZShpbnZhbGlkRGF0YSBhcyBhbnkpXG4gICAgICApLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmV2ZW50IGR1cGxpY2F0ZSBpbnZvaWNlIG51bWJlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZvaWNlRGF0YTEgPSB7XG4gICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLURVUExJQ0FURScsXG4gICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgc3RhdHVzOiBQdXJjaGFzZUludm9pY2VTdGF0dXMuUEVORElORyxcbiAgICAgICAgc3VidG90YWw6IDEwMC4wMCxcbiAgICAgICAgdG90YWxBbW91bnQ6IDEwMC4wMCxcbiAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgfTtcblxuICAgICAgY29uc3QgaW52b2ljZURhdGEyID0geyAuLi5pbnZvaWNlRGF0YTEgfTtcblxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmNyZWF0ZVB1cmNoYXNlSW52b2ljZShpbnZvaWNlRGF0YTEpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5jcmVhdGVQdXJjaGFzZUludm9pY2UoaW52b2ljZURhdGEyKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coL3VuaXF1ZSBjb25zdHJhaW50L2kpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHVyY2hhc2UgSW52b2ljZSBSZXRyaWV2YWwnLCAoKSA9PiB7XG4gICAgbGV0IHRlc3RJbnZvaWNlOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIHRlc3QgaW52b2ljZSBmb3IgcmV0cmlldmFsIHRlc3RzXG4gICAgICB0ZXN0SW52b2ljZSA9IGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktUkVUUklFVkUtMDAxJyxcbiAgICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgICBzdGF0dXM6IFB1cmNoYXNlSW52b2ljZVN0YXR1cy5QRU5ESU5HLFxuICAgICAgICAgIHN1YnRvdGFsOiAyMDAuMDAsXG4gICAgICAgICAgdGF4QW1vdW50OiAyMC4wMCxcbiAgICAgICAgICB0b3RhbEFtb3VudDogMjIwLjAwLFxuICAgICAgICAgIGNyZWF0ZWRCeTogdGVzdFVzZXIuaWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHJpZXZlIHB1cmNoYXNlIGludm9pY2UgYnkgSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuZ2V0UHVyY2hhc2VJbnZvaWNlQnlJZCh0ZXN0SW52b2ljZS5pZCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQ/LmlkKS50b0JlKHRlc3RJbnZvaWNlLmlkKTtcbiAgICAgIGV4cGVjdChyZXN1bHQ/Lmludm9pY2VOdW1iZXIpLnRvQmUoJ1BJLVJFVFJJRVZFLTAwMScpO1xuICAgICAgZXhwZWN0KHJlc3VsdD8udG90YWxBbW91bnQpLnRvQmUoMjIwLjAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0cmlldmUgcHVyY2hhc2UgaW52b2ljZSB3aXRoIHN1cHBsaWVyIGRldGFpbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuZ2V0UHVyY2hhc2VJbnZvaWNlV2l0aERldGFpbHModGVzdEludm9pY2UuaWQpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0Py5zdXBwbGllcikudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQ/LnN1cHBsaWVyLm5hbWUpLnRvQmUoJ1Rlc3QgU3VwcGxpZXInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIG51bGwgZm9yIG5vbi1leGlzdGVudCBpbnZvaWNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmdldFB1cmNoYXNlSW52b2ljZUJ5SWQoOTk5OTkpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHJpZXZlIGFsbCBwdXJjaGFzZSBpbnZvaWNlcyB3aXRoIHBhZ2luYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlIC0gQ3JlYXRlIGFkZGl0aW9uYWwgaW52b2ljZXNcbiAgICAgIGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktUEFHRS0wMDEnLFxuICAgICAgICAgICAgaW52b2ljZURhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgICAgIHN0YXR1czogUHVyY2hhc2VJbnZvaWNlU3RhdHVzLlBFTkRJTkcsXG4gICAgICAgICAgICBzdWJ0b3RhbDogMTAwLjAwLFxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IDEwMC4wMCxcbiAgICAgICAgICAgIGNyZWF0ZWRCeTogdGVzdFVzZXIuaWRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS1QQUdFLTAwMicsXG4gICAgICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGR1ZURhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgKyAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLFxuICAgICAgICAgICAgc3RhdHVzOiBQdXJjaGFzZUludm9pY2VTdGF0dXMuUEVORElORyxcbiAgICAgICAgICAgIHN1YnRvdGFsOiAxNTAuMDAsXG4gICAgICAgICAgICB0b3RhbEFtb3VudDogMTUwLjAwLFxuICAgICAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5nZXRQdXJjaGFzZUludm9pY2VzKHtcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgbGltaXQ6IDJcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQuaW52b2ljZXMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudG90YWwpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMyk7XG4gICAgICBleHBlY3QocmVzdWx0LnBhZ2UpLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVzdWx0LmxpbWl0KS50b0JlKDIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHVyY2hhc2UgSW52b2ljZSBVcGRhdGVzJywgKCkgPT4ge1xuICAgIGxldCB0ZXN0SW52b2ljZTogYW55O1xuXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICB0ZXN0SW52b2ljZSA9IGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktVVBEQVRFLTAwMScsXG4gICAgICAgICAgaW52b2ljZURhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgICAgc3RhdHVzOiBQdXJjaGFzZUludm9pY2VTdGF0dXMuUEVORElORyxcbiAgICAgICAgICBzdWJ0b3RhbDogMzAwLjAwLFxuICAgICAgICAgIHRvdGFsQW1vdW50OiAzMDAuMDAsXG4gICAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIHB1cmNoYXNlIGludm9pY2Ugc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnVwZGF0ZVB1cmNoYXNlSW52b2ljZVN0YXR1cyhcbiAgICAgICAgdGVzdEludm9pY2UuaWQsXG4gICAgICAgIFB1cmNoYXNlSW52b2ljZVN0YXR1cy5BUFBST1ZFRFxuICAgICAgKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZShQdXJjaGFzZUludm9pY2VTdGF0dXMuQVBQUk9WRUQpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgaW4gZGF0YWJhc2VcbiAgICAgIGNvbnN0IGRiSW52b2ljZSA9IGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiB0ZXN0SW52b2ljZS5pZCB9XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChkYkludm9pY2U/LnN0YXR1cykudG9CZShQdXJjaGFzZUludm9pY2VTdGF0dXMuQVBQUk9WRUQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgcHVyY2hhc2UgaW52b2ljZSBkZXRhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgdXBkYXRlRGF0YSA9IHtcbiAgICAgICAgbm90ZXM6ICdVcGRhdGVkIG5vdGVzJyxcbiAgICAgICAgc3VidG90YWw6IDM1MC4wMCxcbiAgICAgICAgdGF4QW1vdW50OiAzNS4wMCxcbiAgICAgICAgdG90YWxBbW91bnQ6IDM4NS4wMFxuICAgICAgfTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnVwZGF0ZVB1cmNoYXNlSW52b2ljZShcbiAgICAgICAgdGVzdEludm9pY2UuaWQsXG4gICAgICAgIHVwZGF0ZURhdGFcbiAgICAgICk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdC5ub3RlcykudG9CZSgnVXBkYXRlZCBub3RlcycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbEFtb3VudCkudG9CZSgzODUuMDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcmV2ZW50IHVwZGF0aW5nIGFwcHJvdmVkIGludm9pY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZSAtIEZpcnN0IGFwcHJvdmUgdGhlIGludm9pY2VcbiAgICAgIGF3YWl0IHB1cmNoYXNlSW52b2ljZVNlcnZpY2UudXBkYXRlUHVyY2hhc2VJbnZvaWNlU3RhdHVzKFxuICAgICAgICB0ZXN0SW52b2ljZS5pZCxcbiAgICAgICAgUHVyY2hhc2VJbnZvaWNlU3RhdHVzLkFQUFJPVkVEXG4gICAgICApO1xuXG4gICAgICAvLyBBY3QgJiBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgcHVyY2hhc2VJbnZvaWNlU2VydmljZS51cGRhdGVQdXJjaGFzZUludm9pY2UodGVzdEludm9pY2UuaWQsIHtcbiAgICAgICAgICBub3RlczogJ1Nob3VsZCBub3QgYmUgYWxsb3dlZCdcbiAgICAgICAgfSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KC9jYW5ub3QgYmUgbW9kaWZpZWQvaSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQdXJjaGFzZSBJbnZvaWNlIERlbGV0aW9uJywgKCkgPT4ge1xuICAgIGxldCB0ZXN0SW52b2ljZTogYW55O1xuXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICB0ZXN0SW52b2ljZSA9IGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktREVMRVRFLTAwMScsXG4gICAgICAgICAgaW52b2ljZURhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgICAgc3RhdHVzOiBQdXJjaGFzZUludm9pY2VTdGF0dXMuUEVORElORyxcbiAgICAgICAgICBzdWJ0b3RhbDogMTAwLjAwLFxuICAgICAgICAgIHRvdGFsQW1vdW50OiAxMDAuMDAsXG4gICAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc29mdCBkZWxldGUgcHVyY2hhc2UgaW52b2ljZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5kZWxldGVQdXJjaGFzZUludm9pY2UodGVzdEludm9pY2UuaWQpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBzb2Z0IGRlbGV0aW9uXG4gICAgICBjb25zdCBkYkludm9pY2UgPSBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogdGVzdEludm9pY2UuaWQgfVxuICAgICAgfSk7XG4gICAgICBleHBlY3QoZGJJbnZvaWNlPy5pc0RlbGV0ZWQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByZXZlbnQgZGVsZXRpb24gb2YgYXBwcm92ZWQgaW52b2ljZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnVwZGF0ZVB1cmNoYXNlSW52b2ljZVN0YXR1cyhcbiAgICAgICAgdGVzdEludm9pY2UuaWQsXG4gICAgICAgIFB1cmNoYXNlSW52b2ljZVN0YXR1cy5BUFBST1ZFRFxuICAgICAgKTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuZGVsZXRlUHVyY2hhc2VJbnZvaWNlKHRlc3RJbnZvaWNlLmlkKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coL2Nhbm5vdCBiZSBkZWxldGVkL2kpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHVyY2hhc2UgSW52b2ljZSBTZWFyY2ggYW5kIEZpbHRlcmluZycsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBtdWx0aXBsZSB0ZXN0IGludm9pY2VzIHdpdGggZGlmZmVyZW50IHN0YXR1c2VzIGFuZCBkYXRlc1xuICAgICAgYXdhaXQgcHJpc21hLnB1cmNoYXNlSW52b2ljZS5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS1TRUFSQ0gtMDAxJyxcbiAgICAgICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgnMjAyNC0wMS0wMScpLFxuICAgICAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoJzIwMjQtMDEtMzEnKSxcbiAgICAgICAgICAgIHN0YXR1czogUHVyY2hhc2VJbnZvaWNlU3RhdHVzLlBFTkRJTkcsXG4gICAgICAgICAgICBzdWJ0b3RhbDogMTAwLjAwLFxuICAgICAgICAgICAgdG90YWxBbW91bnQ6IDEwMC4wMCxcbiAgICAgICAgICAgIGNyZWF0ZWRCeTogdGVzdFVzZXIuaWRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS1TRUFSQ0gtMDAyJyxcbiAgICAgICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgnMjAyNC0wMi0wMScpLFxuICAgICAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoJzIwMjQtMDItMjgnKSxcbiAgICAgICAgICAgIHN0YXR1czogUHVyY2hhc2VJbnZvaWNlU3RhdHVzLkFQUFJPVkVELFxuICAgICAgICAgICAgc3VidG90YWw6IDIwMC4wMCxcbiAgICAgICAgICAgIHRvdGFsQW1vdW50OiAyMDAuMDAsXG4gICAgICAgICAgICBjcmVhdGVkQnk6IHRlc3RVc2VyLmlkXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktU0VBUkNILTAwMycsXG4gICAgICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoJzIwMjQtMDMtMDEnKSxcbiAgICAgICAgICAgIGR1ZURhdGU6IG5ldyBEYXRlKCcyMDI0LTAzLTMxJyksXG4gICAgICAgICAgICBzdGF0dXM6IFB1cmNoYXNlSW52b2ljZVN0YXR1cy5QQUlELFxuICAgICAgICAgICAgc3VidG90YWw6IDMwMC4wMCxcbiAgICAgICAgICAgIHRvdGFsQW1vdW50OiAzMDAuMDAsXG4gICAgICAgICAgICBjcmVhdGVkQnk6IHRlc3RVc2VyLmlkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2VhcmNoIGludm9pY2VzIGJ5IGludm9pY2UgbnVtYmVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnNlYXJjaFB1cmNoYXNlSW52b2ljZXMoe1xuICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktU0VBUkNILTAwMidcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHRbMF0uaW52b2ljZU51bWJlcikudG9CZSgnUEktU0VBUkNILTAwMicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgaW52b2ljZXMgYnkgc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnNlYXJjaFB1cmNoYXNlSW52b2ljZXMoe1xuICAgICAgICBzdGF0dXM6IFB1cmNoYXNlSW52b2ljZVN0YXR1cy5BUFBST1ZFRFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdFswXS5zdGF0dXMpLnRvQmUoUHVyY2hhc2VJbnZvaWNlU3RhdHVzLkFQUFJPVkVEKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGludm9pY2VzIGJ5IGRhdGUgcmFuZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cmNoYXNlSW52b2ljZVNlcnZpY2Uuc2VhcmNoUHVyY2hhc2VJbnZvaWNlcyh7XG4gICAgICAgIGRhdGVGcm9tOiBuZXcgRGF0ZSgnMjAyNC0wMi0wMScpLFxuICAgICAgICBkYXRlVG86IG5ldyBEYXRlKCcyMDI0LTAzLTMxJylcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXZlcnkoaW52b2ljZSA9PiBcbiAgICAgICAgaW52b2ljZS5pbnZvaWNlRGF0ZSA+PSBuZXcgRGF0ZSgnMjAyNC0wMi0wMScpICYmXG4gICAgICAgIGludm9pY2UuaW52b2ljZURhdGUgPD0gbmV3IERhdGUoJzIwMjQtMDMtMzEnKVxuICAgICAgKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGludm9pY2VzIGJ5IHN1cHBsaWVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnNlYXJjaFB1cmNoYXNlSW52b2ljZXMoe1xuICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ldmVyeShpbnZvaWNlID0+IGludm9pY2Uuc3VwcGxpZXJJZCA9PT0gdGVzdFN1cHBsaWVyLmlkKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1B1cmNoYXNlIEludm9pY2UgQnVzaW5lc3MgTG9naWMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgdG90YWxzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludm9pY2VEYXRhID0ge1xuICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS1DQUxDLTAwMScsXG4gICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgc3RhdHVzOiBQdXJjaGFzZUludm9pY2VTdGF0dXMuUEVORElORyxcbiAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZCxcbiAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBwcm9kdWN0SWQ6IHRlc3RQcm9kdWN0LmlkLFxuICAgICAgICAgICAgcXVhbnRpdHk6IDUsXG4gICAgICAgICAgICB1bml0Q29zdDogMjAuMDAsXG4gICAgICAgICAgICB0b3RhbENvc3Q6IDEwMC4wMFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJvZHVjdElkOiB0ZXN0UHJvZHVjdC5pZCxcbiAgICAgICAgICAgIHF1YW50aXR5OiAzLFxuICAgICAgICAgICAgdW5pdENvc3Q6IDMwLjAwLFxuICAgICAgICAgICAgdG90YWxDb3N0OiA5MC4wMFxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgdGF4UmF0ZTogMC4xMCAvLyAxMCUgdGF4XG4gICAgICB9O1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuY3JlYXRlUHVyY2hhc2VJbnZvaWNlV2l0aENhbGN1bGF0aW9ucyhpbnZvaWNlRGF0YSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWJ0b3RhbCkudG9CZSgxOTAuMDApOyAvLyAxMDAgKyA5MFxuICAgICAgZXhwZWN0KHJlc3VsdC50YXhBbW91bnQpLnRvQmUoMTkuMDApOyAvLyAxOTAgKiAwLjEwXG4gICAgICBleHBlY3QocmVzdWx0LnRvdGFsQW1vdW50KS50b0JlKDIwOS4wMCk7IC8vIDE5MCArIDE5XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBpbnZlbnRvcnkgd2hlbiBpbnZvaWNlIGlzIGFwcHJvdmVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW52b2ljZSA9IGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktSU5WRU5UT1JZLTAwMScsXG4gICAgICAgICAgaW52b2ljZURhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgICAgc3RhdHVzOiBQdXJjaGFzZUludm9pY2VTdGF0dXMuUEVORElORyxcbiAgICAgICAgICBzdWJ0b3RhbDogNTAwLjAwLFxuICAgICAgICAgIHRvdGFsQW1vdW50OiA1MDAuMDAsXG4gICAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgcHJpc21hLnB1cmNoYXNlSW52b2ljZUl0ZW0uY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHB1cmNoYXNlSW52b2ljZUlkOiBpbnZvaWNlLmlkLFxuICAgICAgICAgIHByb2R1Y3RJZDogdGVzdFByb2R1Y3QuaWQsXG4gICAgICAgICAgcXVhbnRpdHk6IDEwLFxuICAgICAgICAgIHVuaXRDb3N0OiA1MC4wMCxcbiAgICAgICAgICB0b3RhbENvc3Q6IDUwMC4wMFxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmFwcHJvdmVQdXJjaGFzZUludm9pY2UoaW52b2ljZS5pZCk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgY29uc3QgaW52ZW50b3J5SXRlbXMgPSBhd2FpdCBwcmlzbWEuaW52ZW50b3J5SXRlbS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IHByb2R1Y3RJZDogdGVzdFByb2R1Y3QuaWQgfVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChpbnZlbnRvcnlJdGVtcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGludmVudG9yeUl0ZW1zWzBdLnF1YW50aXR5KS50b0JlKDEwKTtcbiAgICAgIGV4cGVjdChpbnZlbnRvcnlJdGVtc1swXS51bml0Q29zdCkudG9CZSg1MC4wMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZyBhbmQgRWRnZSBDYXNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IGludm9pY2UgY3JlYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZvaWNlRGF0YSA9IHtcbiAgICAgICAgc3VwcGxpZXJJZDogdGVzdFN1cHBsaWVyLmlkLFxuICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktQ09OQ1VSUkVOVC0wMDEnLFxuICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgIHN0YXR1czogUHVyY2hhc2VJbnZvaWNlU3RhdHVzLlBFTkRJTkcsXG4gICAgICAgIHN1YnRvdGFsOiAxMDAuMDAsXG4gICAgICAgIHRvdGFsQW1vdW50OiAxMDAuMDAsXG4gICAgICAgIGNyZWF0ZWRCeTogdGVzdFVzZXIuaWRcbiAgICAgIH07XG5cbiAgICAgIC8vIEFjdCAtIENyZWF0ZSBtdWx0aXBsZSBpbnZvaWNlcyBjb25jdXJyZW50bHlcbiAgICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkoMykuZmlsbChudWxsKS5tYXAoKF8sIGluZGV4KSA9PiBcbiAgICAgICAgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5jcmVhdGVQdXJjaGFzZUludm9pY2Uoe1xuICAgICAgICAgIC4uLmludm9pY2VEYXRhLFxuICAgICAgICAgIGludm9pY2VOdW1iZXI6IGBQSS1DT05DVVJSRU5ULSR7aW5kZXggKyAxfWBcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bCkudG9IYXZlTGVuZ3RoKDMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBwcm9kdWN0IHJlZmVyZW5jZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZvaWNlRGF0YSA9IHtcbiAgICAgICAgc3VwcGxpZXJJZDogdGVzdFN1cHBsaWVyLmlkLFxuICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktSU5WQUxJRC0wMDEnLFxuICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgIHN0YXR1czogUHVyY2hhc2VJbnZvaWNlU3RhdHVzLlBFTkRJTkcsXG4gICAgICAgIGNyZWF0ZWRCeTogdGVzdFVzZXIuaWQsXG4gICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJvZHVjdElkOiA5OTk5OSwgLy8gTm9uLWV4aXN0ZW50IHByb2R1Y3RcbiAgICAgICAgICAgIHF1YW50aXR5OiAxLFxuICAgICAgICAgICAgdW5pdENvc3Q6IDEwLjAwLFxuICAgICAgICAgICAgdG90YWxDb3N0OiAxMC4wMFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuY3JlYXRlUHVyY2hhc2VJbnZvaWNlV2l0aEl0ZW1zKGludm9pY2VEYXRhKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRhdGFiYXNlIHRyYW5zYWN0aW9uIGZhaWx1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gVGhpcyB0ZXN0IHdvdWxkIHJlcXVpcmUgbW9yZSBzb3BoaXN0aWNhdGVkIG1vY2tpbmcgdG8gc2ltdWxhdGUgdHJhbnNhY3Rpb24gZmFpbHVyZXNcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIHRlc3QgdGhhdCB0aGUgc2VydmljZSBoYW5kbGVzIGJhc2ljIHZhbGlkYXRpb24gZXJyb3JzXG4gICAgICBcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludmFsaWREYXRhID0ge1xuICAgICAgICAvLyBNaXNzaW5nIHJlcXVpcmVkIHN1cHBsaWVySWRcbiAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLUlOVkFMSUQtMDAyJyxcbiAgICAgICAgaW52b2ljZURhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgIHN0YXR1czogUHVyY2hhc2VJbnZvaWNlU3RhdHVzLlBFTkRJTkdcbiAgICAgIH07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmNyZWF0ZVB1cmNoYXNlSW52b2ljZShpbnZhbGlkRGF0YSBhcyBhbnkpXG4gICAgICApLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6WyJ0ZXN0UHJpc21hIiwiUHJpc21hQ2xpZW50IiwiZGF0YXNvdXJjZXMiLCJkYiIsInVybCIsInByb2Nlc3MiLCJlbnYiLCJURVNUX0RBVEFCQVNFX1VSTCIsIkRBVEFCQVNFX1VSTCIsImplc3QiLCJtb2NrIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJwcmlzbWEiLCJhY3R1YWxQcmlzbWEiLCJkZXNjcmliZSIsInB1cmNoYXNlSW52b2ljZVNlcnZpY2UiLCJ0ZXN0U3VwcGxpZXIiLCJ0ZXN0UHJvZHVjdCIsInRlc3RVc2VyIiwidGVzdENhdGVnb3J5IiwiYmVmb3JlQWxsIiwiUHVyY2hhc2VJbnZvaWNlU2VydmljZSIsIiRjb25uZWN0IiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiYmVmb3JlRWFjaCIsInB1cmNoYXNlSW52b2ljZUl0ZW0iLCJkZWxldGVNYW55IiwicHVyY2hhc2VJbnZvaWNlIiwiaW52ZW50b3J5SXRlbSIsInByb2R1Y3QiLCJjYXRlZ29yeSIsInN1cHBsaWVyIiwidXNlciIsIndhcm4iLCJtZXNzYWdlIiwiY3JlYXRlIiwiZGF0YSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImVtYWlsIiwicGFzc3dvcmQiLCJyb2xlIiwiaXNBY3RpdmUiLCJwaG9uZSIsImFkZHJlc3MiLCJza3UiLCJwcmljZSIsImNvc3QiLCJjYXRlZ29yeUlkIiwiaWQiLCJzdGF0dXMiLCJQcm9kdWN0U3RhdHVzIiwiQUNUSVZFIiwiYWZ0ZXJFYWNoIiwiYWZ0ZXJBbGwiLCIkZGlzY29ubmVjdCIsIml0IiwiaW52b2ljZURhdGEiLCJzdXBwbGllcklkIiwiaW52b2ljZU51bWJlciIsImludm9pY2VEYXRlIiwiRGF0ZSIsImR1ZURhdGUiLCJub3ciLCJQdXJjaGFzZUludm9pY2VTdGF0dXMiLCJQRU5ESU5HIiwic3VidG90YWwiLCJ0YXhBbW91bnQiLCJ0b3RhbEFtb3VudCIsIm5vdGVzIiwiY3JlYXRlZEJ5IiwicmVzdWx0IiwiY3JlYXRlUHVyY2hhc2VJbnZvaWNlIiwiZXhwZWN0IiwidG9CZURlZmluZWQiLCJ0b0JlIiwiZGJJbnZvaWNlIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwiaXRlbXMiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsInVuaXRDb3N0IiwidG90YWxDb3N0IiwiY3JlYXRlUHVyY2hhc2VJbnZvaWNlV2l0aEl0ZW1zIiwiaW52b2ljZUl0ZW1zIiwiZmluZE1hbnkiLCJwdXJjaGFzZUludm9pY2VJZCIsInRvSGF2ZUxlbmd0aCIsImludmFsaWREYXRhIiwicmVqZWN0cyIsInRvVGhyb3ciLCJpbnZvaWNlRGF0YTEiLCJpbnZvaWNlRGF0YTIiLCJ0ZXN0SW52b2ljZSIsImdldFB1cmNoYXNlSW52b2ljZUJ5SWQiLCJnZXRQdXJjaGFzZUludm9pY2VXaXRoRGV0YWlscyIsInRvQmVOdWxsIiwiY3JlYXRlTWFueSIsImdldFB1cmNoYXNlSW52b2ljZXMiLCJwYWdlIiwibGltaXQiLCJpbnZvaWNlcyIsInRvdGFsIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsInVwZGF0ZVB1cmNoYXNlSW52b2ljZVN0YXR1cyIsIkFQUFJPVkVEIiwidXBkYXRlRGF0YSIsInVwZGF0ZVB1cmNoYXNlSW52b2ljZSIsImRlbGV0ZVB1cmNoYXNlSW52b2ljZSIsImlzRGVsZXRlZCIsIlBBSUQiLCJzZWFyY2hQdXJjaGFzZUludm9pY2VzIiwiZGF0ZUZyb20iLCJkYXRlVG8iLCJldmVyeSIsImludm9pY2UiLCJsZW5ndGgiLCJ0YXhSYXRlIiwiY3JlYXRlUHVyY2hhc2VJbnZvaWNlV2l0aENhbGN1bGF0aW9ucyIsImFwcHJvdmVQdXJjaGFzZUludm9pY2UiLCJpbnZlbnRvcnlJdGVtcyIsInByb21pc2VzIiwiQXJyYXkiLCJmaWxsIiwibWFwIiwiXyIsImluZGV4IiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwic3VjY2Vzc2Z1bCIsImZpbHRlciIsInIiXSwibWFwcGluZ3MiOiJBQUFBLGlEQUFpRDtBQUNqRCx1RUFBdUU7Ozs7O3lCQUVsRDt3QkFDUTsrREE2QlY7d0NBSW9COzs7Ozs7QUE3QnZDLHlDQUF5QztBQUN6QyxNQUFNQSxhQUFhLElBQUlDLG9CQUFZLENBQUM7SUFDbENDLGFBQWE7UUFDWEMsSUFBSTtZQUNGQyxLQUFLQyxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQixJQUFJRixRQUFRQyxHQUFHLENBQUNFLFlBQVk7UUFDaEU7SUFDRjtBQUNGO0FBRUEsa0RBQWtEO0FBQ2xEQyxhQUFJLENBQUNDLElBQUksQ0FBQyxnQkFBZ0IsSUFBTyxDQUFBO1FBQy9CQyxZQUFZO1FBQ1pDLFNBQVNaO1FBQ1RhLFFBQVFiO0lBQ1YsQ0FBQTtBQUVBLDZCQUE2QjtBQUM3QlMsYUFBSSxDQUFDQyxJQUFJLENBQUMsWUFBWSxJQUFPLENBQUE7UUFDM0JDLFlBQVk7UUFDWkMsU0FBU1o7UUFDVEcsSUFBSUg7UUFDSmEsUUFBUWI7SUFDVixDQUFBO0FBS0EscUNBQXFDO0FBQ3JDLE1BQU1jLGVBQWVkO0FBSXJCZSxTQUFTLHVDQUF1QztJQUM5QyxJQUFJQztJQUVKLFlBQVk7SUFDWixJQUFJQztJQUNKLElBQUlDO0lBQ0osSUFBSUM7SUFDSixJQUFJQztJQUVKQyxVQUFVO1FBQ1IscUJBQXFCO1FBQ3JCTCx5QkFBeUIsSUFBSU0sOENBQXNCO1FBRW5ELDJCQUEyQjtRQUMzQixJQUFJO1lBQ0YsTUFBTXRCLFdBQVd1QixRQUFRO1lBQ3pCQyxRQUFRQyxHQUFHLENBQUM7UUFDZCxFQUFFLE9BQU9DLE9BQU87WUFDZEYsUUFBUUUsS0FBSyxDQUFDLHVDQUF1Q0E7WUFDckQsTUFBTUE7UUFDUjtJQUNGO0lBRUFDLFdBQVc7UUFDVCxxQ0FBcUM7UUFDckMsSUFBSTtZQUNGLDZEQUE2RDtZQUM3RCxNQUFNM0IsV0FBVzRCLG1CQUFtQixDQUFDQyxVQUFVLENB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