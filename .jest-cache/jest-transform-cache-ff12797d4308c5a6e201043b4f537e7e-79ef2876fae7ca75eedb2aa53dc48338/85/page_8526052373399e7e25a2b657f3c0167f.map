{"version":3,"names":["ViewQuotation","cov_1ezpjkslhd","f","router","s","_navigation","useRouter","params","useParams","quotationId","id","quotation","setQuotation","_react","useState","loading","setLoading","error","setError","printRef","useRef","useEffect","fetchData","quotationResponse","fetch","ok","b","Error","quotationData","json","err","console","handleDuplicateQuotation","_id","quotationNumber","_quotationNumber","createdAt","_createdAt","updatedAt","_updatedAt","duplicatedQuotation","date","Date","toISOString","split","expiryDate","now","response","method","headers","body","JSON","stringify","newQuotation","push","alert","handlePrintQuotation","_reacttoprint","useReactToPrint","contentRef","documentTitle","onAfterPrint","log","_jsxruntime","jsx","_MainLayout","default","jsxs","className","_Button","Button","variant","size","onClick","_lucidereact","ArrowLeft","window","location","reload","Edit","Copy","current","Download","_QuotationTemplate","customerName","customer","name","customerId","validUntil","items","map","item","productId","product","sku","productName","quantity","unitPrice","price","total","subtotal","discount","tax","notes","termsAndConditions","ref"],"sources":["/Users/sachin/Documents/md-sports-/src/app/quotations/[id]/page.tsx"],"sourcesContent":["'use client';\nimport { useEffect, useState, useRef } from 'react';\nimport { useRouter, useParams } from 'next/navigation';\nimport MainLayout from '@/components/layout/MainLayout';\nimport { Button } from '@/components/ui/Button';\nimport { ArrowLeft, Edit, Copy, Download, Calendar, User, FileText, Printer } from 'lucide-react';\nimport { useReactToPrint } from 'react-to-print';\nimport QuotationTemplate from '@/components/templates/QuotationTemplate';\nimport { SalesQuotation } from '@/types';\n\n\n\nexport default function ViewQuotation() {\n    const router = useRouter();\n    const params = useParams();\n    const quotationId = params.id as string;\n\n    const [quotation, setQuotation] = useState<SalesQuotation | null>(null);\n    const [loading, setLoading] = useState<boolean>(true);\n    const [error, setError] = useState<string | null>(null);\n    const printRef = useRef<HTMLDivElement>(null);\n\n    // Fetch quotation\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                setLoading(true);\n\n                // Fetch the quotation\n                const quotationResponse = await fetch(`/api/quotations/${quotationId}`);\n                if (!quotationResponse.ok) {\n                    throw new Error('Failed to fetch quotation');\n                }\n                const quotationData = await quotationResponse.json();\n                setQuotation(quotationData);\n\n                setError(null);\n            } catch (err) {\n                console.error('Error fetching data:', err);\n                setError('Failed to load data. Please try again later.');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchData();\n    }, [quotationId]);\n\n    const handleDuplicateQuotation = async () => {\n        if (!quotation) return;\n\n        try {\n            // Create a copy of the quotation without the id and with a new date\n            const { id: _id, quotationNumber: _quotationNumber, createdAt: _createdAt, updatedAt: _updatedAt, ...quotationData } = quotation;\n\n            const duplicatedQuotation = {\n                ...quotationData,\n                date: new Date().toISOString().split('T')[0],\n                expiryDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]\n            };\n\n            const response = await fetch('/api/quotations', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(duplicatedQuotation)\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to duplicate quotation');\n            }\n\n            const newQuotation = await response.json();\n            router.push(`/quotations/${newQuotation.id}`);\n            alert('Quotation duplicated successfully!');\n        } catch (err) {\n            console.error('Error duplicating quotation:', err);\n            alert('Failed to duplicate quotation. Please try again.');\n        }\n    };\n\n    const handlePrintQuotation = useReactToPrint({\n        contentRef: printRef,\n        documentTitle: `Quotation-${quotation?.quotationNumber}`,\n        onAfterPrint: () => console.log('Printed successfully'),\n    });\n\n    return (\n        <MainLayout>\n            <div className=\"space-y-6\">\n                {/* Header with actions */}\n                <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n                    <div>\n                        <h1 className=\"text-2xl font-bold text-black\">Quotation Details</h1>\n                        <p className=\"text-black\">View and manage quotation information</p>\n                    </div>\n                    <div className=\"flex gap-3\">\n                        <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => router.push('/quotations')}\n                        >\n                            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                            Back to Quotations\n                        </Button>\n                    </div>\n                </div>\n\n                {/* Loading and error states */}\n                {loading ? (\n                    <div className=\"text-center py-4\">\n                        <p className=\"text-black\">Loading data...</p>\n                    </div>\n                ) : error ? (\n                    <div className=\"text-center py-4\">\n                        <p className=\"text-red-500\">{error}</p>\n                        <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => window.location.reload()}\n                            className=\"mt-2\"\n                        >\n                            Retry\n                        </Button>\n                    </div>\n                ) : quotation ? (\n                    <div className=\"bg-tertiary p-6 rounded-lg shadow-sm border border-gray-200\">\n                        {/* Action buttons */}\n                        <div className=\"flex flex-wrap gap-2 mb-6\">\n                            <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => router.push(`/quotations/${quotationId}/edit`)}\n                            >\n                                <Edit className=\"w-4 h-4 mr-2\" />\n                                Edit\n                            </Button>\n                            <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={handleDuplicateQuotation}\n                            >\n                                <Copy className=\"w-4 h-4 mr-2\" />\n                                Duplicate\n                            </Button>\n                            <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => {\n                                    if (printRef.current) {\n                                        handlePrintQuotation();\n                                    } else {\n                                        console.error(\"Attempted to print but printRef.current is null. This should not happen if the button is correctly disabled.\");\n                                        // Optionally, you could alert the user or show a more formal notification\n                                        alert(\"Cannot print: a required component reference is missing. Please try reloading the page.\");\n                                    }\n                                }}\n                            >\n                                <Download className=\"w-4 h-4 mr-2\" />\n                                Print / Download\n                            </Button>\n                        </div>\n\n                        {/* Display Quotation Template */}\n                        <QuotationTemplate \n                            quotation={{\n                                quotationNumber: quotation.quotationNumber,\n                                customerName: quotation.customer?.name || 'N/A',\n                                customerId: quotation.customerId,\n                                date: quotation.createdAt || new Date().toISOString(),\n                                expiryDate: quotation.validUntil || new Date().toISOString(),\n                                items: quotation.items.map(item => ({\n                                    id: item.id,\n                                    productId: item.product?.sku || 'N/A',\n                                    productName: item.product?.name || 'N/A',\n                                    quantity: item.quantity,\n                                    unitPrice: item.price || 0,\n                                    total: item.total || 0\n                                })),\n                                subtotal: quotation.total || 0,\n                                discount: 0,\n                                tax: 0,\n                                total: quotation.total || 0,\n                                notes: '',\n                                termsAndConditions: 'Thank you for your business. This quotation is valid for 30 days from the issue date.'\n                            }}\n                        />\n                    </div>\n                ) : (\n                    <div className=\"text-center py-4\">\n                        <p className=\"text-black\">Quotation not found</p>\n                    </div>\n                )}\n\n                {/* Printable Quotation */}\n                {quotation && (\n                    <div ref={printRef} className=\"hidden print:block\">\n                        <QuotationTemplate \n                            quotation={{\n                                quotationNumber: quotation.quotationNumber,\n                                customerName: quotation.customer?.name || 'N/A',\n                                customerId: quotation.customerId,\n                                date: quotation.createdAt || new Date().toISOString(),\n                                expiryDate: quotation.validUntil || new Date().toISOString(),\n                                items: quotation.items.map(item => ({\n                                    id: item.id,\n                                    productId: item.product?.sku || 'N/A',\n                                    productName: item.product?.name || 'N/A',\n                                    quantity: item.quantity,\n                                    unitPrice: item.price || 0,\n                                    total: item.total || 0\n                                })),\n                                subtotal: quotation.total || 0,\n                                discount: 0,\n                                tax: 0,\n                                total: quotation.total || 0,\n                                notes: '',\n                                termsAndConditions: 'Thank you for your business. This quotation is valid for 30 days from the issue date.'\n                            }}\n                        />\n                    </div>\n                )}\n            </div>\n        </MainLayout>\n    );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}