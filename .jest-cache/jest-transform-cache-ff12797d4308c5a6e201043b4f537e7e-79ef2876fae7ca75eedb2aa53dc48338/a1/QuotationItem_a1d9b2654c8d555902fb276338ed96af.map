{"version":3,"names":["_default","QuotationItem","_sequelize","Model","cov_unofuyslr","s","init","id","type","DataTypes","STRING","primaryKey","defaultValue","f","Math","floor","random","toString","padStart","quotation_id","allowNull","references","model","key","product_id","quantity","INTEGER","unit_price","FLOAT","total","created_at","DATE","NOW","updated_at","sequelize","_db","default","modelName","tableName","timestamps","underscored","belongsTo","_Quotation","foreignKey","as","hasMany","_Product"],"sources":["/Users/sachin/Documents/md-sports-/src/lib/models/QuotationItem.ts"],"sourcesContent":["import { DataTypes, Model, Optional } from 'sequelize';\nimport sequelize from '../db';\nimport Quotation from './Quotation';\nimport Product from './Product';\n\ninterface QuotationItemAttributes {\n    id: string;\n    quotation_id: string;\n    product_id: string;\n    quantity: number;\n    unit_price: number;\n    total: number;\n    created_at: Date;\n    updated_at: Date;\n}\n\ninterface QuotationItemCreationAttributes extends Optional<QuotationItemAttributes, 'id' | 'created_at' | 'updated_at'> { }\n\nclass QuotationItem extends Model<QuotationItemAttributes, QuotationItemCreationAttributes> implements QuotationItemAttributes {\n    public id!: string;\n    public quotation_id!: string;\n    public product_id!: string;\n    public quantity!: number;\n    public unit_price!: number;\n    public total!: number;\n    public created_at!: Date;\n    public updated_at!: Date;\n}\n\nQuotationItem.init({\n    id: {\n        type: DataTypes.STRING,\n        primaryKey: true,\n        defaultValue: () => `QI${Math.floor(Math.random() * 10000).toString().padStart(4, '0')}`\n    },\n    quotation_id: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        references: {\n            model: 'quotations',\n            key: 'id'\n        }\n    },\n    product_id: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        references: {\n            model: 'products',\n            key: 'id'\n        }\n    },\n    quantity: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        defaultValue: 1\n    },\n    unit_price: {\n        type: DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    total: {\n        type: DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    created_at: {\n        type: DataTypes.DATE,\n        allowNull: false,\n        defaultValue: DataTypes.NOW\n    },\n    updated_at: {\n        type: DataTypes.DATE,\n        allowNull: false,\n        defaultValue: DataTypes.NOW\n    }\n}, {\n    sequelize,\n    modelName: 'QuotationItem',\n    tableName: 'quotation_items',\n    timestamps: true,\n    underscored: true\n});\n\n// Define associations\nQuotationItem.belongsTo(Quotation, { foreignKey: 'quotation_id', as: 'quotation' });\nQuotation.hasMany(QuotationItem, { foreignKey: 'quotation_id', as: 'items' });\n\nQuotationItem.belongsTo(Product, { foreignKey: 'product_id', as: 'product' });\nProduct.hasMany(QuotationItem, { foreignKey: 'product_id', as: 'quotationItems' });\n\nexport default QuotationItem; "],"mappings":"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","ignoreList":[]}