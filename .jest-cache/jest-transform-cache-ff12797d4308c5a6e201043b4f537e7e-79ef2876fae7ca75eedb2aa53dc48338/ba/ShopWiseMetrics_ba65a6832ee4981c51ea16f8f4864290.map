{"version":3,"names":["ShopWiseMetrics","startDate","endDate","refreshTrigger","cov_2q8mncuvik","f","user","accessToken","s","_useAuth","useAuth","data","setData","_react","useState","isLoading","setIsLoading","error","setError","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","fetchShopWiseMetrics","fetchHeaders","b","params","URLSearchParams","append","response","fetch","toString","headers","cache","ok","Error","status","result","json","success","console","message","useEffect","hasInventoryPermission","permissions","_permissions","hasAnyPermission","hasSalesPermission","_jsxruntime","jsxs","className","jsx","_lucidereact","Loader2","AlertTriangle","onClick","shopMetrics","totals","dateRange","length","Date","toLocaleDateString","Store","totalInventoryCost","TrendingUp","totalProfit","DollarSign","totalSales","CreditCard","outstandingInvoices","map","shop","shopName","shopId"],"sources":["/Users/sachin/Documents/md-sports-/src/app/(protected)/dashboard/components/ShopWiseMetrics.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Store, TrendingUp, CreditCard, AlertTriangle, Loader2, DollarSign } from 'lucide-react';\nimport { useAuth } from '@/hooks/useAuth';\nimport { hasAnyPermission } from '@/lib/utils/permissions';\n\n// Interface for shop-wise metrics data\ninterface ShopMetrics {\n    shopId: string;\n    shopName: string;\n    totalInventoryCost: number;\n    totalProfit: number;\n    totalSales: number;\n    outstandingInvoices: number;\n    lowStockItems: number;\n}\n\ninterface ShopWiseData {\n    shopMetrics: ShopMetrics[];\n    totals: {\n        totalInventoryCost: number;\n        totalProfit: number;\n        totalSales: number;\n        outstandingInvoices: number;\n        lowStockItems: number;\n    };\n    dateRange: {\n        startDate: string;\n        endDate: string;\n    };\n}\n\ninterface ShopWiseMetricsProps {\n    startDate?: string;\n    endDate?: string;\n    refreshTrigger?: number;\n}\n\nexport default function ShopWiseMetrics({ startDate, endDate, refreshTrigger }: ShopWiseMetricsProps) {\n    const { user, accessToken } = useAuth();\n    const [data, setData] = useState<ShopWiseData | null>(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    // Format currency\n    const formatCurrency = (amount: number) => {\n        return new Intl.NumberFormat('en-LK', {\n            style: 'currency',\n            currency: 'LKR',\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 0\n        }).format(amount);\n    };\n\n    // Fetch shop-wise metrics\n    const fetchShopWiseMetrics = async () => {\n        try {\n            setIsLoading(true);\n            setError(null);\n\n            const fetchHeaders: HeadersInit = {\n                'Content-Type': 'application/json',\n            };\n\n            if (accessToken) {\n                fetchHeaders['Authorization'] = `Bearer ${accessToken}`;\n            }\n\n            // Build query parameters\n            const params = new URLSearchParams();\n            if (startDate) params.append('startDate', startDate);\n            if (endDate) params.append('endDate', endDate);\n\n            const response = await fetch(`/api/dashboard/shop-wise?${params.toString()}`, {\n                headers: fetchHeaders,\n                cache: 'no-store'\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to load shop-wise metrics: ${response.status}`);\n            }\n\n            const result = await response.json();\n\n            if (!result.success) {\n                throw new Error(result.error || 'Failed to load shop-wise metrics');\n            }\n\n            setData(result.data);\n        } catch (error) {\n            console.error('Error fetching shop-wise metrics:', error);\n            setError(error instanceof Error ? error.message : 'Failed to load shop-wise metrics');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    // Fetch data on component mount and when dependencies change\n    useEffect(() => {\n        fetchShopWiseMetrics();\n    }, [startDate, endDate, refreshTrigger]);\n\n    // Check permissions using centralized permission utility\n    const hasInventoryPermission = user?.permissions ? hasAnyPermission(user.permissions, ['inventory:view', 'inventory:manage']) : false;\n    const hasSalesPermission = user?.permissions ? hasAnyPermission(user.permissions, ['sales:view', 'sales:manage']) : false;\n\n    if (!hasInventoryPermission && !hasSalesPermission) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <p className=\"text-gray-500\">You don't have permission to view shop-wise metrics.</p>\n            </div>\n        );\n    }\n\n    if (isLoading) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <div className=\"flex items-center justify-center py-8\">\n                    <Loader2 className=\"h-6 w-6 animate-spin text-primary\" />\n                    <span className=\"ml-2 text-gray-600\">Loading shop-wise metrics...</span>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <div className=\"text-center py-8\">\n                    <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n                    <p className=\"text-red-600 mb-4\">{error}</p>\n                    <button\n                        onClick={fetchShopWiseMetrics}\n                        className=\"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark transition-colors\"\n                    >\n                        Retry\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    if (!data || !data.shopMetrics || !data.totals || !data.dateRange || data.shopMetrics.length === 0) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <p className=\"text-gray-500 text-center py-8\">No shop data available.</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Shop-wise Metrics</h3>\n                <div className=\"text-sm text-gray-500\">\n                    {new Date(data.dateRange.startDate).toLocaleDateString()} - {new Date(data.dateRange.endDate).toLocaleDateString()}\n                </div>\n            </div>\n\n            {/* Summary Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n                {hasInventoryPermission && (\n                    <div className=\"bg-blue-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <Store className=\"h-5 w-5 text-blue-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-blue-900\">Total Inventory</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-blue-900 mt-1\">\n                            {formatCurrency(data.totals.totalInventoryCost)}\n                        </p>\n                    </div>\n                )}\n                \n                {hasSalesPermission && (\n                    <div className=\"bg-green-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <TrendingUp className=\"h-5 w-5 text-green-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-green-900\">Total Profit</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-green-900 mt-1\">\n                            {formatCurrency(data.totals.totalProfit)}\n                        </p>\n                    </div>\n                )}\n                \n                {hasSalesPermission && (\n                    <div className=\"bg-purple-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <DollarSign className=\"h-5 w-5 text-purple-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-purple-900\">Total Sales</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-purple-900 mt-1\">\n                            {formatCurrency(data.totals.totalSales)}\n                        </p>\n                    </div>\n                )}\n                \n                {hasSalesPermission && (\n                    <div className=\"bg-orange-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <CreditCard className=\"h-5 w-5 text-orange-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-orange-900\">Outstanding</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-orange-900 mt-1\">\n                            {formatCurrency(data.totals.outstandingInvoices)}\n                        </p>\n                    </div>\n                )}\n                \n                {/* Low Stock Items card hidden */}\n            </div>\n\n            {/* Shop-wise Table */}\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                        <tr>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Shop Name\n                            </th>\n                            {hasInventoryPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Inventory Cost\n                                </th>\n                            )}\n                            {hasSalesPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Profit\n                                </th>\n                            )}\n                            {hasSalesPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Total Sales\n                                </th>\n                            )}\n                            {hasSalesPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Outstanding\n                                </th>\n                            )}\n                            {/* Low Stock column header hidden */}\n                        </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                        {data.shopMetrics.map((shop) => (\n                            <tr key={shop.shopId} className=\"hover:bg-gray-50\">\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                                    {shop.shopName}\n                                </td>\n                                {hasInventoryPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        {formatCurrency(shop.totalInventoryCost)}\n                                    </td>\n                                )}\n                                {hasSalesPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        <span className={shop.totalProfit >= 0 ? 'text-green-600' : 'text-red-600'}>\n                                            {formatCurrency(shop.totalProfit)}\n                                        </span>\n                                    </td>\n                                )}\n                                {hasSalesPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        <span className=\"text-purple-600\">\n                                            {formatCurrency(shop.totalSales)}\n                                        </span>\n                                    </td>\n                                )}\n                                {hasSalesPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        {formatCurrency(shop.outstandingInvoices)}\n                                    </td>\n                                )}\n                                {/* Low Stock column data hidden */}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}