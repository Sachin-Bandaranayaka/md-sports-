{"version":3,"names":["authenticateUser","cov_y22h5fuwr","f","s","generateToken","getUserFromDecodedPayload","getUserFromToken","hasPermission","parseTimeStringToSeconds","verifyToken","JWT_SECRET","b","process","env","JWT_EXPIRES_IN","JWT_ACCESS_TOKEN_EXPIRES_IN","timeStr","lastChar","slice","num","parseInt","isNaN","email","password","console","time","user","_prisma","default","findFirst","where","isActive","include","role","permissions","select","name","timeEnd","success","message","isPasswordValid","_bcryptjs","compare","map","p","Array","isArray","permissionRecords","permission","findMany","id","in","toString","token","sub","username","roleId","shopId","userSession","fullName","roleName","cacheKey","_cache","cacheService","generateKey","CACHE_CONFIG","KEYS","USER_SESSION","userId","set","TTL","error","payload","_jsonwebtoken","sign","expiresIn","tokenKey","TOKEN_VALIDATION","substring","cachedResult","get","verify","TokenExpiredError","expiredAt","JsonWebTokenError","tokenPayload","checkPermission","Promise","resolve","then","_interop_require_wildcard","require","permissionsCacheKey","USER_PERMISSIONS","cachedPermissions","log","Number","cachedUser","userWithPermissions"],"sources":["/Users/sachin/Documents/md-sports-/src/services/authService.ts"],"sourcesContent":["import jwt from 'jsonwebtoken';\nimport bcrypt from 'bcryptjs';\nimport prisma from '@/lib/prisma';\nimport { cacheService, CACHE_CONFIG } from '@/lib/cache';\n\n// Secret key for JWT - should be moved to environment variables in production\nconst JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key';\n// Changed token expiration to 12h (from 24h) for better security\nconst JWT_EXPIRES_IN = process.env.JWT_ACCESS_TOKEN_EXPIRES_IN || '12h';\n\n/**\n * Parses a time string like \"15m\", \"2h\", \"1d\" into seconds.\n * @param timeStr The time string.\n * @returns The number of seconds, or 0 if parsing fails.\n */\nexport const parseTimeStringToSeconds = (timeStr: string): number => {\n    if (!timeStr) return 0;\n    const lastChar = timeStr.slice(-1);\n    const num = parseInt(timeStr.slice(0, -1));\n\n    if (isNaN(num)) return 0;\n\n    switch (lastChar) {\n        case 's': return num;\n        case 'm': return num * 60;\n        case 'h': return num * 60 * 60;\n        case 'd': return num * 60 * 60 * 24;\n        default: // If no unit, assume seconds if it's just a number string\n            if (!isNaN(parseInt(timeStr))) return parseInt(timeStr);\n            return 0;\n    }\n};\n\ninterface TokenPayload {\n    sub: number; // User ID as 'sub' claim\n    username: string;\n    email: string;\n    roleId: number;\n    shopId?: number | null;\n    permissions?: string[];\n}\n\n/**\n * Authenticate a user with email and password (optimized with single query)\n */\nexport const authenticateUser = async (email: string, password: string) => {\n    try {\n        console.time('user authentication query');\n        // Optimized single query using the new composite index\n        const user = await prisma.user.findFirst({\n            where: {\n                email: email,\n                isActive: true\n            },\n            include: {\n                role: {\n                    include: {\n                        permissions: {\n                            select: { name: true }\n                        }\n                    }\n                }\n            }\n        });\n        console.timeEnd('user authentication query');\n\n        // If user not found\n        if (!user) {\n            return {\n                success: false,\n                message: 'Invalid email or password'\n            };\n        }\n\n        // Verify password\n        const isPasswordValid = await bcrypt.compare(password, user.password);\n        if (!isPasswordValid) {\n            return {\n                success: false,\n                message: 'Invalid email or password'\n            };\n        }\n\n        // Get permissions from role (handle case where user has no role)\n        let permissions: string[] = [];\n        if (user.role?.permissions) {\n            permissions = user.role.permissions.map(p => p.name);\n        } else if (user.permissions && Array.isArray(user.permissions)) {\n            // Convert permission IDs to names\n            const permissionRecords = await prisma.permission.findMany({\n                where: {\n                    id: {\n                        in: user.permissions.map(id => parseInt(id.toString()))\n                    }\n                },\n                select: { name: true }\n            });\n            permissions = permissionRecords.map(p => p.name);\n        }\n\n        // Generate JWT token\n        const token = generateToken({\n            sub: user.id,\n            username: user.name,\n            email: user.email,\n            roleId: user.roleId,\n            shopId: user.shopId,\n            permissions\n        });\n\n        const userSession = {\n            id: user.id,\n            username: user.name,\n            fullName: user.name,\n            email: user.email,\n            roleId: user.roleId,\n            roleName: user.role?.name || user.roleName || null,\n            shopId: user.shopId,\n            permissions,\n            role: user.role\n        };\n\n        // Cache user session for faster subsequent requests\n        const cacheKey = cacheService.generateKey(CACHE_CONFIG.KEYS.USER_SESSION, { userId: user.id });\n        await cacheService.set(cacheKey, userSession, CACHE_CONFIG.TTL.USER_SESSION);\n\n        return {\n            success: true,\n            token,\n            user: {\n                id: user.id,\n                username: user.name,\n                fullName: user.name,\n                email: user.email,\n                roleId: user.roleId,\n                roleName: user.role?.name || user.roleName || null,\n                shopId: user.shopId,\n                permissions\n            }\n        };\n    } catch (error) {\n        console.error('Authentication error:', error);\n        return {\n            success: false,\n            message: 'Authentication failed'\n        };\n    }\n};\n\n/**\n * Generate a JWT token\n */\nexport const generateToken = (payload: TokenPayload) => {\n    return jwt.sign(payload, JWT_SECRET, { expiresIn: JWT_EXPIRES_IN });\n};\n\n/**\n * Verify a JWT token with caching\n */\nexport const verifyToken = async (token: string) => {\n    const tokenKey = cacheService.generateKey(CACHE_CONFIG.KEYS.TOKEN_VALIDATION, { token: token.substring(0, 20) });\n\n    try {\n        // Check cache first for token validation result\n        const cachedResult = await cacheService.get(tokenKey);\n        if (cachedResult) {\n            return cachedResult as TokenPayload;\n        }\n\n        // Verify token\n        const payload = jwt.verify(token, JWT_SECRET) as TokenPayload;\n\n        // Cache the valid token payload (shorter TTL for security)\n        await cacheService.set(tokenKey, payload, CACHE_CONFIG.TTL.TOKEN_VALIDATION);\n\n        return payload;\n    } catch (error) {\n        // Log the error here if desired\n        if (error instanceof jwt.TokenExpiredError) {\n            console.error('Token expired during verification:', error.expiredAt);\n        } else if (error instanceof jwt.JsonWebTokenError) {\n            console.error('Invalid token during verification:', error.message);\n        } else {\n            console.error('Unknown token verification error:', error);\n        }\n        throw error; // Re-throw the error\n    }\n};\n\n/**\n * Check if a token has a specific permission with caching\n */\nexport const hasPermission = async (tokenPayload: TokenPayload, permission: string) => {\n    // Import the proper permission checking utility\n    const { hasPermission: checkPermission } = await import('@/lib/utils/permissions');\n    \n    // Quick check from token payload first\n    if (tokenPayload.permissions) {\n        if (checkPermission(tokenPayload.permissions, permission)) {\n            return true;\n        }\n    }\n\n    // If not in token, check cached user permissions\n    const permissionsCacheKey = cacheService.generateKey(CACHE_CONFIG.KEYS.USER_PERMISSIONS, { userId: tokenPayload.sub });\n\n    try {\n        const cachedPermissions = await cacheService.get(permissionsCacheKey);\n        if (cachedPermissions) {\n            return checkPermission(cachedPermissions, permission);\n        }\n\n        // Fallback to database query if not cached\n        const user = await prisma.user.findFirst({\n            where: { id: tokenPayload.sub, isActive: true },\n            include: {\n                role: {\n                    include: {\n                        permissions: { select: { name: true } }\n                    }\n                }\n            }\n        });\n\n        if (user) {\n            const permissions = user.role.permissions.map(p => p.name);\n            // Cache permissions for future checks\n            await cacheService.set(permissionsCacheKey, permissions, CACHE_CONFIG.TTL.USER_PERMISSIONS);\n            return checkPermission(permissions, permission);\n        }\n    } catch (error) {\n        console.error('Error checking permissions:', error);\n    }\n\n    return false;\n};\n\n/**\n * Get user details from a decoded token payload with caching\n */\nexport const getUserFromDecodedPayload = async (payload: TokenPayload | null) => {\n    console.log('getUserFromDecodedPayload received payload:', payload);\n\n    if (!payload) {\n        console.error('Invalid token payload provided to getUserFromDecodedPayload');\n        return null;\n    }\n\n    if (!payload.sub) {\n        console.error('Token payload missing user ID (sub claim)');\n        return null;\n    }\n\n    const userId = Number(payload.sub);\n    const cacheKey = cacheService.generateKey(CACHE_CONFIG.KEYS.USER_SESSION, { userId });\n\n    try {\n        // Try to get user from cache first\n        const cachedUser = await cacheService.get(cacheKey);\n        if (cachedUser) {\n            console.log('User found in cache:', userId);\n            return cachedUser;\n        }\n\n        console.log('Looking up user with ID:', userId);\n        console.time('prisma.user.findFirst for auth'); // Start timer\n        const user = await prisma.user.findFirst({\n            where: {\n                id: userId,\n                isActive: true\n            },\n            include: {\n                role: {\n                    include: {\n                        permissions: {\n                            select: { name: true }\n                        }\n                    }\n                }\n            }\n        });\n        console.timeEnd('prisma.user.findFirst for auth'); // End timer\n\n        if (!user) {\n            console.error('User not found for ID:', userId);\n            return null;\n        }\n\n        const userWithPermissions = {\n            ...user,\n            roleName: user.role.name,\n            permissions: user.role.permissions.map(p => p.name)\n        };\n\n        // Cache the user session\n        await cacheService.set(cacheKey, userWithPermissions, CACHE_CONFIG.TTL.USER_SESSION);\n\n        console.log('User found and cached:', user.id, user.name);\n        return userWithPermissions;\n    } catch (error) {\n        console.error('Error getting user from decoded payload:', error);\n        return null;\n    }\n};\n\n/**\n * Get user details from token (Legacy - consider phasing out or refactoring)\n * This function now calls verifyToken and then getUserFromDecodedPayload.\n */\nexport const getUserFromToken = async (token: string) => {\n    const payload = await verifyToken(token);\n    return getUserFromDecodedPayload(payload);\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}