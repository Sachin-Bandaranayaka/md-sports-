cdb144d7e0044a4af1a9d548df79d722
"use strict";

/* istanbul ignore next */
function cov_39x6d23tp() {
  var path = "/Users/sachin/Documents/md-sports-/src/app/api/purchases/[id]/route.ts";
  var hash = "75f1caf5e69295673659ef32ed8e535b0071f4cd";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/sachin/Documents/md-sports-/src/app/api/purchases/[id]/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 21,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 22
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 19
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 19
        }
      },
      "7": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 38
        }
      },
      "8": {
        start: {
          line: 23,
          column: 15
        },
        end: {
          line: 23,
          column: 36
        }
      },
      "9": {
        start: {
          line: 24,
          column: 30
        },
        end: {
          line: 24,
          column: 89
        }
      },
      "10": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 48
        }
      },
      "11": {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 29,
          column: 6
        }
      },
      "12": {
        start: {
          line: 32,
          column: 15
        },
        end: {
          line: 32,
          column: 24
        }
      },
      "13": {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 78,
          column: 5
        }
      },
      "14": {
        start: {
          line: 34,
          column: 27
        },
        end: {
          line: 34,
          column: 39
        }
      },
      "15": {
        start: {
          line: 35,
          column: 8
        },
        end: {
          line: 43,
          column: 9
        }
      },
      "16": {
        start: {
          line: 36,
          column: 12
        },
        end: {
          line: 42,
          column: 15
        }
      },
      "17": {
        start: {
          line: 44,
          column: 25
        },
        end: {
          line: 56,
          column: 10
        }
      },
      "18": {
        start: {
          line: 57,
          column: 8
        },
        end: {
          line: 65,
          column: 9
        }
      },
      "19": {
        start: {
          line: 58,
          column: 12
        },
        end: {
          line: 64,
          column: 15
        }
      },
      "20": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 66,
          column: 51
        }
      },
      "21": {
        start: {
          line: 68,
          column: 8
        },
        end: {
          line: 68,
          column: 71
        }
      },
      "22": {
        start: {
          line: 69,
          column: 24
        },
        end: {
          line: 69,
          column: 92
        }
      },
      "23": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 77,
          column: 11
        }
      },
      "24": {
        start: {
          line: 81,
          column: 15
        },
        end: {
          line: 81,
          column: 24
        }
      },
      "25": {
        start: {
          line: 82,
          column: 4
        },
        end: {
          line: 509,
          column: 5
        }
      },
      "26": {
        start: {
          line: 83,
          column: 27
        },
        end: {
          line: 83,
          column: 39
        }
      },
      "27": {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 92,
          column: 9
        }
      },
      "28": {
        start: {
          line: 85,
          column: 12
        },
        end: {
          line: 91,
          column: 15
        }
      },
      "29": {
        start: {
          line: 93,
          column: 21
        },
        end: {
          line: 93,
          column: 41
        }
      },
      "30": {
        start: {
          line: 94,
          column: 33
        },
        end: {
          line: 105,
          column: 10
        }
      },
      "31": {
        start: {
          line: 106,
          column: 8
        },
        end: {
          line: 114,
          column: 9
        }
      },
      "32": {
        start: {
          line: 107,
          column: 12
        },
        end: {
          line: 113,
          column: 15
        }
      },
      "33": {
        start: {
          line: 115,
          column: 93
        },
        end: {
          line: 115,
          column: 97
        }
      },
      "34": {
        start: {
          line: 116,
          column: 79
        },
        end: {
          line: 116,
          column: 90
        }
      },
      "35": {
        start: {
          line: 117,
          column: 35
        },
        end: {
          line: 117,
          column: 37
        }
      },
      "36": {
        start: {
          line: 118,
          column: 8
        },
        end: {
          line: 118,
          column: 96
        }
      },
      "37": {
        start: {
          line: 118,
          column: 37
        },
        end: {
          line: 118,
          column: 96
        }
      },
      "38": {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 119,
          column: 75
        }
      },
      "39": {
        start: {
          line: 119,
          column: 30
        },
        end: {
          line: 119,
          column: 75
        }
      },
      "40": {
        start: {
          line: 120,
          column: 8
        },
        end: {
          line: 120,
          column: 79
        }
      },
      "41": {
        start: {
          line: 120,
          column: 28
        },
        end: {
          line: 120,
          column: 79
        }
      },
      "42": {
        start: {
          line: 121,
          column: 8
        },
        end: {
          line: 121,
          column: 129
        }
      },
      "43": {
        start: {
          line: 121,
          column: 45
        },
        end: {
          line: 121,
          column: 129
        }
      },
      "44": {
        start: {
          line: 122,
          column: 8
        },
        end: {
          line: 123,
          column: 99
        }
      },
      "45": {
        start: {
          line: 122,
          column: 49
        },
        end: {
          line: 122,
          column: 106
        }
      },
      "46": {
        start: {
          line: 123,
          column: 13
        },
        end: {
          line: 123,
          column: 99
        }
      },
      "47": {
        start: {
          line: 123,
          column: 48
        },
        end: {
          line: 123,
          column: 99
        }
      },
      "48": {
        start: {
          line: 124,
          column: 8
        },
        end: {
          line: 124,
          column: 134
        }
      },
      "49": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 132,
          column: 10
        }
      },
      "50": {
        start: {
          line: 125,
          column: 34
        },
        end: {
          line: 129,
          column: 10
        }
      },
      "51": {
        start: {
          line: 130,
          column: 13
        },
        end: {
          line: 132,
          column: 10
        }
      },
      "52": {
        start: {
          line: 130,
          column: 79
        },
        end: {
          line: 132,
          column: 10
        }
      },
      "53": {
        start: {
          line: 133,
          column: 23
        },
        end: {
          line: 462,
          column: 10
        }
      },
      "54": {
        start: {
          line: 134,
          column: 37
        },
        end: {
          line: 134,
          column: 39
        }
      },
      "55": {
        start: {
          line: 135,
          column: 12
        },
        end: {
          line: 247,
          column: 13
        }
      },
      "56": {
        start: {
          line: 136,
          column: 16
        },
        end: {
          line: 246,
          column: 17
        }
      },
      "57": {
        start: {
          line: 137,
          column: 44
        },
        end: {
          line: 141,
          column: 22
        }
      },
      "58": {
        start: {
          line: 142,
          column: 20
        },
        end: {
          line: 142,
          column: 51
        }
      },
      "59": {
        start: {
          line: 142,
          column: 42
        },
        end: {
          line: 142,
          column: 51
        }
      },
      "60": {
        start: {
          line: 143,
          column: 48
        },
        end: {
          line: 143,
          column: 461
        }
      },
      "61": {
        start: {
          line: 144,
          column: 20
        },
        end: {
          line: 211,
          column: 21
        }
      },
      "62": {
        start: {
          line: 145,
          column: 24
        },
        end: {
          line: 175,
          column: 25
        }
      },
      "63": {
        start: {
          line: 146,
          column: 43
        },
        end: {
          line: 146,
          column: 52
        }
      },
      "64": {
        start: {
          line: 147,
          column: 48
        },
        end: {
          line: 147,
          column: 70
        }
      },
      "65": {
        start: {
          line: 148,
          column: 28
        },
        end: {
          line: 148,
          column: 81
        }
      },
      "66": {
        start: {
          line: 148,
          column: 72
        },
        end: {
          line: 148,
          column: 81
        }
      },
      "67": {
        start: {
          line: 149,
          column: 46
        },
        end: {
          line: 154,
          column: 30
        }
      },
      "68": {
        start: {
          line: 155,
          column: 28
        },
        end: {
          line: 174,
          column: 29
        }
      },
      "69": {
        start: {
          line: 156,
          column: 56
        },
        end: {
          line: 156,
          column: 74
        }
      },
      "70": {
        start: {
          line: 157,
          column: 52
        },
        end: {
          line: 157,
          column: 97
        }
      },
      "71": {
        start: {
          line: 158,
          column: 32
        },
        end: {
          line: 167,
          column: 35
        }
      },
      "72": {
        start: {
          line: 168,
          column: 32
        },
        end: {
          line: 173,
          column: 35
        }
      },
      "73": {
        start: {
          line: 178,
          column: 24
        },
        end: {
          line: 178,
          column: 162
        }
      },
      "74": {
        start: {
          line: 179,
          column: 62
        },
        end: {
          line: 183,
          column: 26
        }
      },
      "75": {
        start: {
          line: 184,
          column: 24
        },
        end: {
          line: 210,
          column: 25
        }
      },
      "76": {
        start: {
          line: 185,
          column: 56
        },
        end: {
          line: 185,
          column: 95
        }
      },
      "77": {
        start: {
          line: 186,
          column: 46
        },
        end: {
          line: 186,
          column: 78
        }
      },
      "78": {
        start: {
          line: 187,
          column: 52
        },
        end: {
          line: 187,
          column: 70
        }
      },
      "79": {
        start: {
          line: 188,
          column: 48
        },
        end: {
          line: 188,
          column: 98
        }
      },
      "80": {
        start: {
          line: 189,
          column: 28
        },
        end: {
          line: 198,
          column: 31
        }
      },
      "81": {
        start: {
          line: 199,
          column: 28
        },
        end: {
          line: 204,
          column: 31
        }
      },
      "82": {
        start: {
          line: 205,
          column: 28
        },
        end: {
          line: 205,
          column: 147
        }
      },
      "83": {
        start: {
          line: 206,
          column: 31
        },
        end: {
          line: 210,
          column: 25
        }
      },
      "84": {
        start: {
          line: 207,
          column: 28
        },
        end: {
          line: 207,
          column: 165
        }
      },
      "85": {
        start: {
          line: 209,
          column: 28
        },
        end: {
          line: 209,
          column: 214
        }
      },
      "86": {
        start: {
          line: 212,
          column: 54
        },
        end: {
          line: 212,
          column: 55
        }
      },
      "87": {
        start: {
          line: 213,
          column: 64
        },
        end: {
          line: 217,
          column: 22
        }
      },
      "88": {
        start: {
          line: 218,
          column: 20
        },
        end: {
          line: 218,
          column: 128
        }
      },
      "89": {
        start: {
          line: 218,
          column: 105
        },
        end: {
          line: 218,
          column: 123
        }
      },
      "90": {
        start: {
          line: 220,
          column: 51
        },
        end: {
          line: 227,
          column: 22
        }
      },
      "91": {
        start: {
          line: 228,
          column: 49
        },
        end: {
          line: 228,
          column: 50
        }
      },
      "92": {
        start: {
          line: 229,
          column: 46
        },
        end: {
          line: 229,
          column: 47
        }
      },
      "93": {
        start: {
          line: 230,
          column: 20
        },
        end: {
          line: 233,
          column: 23
        }
      },
      "94": {
        start: {
          line: 231,
          column: 24
        },
        end: {
          line: 231,
          column: 72
        }
      },
      "95": {
        start: {
          line: 232,
          column: 24
        },
        end: {
          line: 232,
          column: 90
        }
      },
      "96": {
        start: {
          line: 234,
          column: 33
        },
        end: {
          line: 234,
          column: 34
        }
      },
      "97": {
        start: {
          line: 235,
          column: 20
        },
        end: {
          line: 237,
          column: 21
        }
      },
      "98": {
        start: {
          line: 236,
          column: 24
        },
        end: {
          line: 236,
          column: 78
        }
      },
      "99": {
        start: {
          line: 238,
          column: 20
        },
        end: {
          line: 245,
          column: 23
        }
      },
      "100": {
        start: {
          line: 248,
          column: 12
        },
        end: {
          line: 252,
          column: 15
        }
      },
      "101": {
        start: {
          line: 254,
          column: 40
        },
        end: {
          line: 254,
          column: 41
        }
      },
      "102": {
        start: {
          line: 255,
          column: 12
        },
        end: {
          line: 259,
          column: 13
        }
      },
      "103": {
        start: {
          line: 256,
          column: 16
        },
        end: {
          line: 258,
          column: 19
        }
      },
      "104": {
        start: {
          line: 257,
          column: 20
        },
        end: {
          line: 257,
          column: 93
        }
      },
      "105": {
        start: {
          line: 260,
          column: 12
        },
        end: {
          line: 260,
          column: 61
        }
      },
      "106": {
        start: {
          line: 261,
          column: 35
        },
        end: {
          line: 266,
          column: 14
        }
      },
      "107": {
        start: {
          line: 267,
          column: 12
        },
        end: {
          line: 442,
          column: 13
        }
      },
      "108": {
        start: {
          line: 268,
          column: 16
        },
        end: {
          line: 441,
          column: 17
        }
      },
      "109": {
        start: {
          line: 268,
          column: 28
        },
        end: {
          line: 268,
          column: 29
        }
      },
      "110": {
        start: {
          line: 269,
          column: 36
        },
        end: {
          line: 269,
          column: 51
        }
      },
      "111": {
        start: {
          line: 270,
          column: 20
        },
        end: {
          line: 270,
          column: 99
        }
      },
      "112": {
        start: {
          line: 270,
          column: 90
        },
        end: {
          line: 270,
          column: 99
        }
      },
      "113": {
        start: {
          line: 271,
          column: 20
        },
        end: {
          line: 279,
          column: 23
        }
      },
      "114": {
        start: {
          line: 280,
          column: 44
        },
        end: {
          line: 284,
          column: 22
        }
      },
      "115": {
        start: {
          line: 285,
          column: 20
        },
        end: {
          line: 285,
          column: 51
        }
      },
      "116": {
        start: {
          line: 285,
          column: 42
        },
        end: {
          line: 285,
          column: 51
        }
      },
      "117": {
        start: {
          line: 286,
          column: 48
        },
        end: {
          line: 286,
          column: 297
        }
      },
      "118": {
        start: {
          line: 287,
          column: 46
        },
        end: {
          line: 287,
          column: 70
        }
      },
      "119": {
        start: {
          line: 288,
          column: 20
        },
        end: {
          line: 411,
          column: 21
        }
      },
      "120": {
        start: {
          line: 289,
          column: 24
        },
        end: {
          line: 339,
          column: 25
        }
      },
      "121": {
        start: {
          line: 290,
          column: 43
        },
        end: {
          line: 290,
          column: 52
        }
      },
      "122": {
        start: {
          line: 291,
          column: 45
        },
        end: {
          line: 291,
          column: 67
        }
      },
      "123": {
        start: {
          line: 292,
          column: 28
        },
        end: {
          line: 292,
          column: 75
        }
      },
      "124": {
        start: {
          line: 292,
          column: 66
        },
        end: {
          line: 292,
          column: 75
        }
      },
      "125": {
        start: {
          line: 293,
          column: 46
        },
        end: {
          line: 298,
          column: 30
        }
      },
      "126": {
        start: {
          line: 299,
          column: 48
        },
        end: {
          line: 299,
          column: 49
        }
      },
      "127": {
        start: {
          line: 300,
          column: 46
        },
        end: {
          line: 300,
          column: 70
        }
      },
      "128": {
        start: {
          line: 301,
          column: 59
        },
        end: {
          line: 301,
          column: 60
        }
      },
      "129": {
        start: {
          line: 302,
          column: 46
        },
        end: {
          line: 302,
          column: 72
        }
      },
      "130": {
        start: {
          line: 303,
          column: 28
        },
        end: {
          line: 332,
          column: 29
        }
      },
      "131": {
        start: {
          line: 304,
          column: 32
        },
        end: {
          line: 304,
          column: 78
        }
      },
      "132": {
        start: {
          line: 305,
          column: 58
        },
        end: {
          line: 305,
          column: 119
        }
      },
      "133": {
        start: {
          line: 306,
          column: 57
        },
        end: {
          line: 306,
          column: 77
        }
      },
      "134": {
        start: {
          line: 307,
          column: 32
        },
        end: {
          line: 311,
          column: 33
        }
      },
      "135": {
        start: {
          line: 308,
          column: 36
        },
        end: {
          line: 308,
          column: 118
        }
      },
      "136": {
        start: {
          line: 310,
          column: 36
        },
        end: {
          line: 310,
          column: 65
        }
      },
      "137": {
        start: {
          line: 312,
          column: 32
        },
        end: {
          line: 320,
          column: 35
        }
      },
      "138": {
        start: {
          line: 322,
          column: 32
        },
        end: {
          line: 322,
          column: 57
        }
      },
      "139": {
        start: {
          line: 323,
          column: 32
        },
        end: {
          line: 323,
          column: 69
        }
      },
      "140": {
        start: {
          line: 324,
          column: 32
        },
        end: {
          line: 331,
          column: 35
        }
      },
      "141": {
        start: {
          line: 333,
          column: 28
        },
        end: {
          line: 338,
          column: 31
        }
      },
      "142": {
        start: {
          line: 342,
          column: 24
        },
        end: {
          line: 342,
          column: 195
        }
      },
      "143": {
        start: {
          line: 343,
          column: 55
        },
        end: {
          line: 347,
          column: 26
        }
      },
      "144": {
        start: {
          line: 348,
          column: 43
        },
        end: {
          line: 348,
          column: 47
        }
      },
      "145": {
        start: {
          line: 349,
          column: 24
        },
        end: {
          line: 356,
          column: 25
        }
      },
      "146": {
        start: {
          line: 350,
          column: 28
        },
        end: {
          line: 350,
          column: 76
        }
      },
      "147": {
        start: {
          line: 351,
          column: 28
        },
        end: {
          line: 351,
          column: 139
        }
      },
      "148": {
        start: {
          line: 352,
          column: 31
        },
        end: {
          line: 356,
          column: 25
        }
      },
      "149": {
        start: {
          line: 353,
          column: 28
        },
        end: {
          line: 353,
          column: 205
        }
      },
      "150": {
        start: {
          line: 355,
          column: 28
        },
        end: {
          line: 355,
          column: 186
        }
      },
      "151": {
        start: {
          line: 357,
          column: 24
        },
        end: {
          line: 410,
          column: 25
        }
      },
      "152": {
        start: {
          line: 358,
          column: 45
        },
        end: {
          line: 358,
          column: 62
        }
      },
      "153": {
        start: {
          line: 359,
          column: 28
        },
        end: {
          line: 409,
          column: 29
        }
      },
      "154": {
        start: {
          line: 360,
          column: 50
        },
        end: {
          line: 365,
          column: 34
        }
      },
      "155": {
        start: {
          line: 366,
          column: 52
        },
        end: {
          line: 366,
          column: 53
        }
      },
      "156": {
        start: {
          line: 367,
          column: 50
        },
        end: {
          line: 367,
          column: 74
        }
      },
      "157": {
        start: {
          line: 368,
          column: 63
        },
        end: {
          line: 368,
          column: 64
        }
      },
      "158": {
        start: {
          line: 369,
          column: 50
        },
        end: {
          line: 369,
          column: 76
        }
      },
      "159": {
        start: {
          line: 370,
          column: 32
        },
        end: {
          line: 400,
          column: 33
        }
      },
      "160": {
        start: {
          line: 371,
          column: 36
        },
        end: {
          line: 371,
          column: 82
        }
      },
      "161": {
        start: {
          line: 372,
          column: 62
        },
        end: {
          line: 372,
          column: 123
        }
      },
      "162": {
        start: {
          line: 373,
          column: 61
        },
        end: {
          line: 373,
          column: 81
        }
      },
      "163": {
        start: {
          line: 374,
          column: 36
        },
        end: {
          line: 378,
          column: 37
        }
      },
      "164": {
        start: {
          line: 375,
          column: 40
        },
        end: {
          line: 375,
          column: 122
        }
      },
      "165": {
        start: {
          line: 377,
          column: 40
        },
        end: {
          line: 377,
          column: 69
        }
      },
      "166": {
        start: {
          line: 379,
          column: 36
        },
        end: {
          line: 387,
          column: 39
        }
      },
      "167": {
        start: {
          line: 389,
          column: 36
        },
        end: {
          line: 389,
          column: 61
        }
      },
      "168": {
        start: {
          line: 390,
          column: 36
        },
        end: {
          line: 390,
          column: 73
        }
      },
      "169": {
        start: {
          line: 391,
          column: 36
        },
        end: {
          line: 391,
          column: 175
        }
      },
      "170": {
        start: {
          line: 392,
          column: 36
        },
        end: {
          line: 399,
          column: 39
        }
      },
      "171": {
        start: {
          line: 401,
          column: 32
        },
        end: {
          line: 406,
          column: 35
        }
      },
      "172": {
        start: {
          line: 408,
          column: 32
        },
        end: {
          line: 408,
          column: 156
        }
      },
      "173": {
        start: {
          line: 414,
          column: 45
        },
        end: {
          line: 418,
          column: 22
        }
      },
      "174": {
        start: {
          line: 419,
          column: 48
        },
        end: {
          line: 419,
          column: 49
        }
      },
      "175": {
        start: {
          line: 420,
          column: 45
        },
        end: {
          line: 420,
          column: 46
        }
      },
      "176": {
        start: {
          line: 421,
          column: 20
        },
        end: {
          line: 424,
          column: 23
        }
      },
      "177": {
        start: {
          line: 422,
          column: 24
        },
        end: {
          line: 422,
          column: 71
        }
      },
      "178": {
        start: {
          line: 423,
          column: 24
        },
        end: {
          line: 423,
          column: 89
        }
      },
      "179": {
        start: {
          line: 425,
          column: 49
        },
        end: {
          line: 425,
          column: 50
        }
      },
      "180": {
        start: {
          line: 426,
          column: 20
        },
        end: {
          line: 428,
          column: 21
        }
      },
      "181": {
        start: {
          line: 427,
          column: 24
        },
        end: {
          line: 427,
          column: 92
        }
      },
      "182": {
        start: {
          line: 430,
          column: 20
        },
        end: {
          line: 432,
          column: 21
        }
      },
      "183": {
        start: {
          line: 431,
          column: 24
        },
        end: {
          line: 431,
          column: 71
        }
      },
      "184": {
        start: {
          line: 433,
          column: 20
        },
        end: {
          line: 440,
          column: 23
        }
      },
      "185": {
        start: {
          line: 443,
          column: 39
        },
        end: {
          line: 455,
          column: 14
        }
      },
      "186": {
        start: {
          line: 456,
          column: 12
        },
        end: {
          line: 459,
          column: 14
        }
      },
      "187": {
        start: {
          line: 464,
          column: 8
        },
        end: {
          line: 466,
          column: 9
        }
      },
      "188": {
        start: {
          line: 465,
          column: 12
        },
        end: {
          line: 465,
          column: 65
        }
      },
      "189": {
        start: {
          line: 468,
          column: 8
        },
        end: {
          line: 482,
          column: 9
        }
      },
      "190": {
        start: {
          line: 469,
          column: 12
        },
        end: {
          line: 469,
          column: 61
        }
      },
      "191": {
        start: {
          line: 470,
          column: 12
        },
        end: {
          line: 470,
          column: 66
        }
      },
      "192": {
        start: {
          line: 471,
          column: 12
        },
        end: {
          line: 471,
          column: 72
        }
      },
      "193": {
        start: {
          line: 472,
          column: 12
        },
        end: {
          line: 472,
          column: 62
        }
      },
      "194": {
        start: {
          line: 473,
          column: 12
        },
        end: {
          line: 473,
          column: 60
        }
      },
      "195": {
        start: {
          line: 474,
          column: 12
        },
        end: {
          line: 474,
          column: 64
        }
      },
      "196": {
        start: {
          line: 476,
          column: 12
        },
        end: {
          line: 476,
          column: 81
        }
      },
      "197": {
        start: {
          line: 477,
          column: 12
        },
        end: {
          line: 477,
          column: 76
        }
      },
      "198": {
        start: {
          line: 478,
          column: 12
        },
        end: {
          line: 478,
          column: 78
        }
      },
      "199": {
        start: {
          line: 480,
          column: 12
        },
        end: {
          line: 480,
          column: 90
        }
      },
      "200": {
        start: {
          line: 484,
          column: 8
        },
        end: {
          line: 493,
          column: 9
        }
      },
      "201": {
        start: {
          line: 485,
          column: 12
        },
        end: {
          line: 485,
          column: 59
        }
      },
      "202": {
        start: {
          line: 486,
          column: 12
        },
        end: {
          line: 486,
          column: 64
        }
      },
      "203": {
        start: {
          line: 487,
          column: 12
        },
        end: {
          line: 487,
          column: 67
        }
      },
      "204": {
        start: {
          line: 488,
          column: 12
        },
        end: {
          line: 488,
          column: 72
        }
      },
      "205": {
        start: {
          line: 489,
          column: 12
        },
        end: {
          line: 489,
          column: 53
        }
      },
      "206": {
        start: {
          line: 490,
          column: 12
        },
        end: {
          line: 490,
          column: 76
        }
      },
      "207": {
        start: {
          line: 492,
          column: 12
        },
        end: {
          line: 492,
          column: 102
        }
      },
      "208": {
        start: {
          line: 494,
          column: 8
        },
        end: {
          line: 497,
          column: 11
        }
      },
      "209": {
        start: {
          line: 499,
          column: 8
        },
        end: {
          line: 499,
          column: 71
        }
      },
      "210": {
        start: {
          line: 500,
          column: 24
        },
        end: {
          line: 500,
          column: 78
        }
      },
      "211": {
        start: {
          line: 501,
          column: 8
        },
        end: {
          line: 508,
          column: 11
        }
      },
      "212": {
        start: {
          line: 512,
          column: 26
        },
        end: {
          line: 512,
          column: 35
        }
      },
      "213": {
        start: {
          line: 513,
          column: 4
        },
        end: {
          line: 728,
          column: 5
        }
      },
      "214": {
        start: {
          line: 514,
          column: 27
        },
        end: {
          line: 514,
          column: 50
        }
      },
      "215": {
        start: {
          line: 515,
          column: 8
        },
        end: {
          line: 523,
          column: 9
        }
      },
      "216": {
        start: {
          line: 516,
          column: 12
        },
        end: {
          line: 522,
          column: 15
        }
      },
      "217": {
        start: {
          line: 524,
          column: 33
        },
        end: {
          line: 535,
          column: 10
        }
      },
      "218": {
        start: {
          line: 536,
          column: 8
        },
        end: {
          line: 544,
          column: 9
        }
      },
      "219": {
        start: {
          line: 537,
          column: 12
        },
        end: {
          line: 543,
          column: 15
        }
      },
      "220": {
        start: {
          line: 545,
          column: 23
        },
        end: {
          line: 682,
          column: 10
        }
      },
      "221": {
        start: {
          line: 546,
          column: 37
        },
        end: {
          line: 546,
          column: 39
        }
      },
      "222": {
        start: {
          line: 547,
          column: 12
        },
        end: {
          line: 667,
          column: 13
        }
      },
      "223": {
        start: {
          line: 548,
          column: 16
        },
        end: {
          line: 666,
          column: 17
        }
      },
      "224": {
        start: {
          line: 549,
          column: 20
        },
        end: {
          line: 552,
          column: 21
        }
      },
      "225": {
        start: {
          line: 550,
          column: 24
        },
        end: {
          line: 550,
          column: 135
        }
      },
      "226": {
        start: {
          line: 551,
          column: 24
        },
        end: {
          line: 551,
          column: 33
        }
      },
      "227": {
        start: {
          line: 553,
          column: 38
        },
        end: {
          line: 553,
          column: 52
        }
      },
      "228": {
        start: {
          line: 554,
          column: 57
        },
        end: {
          line: 554,
          column: 70
        }
      },
      "229": {
        start: {
          line: 555,
          column: 47
        },
        end: {
          line: 555,
          column: 51
        }
      },
      "230": {
        start: {
          line: 556,
          column: 51
        },
        end: {
          line: 556,
          column: 81
        }
      },
      "231": {
        start: {
          line: 558,
          column: 20
        },
        end: {
          line: 563,
          column: 21
        }
      },
      "232": {
        start: {
          line: 559,
          column: 41
        },
        end: {
          line: 559,
          column: 101
        }
      },
      "233": {
        start: {
          line: 560,
          column: 24
        },
        end: {
          line: 562,
          column: 25
        }
      },
      "234": {
        start: {
          line: 561,
          column: 28
        },
        end: {
          line: 561,
          column: 60
        }
      },
      "235": {
        start: {
          line: 564,
          column: 20
        },
        end: {
          line: 637,
          column: 21
        }
      },
      "236": {
        start: {
          line: 566,
          column: 24
        },
        end: {
          line: 566,
          column: 125
        }
      },
      "237": {
        start: {
          line: 567,
          column: 24
        },
        end: {
          line: 600,
          column: 25
        }
      },
      "238": {
        start: {
          line: 568,
          column: 43
        },
        end: {
          line: 568,
          column: 52
        }
      },
      "239": {
        start: {
          line: 569,
          column: 54
        },
        end: {
          line: 569,
          column: 84
        }
      },
      "240": {
        start: {
          line: 570,
          column: 28
        },
        end: {
          line: 570,
          column: 93
        }
      },
      "241": {
        start: {
          line: 570,
          column: 84
        },
        end: {
          line: 570,
          column: 93
        }
      },
      "242": {
        start: {
          line: 571,
          column: 50
        },
        end: {
          line: 576,
          column: 30
        }
      },
      "243": {
        start: {
          line: 577,
          column: 28
        },
        end: {
          line: 599,
          column: 29
        }
      },
      "244": {
        start: {
          line: 578,
          column: 56
        },
        end: {
          line: 578,
          column: 78
        }
      },
      "245": {
        start: {
          line: 579,
          column: 56
        },
        end: {
          line: 579,
          column: 111
        }
      },
      "246": {
        start: {
          line: 580,
          column: 51
        },
        end: {
          line: 583,
          column: 33
        }
      },
      "247": {
        start: {
          line: 584,
          column: 32
        },
        end: {
          line: 589,
          column: 35
        }
      },
      "248": {
        start: {
          line: 590,
          column: 32
        },
        end: {
          line: 595,
          column: 35
        }
      },
      "249": {
        start: {
          line: 596,
          column: 32
        },
        end: {
          line: 596,
          column: 186
        }
      },
      "250": {
        start: {
          line: 598,
          column: 32
        },
        end: {
          line: 598,
          column: 198
        }
      },
      "251": {
        start: {
          line: 603,
          column: 24
        },
        end: {
          line: 603,
          column: 226
        }
      },
      "252": {
        start: {
          line: 604,
          column: 59
        },
        end: {
          line: 608,
          column: 26
        }
      },
      "253": {
        start: {
          line: 609,
          column: 24
        },
        end: {
          line: 636,
          column: 25
        }
      },
      "254": {
        start: {
          line: 610,
          column: 56
        },
        end: {
          line: 610,
          column: 85
        }
      },
      "255": {
        start: {
          line: 611,
          column: 55
        },
        end: {
          line: 611,
          column: 81
        }
      },
      "256": {
        start: {
          line: 612,
          column: 28
        },
        end: {
          line: 612,
          column: 171
        }
      },
      "257": {
        start: {
          line: 613,
          column: 52
        },
        end: {
          line: 613,
          column: 80
        }
      },
      "258": {
        start: {
          line: 614,
          column: 52
        },
        end: {
          line: 614,
          column: 124
        }
      },
      "259": {
        start: {
          line: 615,
          column: 55
        },
        end: {
          line: 618,
          column: 29
        }
      },
      "260": {
        start: {
          line: 619,
          column: 28
        },
        end: {
          line: 624,
          column: 31
        }
      },
      "261": {
        start: {
          line: 625,
          column: 28
        },
        end: {
          line: 630,
          column: 31
        }
      },
      "262": {
        start: {
          line: 631,
          column: 28
        },
        end: {
          line: 631,
          column: 214
        }
      },
      "263": {
        start: {
          line: 632,
          column: 31
        },
        end: {
          line: 636,
          column: 25
        }
      },
      "264": {
        start: {
          line: 633,
          column: 28
        },
        end: {
          line: 633,
          column: 168
        }
      },
      "265": {
        start: {
          line: 635,
          column: 28
        },
        end: {
          line: 635,
          column: 295
        }
      },
      "266": {
        start: {
          line: 639,
          column: 51
        },
        end: {
          line: 646,
          column: 22
        }
      },
      "267": {
        start: {
          line: 647,
          column: 49
        },
        end: {
          line: 647,
          column: 50
        }
      },
      "268": {
        start: {
          line: 648,
          column: 46
        },
        end: {
          line: 648,
          column: 47
        }
      },
      "269": {
        start: {
          line: 649,
          column: 20
        },
        end: {
          line: 652,
          column: 23
        }
      },
      "270": {
        start: {
          line: 650,
          column: 24
        },
        end: {
          line: 650,
          column: 65
        }
      },
      "271": {
        start: {
          line: 651,
          column: 24
        },
        end: {
          line: 651,
          column: 76
        }
      },
      "272": {
        start: {
          line: 653,
          column: 43
        },
        end: {
          line: 653,
          column: 44
        }
      },
      "273": {
        start: {
          line: 654,
          column: 20
        },
        end: {
          line: 656,
          column: 21
        }
      },
      "274": {
        start: {
          line: 655,
          column: 24
        },
        end: {
          line: 655,
          column: 88
        }
      },
      "275": {
        start: {
          line: 657,
          column: 20
        },
        end: {
          line: 664,
          column: 23
        }
      },
      "276": {
        start: {
          line: 668,
          column: 12
        },
        end: {
          line: 672,
          column: 15
        }
      },
      "277": {
        start: {
          line: 673,
          column: 12
        },
        end: {
          line: 677,
          column: 15
        }
      },
      "278": {
        start: {
          line: 678,
          column: 12
        },
        end: {
          line: 681,
          column: 14
        }
      },
      "279": {
        start: {
          line: 684,
          column: 8
        },
        end: {
          line: 686,
          column: 9
        }
      },
      "280": {
        start: {
          line: 685,
          column: 12
        },
        end: {
          line: 685,
          column: 92
        }
      },
      "281": {
        start: {
          line: 688,
          column: 8
        },
        end: {
          line: 702,
          column: 9
        }
      },
      "282": {
        start: {
          line: 689,
          column: 12
        },
        end: {
          line: 689,
          column: 61
        }
      },
      "283": {
        start: {
          line: 690,
          column: 12
        },
        end: {
          line: 690,
          column: 66
        }
      },
      "284": {
        start: {
          line: 691,
          column: 12
        },
        end: {
          line: 691,
          column: 72
        }
      },
      "285": {
        start: {
          line: 692,
          column: 12
        },
        end: {
          line: 692,
          column: 62
        }
      },
      "286": {
        start: {
          line: 693,
          column: 12
        },
        end: {
          line: 693,
          column: 60
        }
      },
      "287": {
        start: {
          line: 694,
          column: 12
        },
        end: {
          line: 694,
          column: 64
        }
      },
      "288": {
        start: {
          line: 696,
          column: 12
        },
        end: {
          line: 696,
          column: 81
        }
      },
      "289": {
        start: {
          line: 697,
          column: 12
        },
        end: {
          line: 697,
          column: 76
        }
      },
      "290": {
        start: {
          line: 698,
          column: 12
        },
        end: {
          line: 698,
          column: 80
        }
      },
      "291": {
        start: {
          line: 700,
          column: 12
        },
        end: {
          line: 700,
          column: 92
        }
      },
      "292": {
        start: {
          line: 704,
          column: 8
        },
        end: {
          line: 713,
          column: 9
        }
      },
      "293": {
        start: {
          line: 705,
          column: 12
        },
        end: {
          line: 705,
          column: 59
        }
      },
      "294": {
        start: {
          line: 706,
          column: 12
        },
        end: {
          line: 706,
          column: 64
        }
      },
      "295": {
        start: {
          line: 707,
          column: 12
        },
        end: {
          line: 707,
          column: 67
        }
      },
      "296": {
        start: {
          line: 708,
          column: 12
        },
        end: {
          line: 708,
          column: 72
        }
      },
      "297": {
        start: {
          line: 709,
          column: 12
        },
        end: {
          line: 709,
          column: 53
        }
      },
      "298": {
        start: {
          line: 710,
          column: 12
        },
        end: {
          line: 710,
          column: 78
        }
      },
      "299": {
        start: {
          line: 712,
          column: 12
        },
        end: {
          line: 712,
          column: 104
        }
      },
      "300": {
        start: {
          line: 714,
          column: 8
        },
        end: {
          line: 716,
          column: 11
        }
      },
      "301": {
        start: {
          line: 718,
          column: 8
        },
        end: {
          line: 718,
          column: 82
        }
      },
      "302": {
        start: {
          line: 719,
          column: 24
        },
        end: {
          line: 719,
          column: 92
        }
      },
      "303": {
        start: {
          line: 720,
          column: 8
        },
        end: {
          line: 727,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 12
          },
          end: {
            line: 12,
            column: 13
          }
        },
        loc: {
          start: {
            line: 12,
            column: 23
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 15,
            column: 10
          }
        },
        loc: {
          start: {
            line: 15,
            column: 20
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 9
          },
          end: {
            line: 18,
            column: 10
          }
        },
        loc: {
          start: {
            line: 18,
            column: 20
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "_interop_require_default",
        decl: {
          start: {
            line: 26,
            column: 9
          },
          end: {
            line: 26,
            column: 33
          }
        },
        loc: {
          start: {
            line: 26,
            column: 39
          },
          end: {
            line: 30,
            column: 1
          }
        },
        line: 26
      },
      "5": {
        name: "GET",
        decl: {
          start: {
            line: 31,
            column: 15
          },
          end: {
            line: 31,
            column: 18
          }
        },
        loc: {
          start: {
            line: 31,
            column: 40
          },
          end: {
            line: 79,
            column: 1
          }
        },
        line: 31
      },
      "6": {
        name: "PUT",
        decl: {
          start: {
            line: 80,
            column: 15
          },
          end: {
            line: 80,
            column: 18
          }
        },
        loc: {
          start: {
            line: 80,
            column: 40
          },
          end: {
            line: 510,
            column: 1
          }
        },
        line: 80
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 133,
            column: 58
          },
          end: {
            line: 133,
            column: 59
          }
        },
        loc: {
          start: {
            line: 133,
            column: 70
          },
          end: {
            line: 460,
            column: 9
          }
        },
        line: 133
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 218,
            column: 93
          },
          end: {
            line: 218,
            column: 94
          }
        },
        loc: {
          start: {
            line: 218,
            column: 105
          },
          end: {
            line: 218,
            column: 123
          }
        },
        line: 218
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 230,
            column: 51
          },
          end: {
            line: 230,
            column: 52
          }
        },
        loc: {
          start: {
            line: 230,
            column: 67
          },
          end: {
            line: 233,
            column: 21
          }
        },
        line: 230
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 256,
            column: 37
          },
          end: {
            line: 256,
            column: 38
          }
        },
        loc: {
          start: {
            line: 256,
            column: 45
          },
          end: {
            line: 258,
            column: 17
          }
        },
        line: 256
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 421,
            column: 45
          },
          end: {
            line: 421,
            column: 46
          }
        },
        loc: {
          start: {
            line: 421,
            column: 61
          },
          end: {
            line: 424,
            column: 21
          }
        },
        line: 421
      },
      "12": {
        name: "DELETE",
        decl: {
          start: {
            line: 511,
            column: 15
          },
          end: {
            line: 511,
            column: 21
          }
        },
        loc: {
          start: {
            line: 511,
            column: 43
          },
          end: {
            line: 729,
            column: 1
          }
        },
        line: 511
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 545,
            column: 58
          },
          end: {
            line: 545,
            column: 59
          }
        },
        loc: {
          start: {
            line: 545,
            column: 70
          },
          end: {
            line: 682,
            column: 9
          }
        },
        line: 545
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 649,
            column: 51
          },
          end: {
            line: 649,
            column: 52
          }
        },
        loc: {
          start: {
            line: 649,
            column: 60
          },
          end: {
            line: 652,
            column: 21
          }
        },
        line: 649
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 27,
            column: 11
          },
          end: {
            line: 29,
            column: 5
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 27,
            column: 35
          },
          end: {
            line: 27,
            column: 38
          }
        }, {
          start: {
            line: 27,
            column: 41
          },
          end: {
            line: 29,
            column: 5
          }
        }],
        line: 27
      },
      "1": {
        loc: {
          start: {
            line: 27,
            column: 11
          },
          end: {
            line: 27,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 27,
            column: 11
          },
          end: {
            line: 27,
            column: 14
          }
        }, {
          start: {
            line: 27,
            column: 18
          },
          end: {
            line: 27,
            column: 32
          }
        }],
        line: 27
      },
      "2": {
        loc: {
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 43,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 35
      },
      "3": {
        loc: {
          start: {
            line: 57,
            column: 8
          },
          end: {
            line: 65,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 57,
            column: 8
          },
          end: {
            line: 65,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 57
      },
      "4": {
        loc: {
          start: {
            line: 69,
            column: 24
          },
          end: {
            line: 69,
            column: 92
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 69,
            column: 49
          },
          end: {
            line: 69,
            column: 62
          }
        }, {
          start: {
            line: 69,
            column: 65
          },
          end: {
            line: 69,
            column: 92
          }
        }],
        line: 69
      },
      "5": {
        loc: {
          start: {
            line: 84,
            column: 8
          },
          end: {
            line: 92,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 84,
            column: 8
          },
          end: {
            line: 92,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 84
      },
      "6": {
        loc: {
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 114,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 106,
            column: 8
          },
          end: {
            line: 114,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 106
      },
      "7": {
        loc: {
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 118,
            column: 96
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 118,
            column: 8
          },
          end: {
            line: 118,
            column: 96
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 118
      },
      "8": {
        loc: {
          start: {
            line: 119,
            column: 8
          },
          end: {
            line: 119,
            column: 75
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 119,
            column: 8
          },
          end: {
            line: 119,
            column: 75
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 119
      },
      "9": {
        loc: {
          start: {
            line: 120,
            column: 8
          },
          end: {
            line: 120,
            column: 79
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 120,
            column: 8
          },
          end: {
            line: 120,
            column: 79
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 120
      },
      "10": {
        loc: {
          start: {
            line: 121,
            column: 8
          },
          end: {
            line: 121,
            column: 129
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 121,
            column: 8
          },
          end: {
            line: 121,
            column: 129
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 121
      },
      "11": {
        loc: {
          start: {
            line: 121,
            column: 74
          },
          end: {
            line: 121,
            column: 128
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 121,
            column: 94
          },
          end: {
            line: 121,
            column: 121
          }
        }, {
          start: {
            line: 121,
            column: 124
          },
          end: {
            line: 121,
            column: 128
          }
        }],
        line: 121
      },
      "12": {
        loc: {
          start: {
            line: 122,
            column: 8
          },
          end: {
            line: 123,
            column: 99
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 122,
            column: 8
          },
          end: {
            line: 123,
            column: 99
          }
        }, {
          start: {
            line: 123,
            column: 13
          },
          end: {
            line: 123,
            column: 99
          }
        }],
        line: 122
      },
      "13": {
        loc: {
          start: {
            line: 123,
            column: 13
          },
          end: {
            line: 123,
            column: 99
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 123,
            column: 13
          },
          end: {
            line: 123,
            column: 99
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 123
      },
      "14": {
        loc: {
          start: {
            line: 124,
            column: 43
          },
          end: {
            line: 124,
            column: 133
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 124,
            column: 80
          },
          end: {
            line: 124,
            column: 100
          }
        }, {
          start: {
            line: 124,
            column: 103
          },
          end: {
            line: 124,
            column: 133
          }
        }],
        line: 124
      },
      "15": {
        loc: {
          start: {
            line: 125,
            column: 8
          },
          end: {
            line: 132,
            column: 10
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 125,
            column: 8
          },
          end: {
            line: 132,
            column: 10
          }
        }, {
          start: {
            line: 130,
            column: 13
          },
          end: {
            line: 132,
            column: 10
          }
        }],
        line: 125
      },
      "16": {
        loc: {
          start: {
            line: 130,
            column: 13
          },
          end: {
            line: 132,
            column: 10
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 130,
            column: 13
          },
          end: {
            line: 132,
            column: 10
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 130
      },
      "17": {
        loc: {
          start: {
            line: 130,
            column: 17
          },
          end: {
            line: 130,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 130,
            column: 17
          },
          end: {
            line: 130,
            column: 46
          }
        }, {
          start: {
            line: 130,
            column: 50
          },
          end: {
            line: 130,
            column: 77
          }
        }],
        line: 130
      },
      "18": {
        loc: {
          start: {
            line: 135,
            column: 12
          },
          end: {
            line: 247,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 135,
            column: 12
          },
          end: {
            line: 247,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 135
      },
      "19": {
        loc: {
          start: {
            line: 135,
            column: 16
          },
          end: {
            line: 135,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 135,
            column: 16
          },
          end: {
            line: 135,
            column: 38
          }
        }, {
          start: {
            line: 135,
            column: 42
          },
          end: {
            line: 135,
            column: 75
          }
        }],
        line: 135
      },
      "20": {
        loc: {
          start: {
            line: 142,
            column: 20
          },
          end: {
            line: 142,
            column: 51
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 142,
            column: 20
          },
          end: {
            line: 142,
            column: 51
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 142
      },
      "21": {
        loc: {
          start: {
            line: 143,
            column: 48
          },
          end: {
            line: 143,
            column: 461
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 143,
            column: 213
          },
          end: {
            line: 143,
            column: 284
          }
        }, {
          start: {
            line: 143,
            column: 287
          },
          end: {
            line: 143,
            column: 461
          }
        }],
        line: 143
      },
      "22": {
        loc: {
          start: {
            line: 143,
            column: 48
          },
          end: {
            line: 143,
            column: 210
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 143,
            column: 48
          },
          end: {
            line: 143,
            column: 78
          }
        }, {
          start: {
            line: 143,
            column: 82
          },
          end: {
            line: 143,
            column: 127
          }
        }, {
          start: {
            line: 143,
            column: 131
          },
          end: {
            line: 143,
            column: 210
          }
        }],
        line: 143
      },
      "23": {
        loc: {
          start: {
            line: 143,
            column: 287
          },
          end: {
            line: 143,
            column: 461
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 143,
            column: 424
          },
          end: {
            line: 143,
            column: 454
          }
        }, {
          start: {
            line: 143,
            column: 457
          },
          end: {
            line: 143,
            column: 461
          }
        }],
        line: 143
      },
      "24": {
        loc: {
          start: {
            line: 143,
            column: 287
          },
          end: {
            line: 143,
            column: 421
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 143,
            column: 287
          },
          end: {
            line: 143,
            column: 317
          }
        }, {
          start: {
            line: 143,
            column: 321
          },
          end: {
            line: 143,
            column: 371
          }
        }, {
          start: {
            line: 143,
            column: 375
          },
          end: {
            line: 143,
            column: 421
          }
        }],
        line: 143
      },
      "25": {
        loc: {
          start: {
            line: 144,
            column: 20
          },
          end: {
            line: 211,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 144,
            column: 20
          },
          end: {
            line: 211,
            column: 21
          }
        }, {
          start: {
            line: 176,
            column: 27
          },
          end: {
            line: 211,
            column: 21
          }
        }],
        line: 144
      },
      "26": {
        loc: {
          start: {
            line: 144,
            column: 24
          },
          end: {
            line: 144,
            column: 90
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 144,
            column: 24
          },
          end: {
            line: 144,
            column: 43
          }
        }, {
          start: {
            line: 144,
            column: 47
          },
          end: {
            line: 144,
            column: 90
          }
        }],
        line: 144
      },
      "27": {
        loc: {
          start: {
            line: 148,
            column: 28
          },
          end: {
            line: 148,
            column: 81
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 148,
            column: 28
          },
          end: {
            line: 148,
            column: 81
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 148
      },
      "28": {
        loc: {
          start: {
            line: 148,
            column: 32
          },
          end: {
            line: 148,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 148,
            column: 32
          },
          end: {
            line: 148,
            column: 48
          }
        }, {
          start: {
            line: 148,
            column: 52
          },
          end: {
            line: 148,
            column: 70
          }
        }],
        line: 148
      },
      "29": {
        loc: {
          start: {
            line: 155,
            column: 28
          },
          end: {
            line: 174,
            column: 29
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 155,
            column: 28
          },
          end: {
            line: 174,
            column: 29
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 155
      },
      "30": {
        loc: {
          start: {
            line: 165,
            column: 58
          },
          end: {
            line: 165,
            column: 108
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 165,
            column: 78
          },
          end: {
            line: 165,
            column: 79
          }
        }, {
          start: {
            line: 165,
            column: 82
          },
          end: {
            line: 165,
            column: 108
          }
        }],
        line: 165
      },
      "31": {
        loc: {
          start: {
            line: 184,
            column: 24
          },
          end: {
            line: 210,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 184,
            column: 24
          },
          end: {
            line: 210,
            column: 25
          }
        }, {
          start: {
            line: 206,
            column: 31
          },
          end: {
            line: 210,
            column: 25
          }
        }],
        line: 184
      },
      "32": {
        loc: {
          start: {
            line: 196,
            column: 54
          },
          end: {
            line: 196,
            column: 104
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 196,
            column: 74
          },
          end: {
            line: 196,
            column: 75
          }
        }, {
          start: {
            line: 196,
            column: 78
          },
          end: {
            line: 196,
            column: 104
          }
        }],
        line: 196
      },
      "33": {
        loc: {
          start: {
            line: 206,
            column: 31
          },
          end: {
            line: 210,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 206,
            column: 31
          },
          end: {
            line: 210,
            column: 25
          }
        }, {
          start: {
            line: 208,
            column: 31
          },
          end: {
            line: 210,
            column: 25
          }
        }],
        line: 206
      },
      "34": {
        loc: {
          start: {
            line: 235,
            column: 20
          },
          end: {
            line: 237,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 235,
            column: 20
          },
          end: {
            line: 237,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 235
      },
      "35": {
        loc: {
          start: {
            line: 243,
            column: 49
          },
          end: {
            line: 243,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 243,
            column: 63
          },
          end: {
            line: 243,
            column: 69
          }
        }, {
          start: {
            line: 243,
            column: 72
          },
          end: {
            line: 243,
            column: 73
          }
        }],
        line: 243
      },
      "36": {
        loc: {
          start: {
            line: 255,
            column: 12
          },
          end: {
            line: 259,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 255,
            column: 12
          },
          end: {
            line: 259,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 255
      },
      "37": {
        loc: {
          start: {
            line: 255,
            column: 16
          },
          end: {
            line: 255,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 255,
            column: 16
          },
          end: {
            line: 255,
            column: 28
          }
        }, {
          start: {
            line: 255,
            column: 32
          },
          end: {
            line: 255,
            column: 59
          }
        }],
        line: 255
      },
      "38": {
        loc: {
          start: {
            line: 257,
            column: 76
          },
          end: {
            line: 257,
            column: 91
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 257,
            column: 76
          },
          end: {
            line: 257,
            column: 86
          }
        }, {
          start: {
            line: 257,
            column: 90
          },
          end: {
            line: 257,
            column: 91
          }
        }],
        line: 257
      },
      "39": {
        loc: {
          start: {
            line: 267,
            column: 12
          },
          end: {
            line: 442,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 267,
            column: 12
          },
          end: {
            line: 442,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 267
      },
      "40": {
        loc: {
          start: {
            line: 267,
            column: 16
          },
          end: {
            line: 267,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 267,
            column: 16
          },
          end: {
            line: 267,
            column: 28
          }
        }, {
          start: {
            line: 267,
            column: 32
          },
          end: {
            line: 267,
            column: 59
          }
        }],
        line: 267
      },
      "41": {
        loc: {
          start: {
            line: 270,
            column: 20
          },
          end: {
            line: 270,
            column: 99
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 270,
            column: 20
          },
          end: {
            line: 270,
            column: 99
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 270
      },
      "42": {
        loc: {
          start: {
            line: 270,
            column: 24
          },
          end: {
            line: 270,
            column: 88
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 270,
            column: 24
          },
          end: {
            line: 270,
            column: 42
          }
        }, {
          start: {
            line: 270,
            column: 46
          },
          end: {
            line: 270,
            column: 63
          }
        }, {
          start: {
            line: 270,
            column: 67
          },
          end: {
            line: 270,
            column: 88
          }
        }],
        line: 270
      },
      "43": {
        loc: {
          start: {
            line: 276,
            column: 42
          },
          end: {
            line: 276,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 276,
            column: 42
          },
          end: {
            line: 276,
            column: 55
          }
        }, {
          start: {
            line: 276,
            column: 59
          },
          end: {
            line: 276,
            column: 60
          }
        }],
        line: 276
      },
      "44": {
        loc: {
          start: {
            line: 277,
            column: 69
          },
          end: {
            line: 277,
            column: 87
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 277,
            column: 69
          },
          end: {
            line: 277,
            column: 82
          }
        }, {
          start: {
            line: 277,
            column: 86
          },
          end: {
            line: 277,
            column: 87
          }
        }],
        line: 277
      },
      "45": {
        loc: {
          start: {
            line: 285,
            column: 20
          },
          end: {
            line: 285,
            column: 51
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 285,
            column: 20
          },
          end: {
            line: 285,
            column: 51
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 285
      },
      "46": {
        loc: {
          start: {
            line: 286,
            column: 48
          },
          end: {
            line: 286,
            column: 297
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 286,
            column: 137
          },
          end: {
            line: 286,
            column: 160
          }
        }, {
          start: {
            line: 286,
            column: 163
          },
          end: {
            line: 286,
            column: 297
          }
        }],
        line: 286
      },
      "47": {
        loc: {
          start: {
            line: 286,
            column: 48
          },
          end: {
            line: 286,
            column: 134
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 286,
            column: 48
          },
          end: {
            line: 286,
            column: 68
          }
        }, {
          start: {
            line: 286,
            column: 72
          },
          end: {
            line: 286,
            column: 107
          }
        }, {
          start: {
            line: 286,
            column: 111
          },
          end: {
            line: 286,
            column: 134
          }
        }],
        line: 286
      },
      "48": {
        loc: {
          start: {
            line: 286,
            column: 163
          },
          end: {
            line: 286,
            column: 297
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 286,
            column: 270
          },
          end: {
            line: 286,
            column: 290
          }
        }, {
          start: {
            line: 286,
            column: 293
          },
          end: {
            line: 286,
            column: 297
          }
        }],
        line: 286
      },
      "49": {
        loc: {
          start: {
            line: 286,
            column: 163
          },
          end: {
            line: 286,
            column: 267
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 286,
            column: 163
          },
          end: {
            line: 286,
            column: 183
          }
        }, {
          start: {
            line: 286,
            column: 187
          },
          end: {
            line: 286,
            column: 227
          }
        }, {
          start: {
            line: 286,
            column: 231
          },
          end: {
            line: 286,
            column: 267
          }
        }],
        line: 286
      },
      "50": {
        loc: {
          start: {
            line: 288,
            column: 20
          },
          end: {
            line: 411,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 288,
            column: 20
          },
          end: {
            line: 411,
            column: 21
          }
        }, {
          start: {
            line: 340,
            column: 27
          },
          end: {
            line: 411,
            column: 21
          }
        }],
        line: 288
      },
      "51": {
        loc: {
          start: {
            line: 288,
            column: 24
          },
          end: {
            line: 288,
            column: 90
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 288,
            column: 24
          },
          end: {
            line: 288,
            column: 43
          }
        }, {
          start: {
            line: 288,
            column: 47
          },
          end: {
            line: 288,
            column: 90
          }
        }],
        line: 288
      },
      "52": {
        loc: {
          start: {
            line: 292,
            column: 28
          },
          end: {
            line: 292,
            column: 75
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 292,
            column: 28
          },
          end: {
            line: 292,
            column: 75
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 292
      },
      "53": {
        loc: {
          start: {
            line: 292,
            column: 32
          },
          end: {
            line: 292,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 292,
            column: 32
          },
          end: {
            line: 292,
            column: 45
          }
        }, {
          start: {
            line: 292,
            column: 49
          },
          end: {
            line: 292,
            column: 64
          }
        }],
        line: 292
      },
      "54": {
        loc: {
          start: {
            line: 300,
            column: 46
          },
          end: {
            line: 300,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 300,
            column: 46
          },
          end: {
            line: 300,
            column: 65
          }
        }, {
          start: {
            line: 300,
            column: 69
          },
          end: {
            line: 300,
            column: 70
          }
        }],
        line: 300
      },
      "55": {
        loc: {
          start: {
            line: 302,
            column: 53
          },
          end: {
            line: 302,
            column: 71
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 302,
            column: 53
          },
          end: {
            line: 302,
            column: 66
          }
        }, {
          start: {
            line: 302,
            column: 70
          },
          end: {
            line: 302,
            column: 71
          }
        }],
        line: 302
      },
      "56": {
        loc: {
          start: {
            line: 303,
            column: 28
          },
          end: {
            line: 332,
            column: 29
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 303,
            column: 28
          },
          end: {
            line: 332,
            column: 29
          }
        }, {
          start: {
            line: 321,
            column: 35
          },
          end: {
            line: 332,
            column: 29
          }
        }],
        line: 303
      },
      "57": {
        loc: {
          start: {
            line: 305,
            column: 59
          },
          end: {
            line: 305,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 305,
            column: 59
          },
          end: {
            line: 305,
            column: 77
          }
        }, {
          start: {
            line: 305,
            column: 81
          },
          end: {
            line: 305,
            column: 82
          }
        }],
        line: 305
      },
      "58": {
        loc: {
          start: {
            line: 305,
            column: 87
          },
          end: {
            line: 305,
            column: 118
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 305,
            column: 87
          },
          end: {
            line: 305,
            column: 113
          }
        }, {
          start: {
            line: 305,
            column: 117
          },
          end: {
            line: 305,
            column: 118
          }
        }],
        line: 305
      },
      "59": {
        loc: {
          start: {
            line: 307,
            column: 32
          },
          end: {
            line: 311,
            column: 33
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 307,
            column: 32
          },
          end: {
            line: 311,
            column: 33
          }
        }, {
          start: {
            line: 309,
            column: 39
          },
          end: {
            line: 311,
            column: 33
          }
        }],
        line: 307
      },
      "60": {
        loc: {
          start: {
            line: 318,
            column: 58
          },
          end: {
            line: 318,
            column: 118
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 318,
            column: 90
          },
          end: {
            line: 318,
            column: 114
          }
        }, {
          start: {
            line: 318,
            column: 117
          },
          end: {
            line: 318,
            column: 118
          }
        }],
        line: 318
      },
      "61": {
        loc: {
          start: {
            line: 329,
            column: 58
          },
          end: {
            line: 329,
            column: 118
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 329,
            column: 90
          },
          end: {
            line: 329,
            column: 114
          }
        }, {
          start: {
            line: 329,
            column: 117
          },
          end: {
            line: 329,
            column: 118
          }
        }],
        line: 329
      },
      "62": {
        loc: {
          start: {
            line: 349,
            column: 24
          },
          end: {
            line: 356,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 349,
            column: 24
          },
          end: {
            line: 356,
            column: 25
          }
        }, {
          start: {
            line: 352,
            column: 31
          },
          end: {
            line: 356,
            column: 25
          }
        }],
        line: 349
      },
      "63": {
        loc: {
          start: {
            line: 352,
            column: 31
          },
          end: {
            line: 356,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 352,
            column: 31
          },
          end: {
            line: 356,
            column: 25
          }
        }, {
          start: {
            line: 354,
            column: 31
          },
          end: {
            line: 356,
            column: 25
          }
        }],
        line: 352
      },
      "64": {
        loc: {
          start: {
            line: 357,
            column: 24
          },
          end: {
            line: 410,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 357,
            column: 24
          },
          end: {
            line: 410,
            column: 25
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 357
      },
      "65": {
        loc: {
          start: {
            line: 359,
            column: 28
          },
          end: {
            line: 409,
            column: 29
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 359,
            column: 28
          },
          end: {
            line: 409,
            column: 29
          }
        }, {
          start: {
            line: 407,
            column: 35
          },
          end: {
            line: 409,
            column: 29
          }
        }],
        line: 359
      },
      "66": {
        loc: {
          start: {
            line: 367,
            column: 50
          },
          end: {
            line: 367,
            column: 74
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 367,
            column: 50
          },
          end: {
            line: 367,
            column: 69
          }
        }, {
          start: {
            line: 367,
            column: 73
          },
          end: {
            line: 367,
            column: 74
          }
        }],
        line: 367
      },
      "67": {
        loc: {
          start: {
            line: 369,
            column: 57
          },
          end: {
            line: 369,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 369,
            column: 57
          },
          end: {
            line: 369,
            column: 70
          }
        }, {
          start: {
            line: 369,
            column: 74
          },
          end: {
            line: 369,
            column: 75
          }
        }],
        line: 369
      },
      "68": {
        loc: {
          start: {
            line: 370,
            column: 32
          },
          end: {
            line: 400,
            column: 33
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 370,
            column: 32
          },
          end: {
            line: 400,
            column: 33
          }
        }, {
          start: {
            line: 388,
            column: 39
          },
          end: {
            line: 400,
            column: 33
          }
        }],
        line: 370
      },
      "69": {
        loc: {
          start: {
            line: 372,
            column: 63
          },
          end: {
            line: 372,
            column: 86
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 372,
            column: 63
          },
          end: {
            line: 372,
            column: 81
          }
        }, {
          start: {
            line: 372,
            column: 85
          },
          end: {
            line: 372,
            column: 86
          }
        }],
        line: 372
      },
      "70": {
        loc: {
          start: {
            line: 372,
            column: 91
          },
          end: {
            line: 372,
            column: 122
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 372,
            column: 91
          },
          end: {
            line: 372,
            column: 117
          }
        }, {
          start: {
            line: 372,
            column: 121
          },
          end: {
            line: 372,
            column: 122
          }
        }],
        line: 372
      },
      "71": {
        loc: {
          start: {
            line: 374,
            column: 36
          },
          end: {
            line: 378,
            column: 37
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 374,
            column: 36
          },
          end: {
            line: 378,
            column: 37
          }
        }, {
          start: {
            line: 376,
            column: 43
          },
          end: {
            line: 378,
            column: 37
          }
        }],
        line: 374
      },
      "72": {
        loc: {
          start: {
            line: 385,
            column: 62
          },
          end: {
            line: 385,
            column: 122
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 385,
            column: 94
          },
          end: {
            line: 385,
            column: 118
          }
        }, {
          start: {
            line: 385,
            column: 121
          },
          end: {
            line: 385,
            column: 122
          }
        }],
        line: 385
      },
      "73": {
        loc: {
          start: {
            line: 397,
            column: 62
          },
          end: {
            line: 397,
            column: 122
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 397,
            column: 94
          },
          end: {
            line: 397,
            column: 118
          }
        }, {
          start: {
            line: 397,
            column: 121
          },
          end: {
            line: 397,
            column: 122
          }
        }],
        line: 397
      },
      "74": {
        loc: {
          start: {
            line: 426,
            column: 20
          },
          end: {
            line: 428,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 426,
            column: 20
          },
          end: {
            line: 428,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 426
      },
      "75": {
        loc: {
          start: {
            line: 430,
            column: 20
          },
          end: {
            line: 432,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 430,
            column: 20
          },
          end: {
            line: 432,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 430
      },
      "76": {
        loc: {
          start: {
            line: 430,
            column: 24
          },
          end: {
            line: 430,
            column: 84
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 430,
            column: 24
          },
          end: {
            line: 430,
            column: 51
          }
        }, {
          start: {
            line: 430,
            column: 55
          },
          end: {
            line: 430,
            column: 84
          }
        }],
        line: 430
      },
      "77": {
        loc: {
          start: {
            line: 464,
            column: 8
          },
          end: {
            line: 466,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 464,
            column: 8
          },
          end: {
            line: 466,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 464
      },
      "78": {
        loc: {
          start: {
            line: 464,
            column: 12
          },
          end: {
            line: 464,
            column: 47
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 464,
            column: 12
          },
          end: {
            line: 464,
            column: 18
          }
        }, {
          start: {
            line: 464,
            column: 22
          },
          end: {
            line: 464,
            column: 47
          }
        }],
        line: 464
      },
      "79": {
        loc: {
          start: {
            line: 500,
            column: 24
          },
          end: {
            line: 500,
            column: 78
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 500,
            column: 49
          },
          end: {
            line: 500,
            column: 62
          }
        }, {
          start: {
            line: 500,
            column: 65
          },
          end: {
            line: 500,
            column: 78
          }
        }],
        line: 500
      },
      "80": {
        loc: {
          start: {
            line: 515,
            column: 8
          },
          end: {
            line: 523,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 515,
            column: 8
          },
          end: {
            line: 523,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 515
      },
      "81": {
        loc: {
          start: {
            line: 536,
            column: 8
          },
          end: {
            line: 544,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 536,
            column: 8
          },
          end: {
            line: 544,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 536
      },
      "82": {
        loc: {
          start: {
            line: 547,
            column: 12
          },
          end: {
            line: 667,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 547,
            column: 12
          },
          end: {
            line: 667,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 547
      },
      "83": {
        loc: {
          start: {
            line: 547,
            column: 16
          },
          end: {
            line: 547,
            column: 75
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 547,
            column: 16
          },
          end: {
            line: 547,
            column: 38
          }
        }, {
          start: {
            line: 547,
            column: 42
          },
          end: {
            line: 547,
            column: 75
          }
        }],
        line: 547
      },
      "84": {
        loc: {
          start: {
            line: 549,
            column: 20
          },
          end: {
            line: 552,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 549,
            column: 20
          },
          end: {
            line: 552,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 549
      },
      "85": {
        loc: {
          start: {
            line: 558,
            column: 20
          },
          end: {
            line: 563,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 558,
            column: 20
          },
          end: {
            line: 563,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 558
      },
      "86": {
        loc: {
          start: {
            line: 558,
            column: 24
          },
          end: {
            line: 558,
            column: 159
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 558,
            column: 24
          },
          end: {
            line: 558,
            column: 46
          }
        }, {
          start: {
            line: 558,
            column: 50
          },
          end: {
            line: 558,
            column: 87
          }
        }, {
          start: {
            line: 558,
            column: 91
          },
          end: {
            line: 558,
            column: 159
          }
        }],
        line: 558
      },
      "87": {
        loc: {
          start: {
            line: 560,
            column: 24
          },
          end: {
            line: 562,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 560,
            column: 24
          },
          end: {
            line: 562,
            column: 25
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 560
      },
      "88": {
        loc: {
          start: {
            line: 560,
            column: 28
          },
          end: {
            line: 560,
            column: 104
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 560,
            column: 28
          },
          end: {
            line: 560,
            column: 36
          }
        }, {
          start: {
            line: 560,
            column: 40
          },
          end: {
            line: 560,
            column: 68
          }
        }, {
          start: {
            line: 560,
            column: 72
          },
          end: {
            line: 560,
            column: 104
          }
        }],
        line: 560
      },
      "89": {
        loc: {
          start: {
            line: 564,
            column: 20
          },
          end: {
            line: 637,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 564,
            column: 20
          },
          end: {
            line: 637,
            column: 21
          }
        }, {
          start: {
            line: 601,
            column: 27
          },
          end: {
            line: 637,
            column: 21
          }
        }],
        line: 564
      },
      "90": {
        loc: {
          start: {
            line: 570,
            column: 28
          },
          end: {
            line: 570,
            column: 93
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 570,
            column: 28
          },
          end: {
            line: 570,
            column: 93
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 570
      },
      "91": {
        loc: {
          start: {
            line: 570,
            column: 32
          },
          end: {
            line: 570,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 570,
            column: 32
          },
          end: {
            line: 570,
            column: 56
          }
        }, {
          start: {
            line: 570,
            column: 60
          },
          end: {
            line: 570,
            column: 82
          }
        }],
        line: 570
      },
      "92": {
        loc: {
          start: {
            line: 577,
            column: 28
          },
          end: {
            line: 599,
            column: 29
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 577,
            column: 28
          },
          end: {
            line: 599,
            column: 29
          }
        }, {
          start: {
            line: 597,
            column: 35
          },
          end: {
            line: 599,
            column: 29
          }
        }],
        line: 577
      },
      "93": {
        loc: {
          start: {
            line: 582,
            column: 54
          },
          end: {
            line: 582,
            column: 112
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 582,
            column: 78
          },
          end: {
            line: 582,
            column: 79
          }
        }, {
          start: {
            line: 582,
            column: 82
          },
          end: {
            line: 582,
            column: 112
          }
        }],
        line: 582
      },
      "94": {
        loc: {
          start: {
            line: 609,
            column: 24
          },
          end: {
            line: 636,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 609,
            column: 24
          },
          end: {
            line: 636,
            column: 25
          }
        }, {
          start: {
            line: 632,
            column: 31
          },
          end: {
            line: 636,
            column: 25
          }
        }],
        line: 609
      },
      "95": {
        loc: {
          start: {
            line: 617,
            column: 50
          },
          end: {
            line: 617,
            column: 114
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 617,
            column: 74
          },
          end: {
            line: 617,
            column: 75
          }
        }, {
          start: {
            line: 617,
            column: 78
          },
          end: {
            line: 617,
            column: 114
          }
        }],
        line: 617
      },
      "96": {
        loc: {
          start: {
            line: 632,
            column: 31
          },
          end: {
            line: 636,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 632,
            column: 31
          },
          end: {
            line: 636,
            column: 25
          }
        }, {
          start: {
            line: 634,
            column: 31
          },
          end: {
            line: 636,
            column: 25
          }
        }],
        line: 632
      },
      "97": {
        loc: {
          start: {
            line: 654,
            column: 20
          },
          end: {
            line: 656,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 654,
            column: 20
          },
          end: {
            line: 656,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 654
      },
      "98": {
        loc: {
          start: {
            line: 662,
            column: 49
          },
          end: {
            line: 662,
            column: 93
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 662,
            column: 73
          },
          end: {
            line: 662,
            column: 89
          }
        }, {
          start: {
            line: 662,
            column: 92
          },
          end: {
            line: 662,
            column: 93
          }
        }],
        line: 662
      },
      "99": {
        loc: {
          start: {
            line: 684,
            column: 8
          },
          end: {
            line: 686,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 684,
            column: 8
          },
          end: {
            line: 686,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 684
      },
      "100": {
        loc: {
          start: {
            line: 684,
            column: 12
          },
          end: {
            line: 684,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 684,
            column: 12
          },
          end: {
            line: 684,
            column: 18
          }
        }, {
          start: {
            line: 684,
            column: 22
          },
          end: {
            line: 684,
            column: 45
          }
        }],
        line: 684
      },
      "101": {
        loc: {
          start: {
            line: 719,
            column: 24
          },
          end: {
            line: 719,
            column: 92
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 719,
            column: 49
          },
          end: {
            line: 719,
            column: 62
          }
        }, {
          start: {
            line: 719,
            column: 65
          },
          end: {
            line: 719,
            column: 92
          }
        }],
        line: 719
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0,
      "153": 0,
      "154": 0,
      "155": 0,
      "156": 0,
      "157": 0,
      "158": 0,
      "159": 0,
      "160": 0,
      "161": 0,
      "162": 0,
      "163": 0,
      "164": 0,
      "165": 0,
      "166": 0,
      "167": 0,
      "168": 0,
      "169": 0,
      "170": 0,
      "171": 0,
      "172": 0,
      "173": 0,
      "174": 0,
      "175": 0,
      "176": 0,
      "177": 0,
      "178": 0,
      "179": 0,
      "180": 0,
      "181": 0,
      "182": 0,
      "183": 0,
      "184": 0,
      "185": 0,
      "186": 0,
      "187": 0,
      "188": 0,
      "189": 0,
      "190": 0,
      "191": 0,
      "192": 0,
      "193": 0,
      "194": 0,
      "195": 0,
      "196": 0,
      "197": 0,
      "198": 0,
      "199": 0,
      "200": 0,
      "201": 0,
      "202": 0,
      "203": 0,
      "204": 0,
      "205": 0,
      "206": 0,
      "207": 0,
      "208": 0,
      "209": 0,
      "210": 0,
      "211": 0,
      "212": 0,
      "213": 0,
      "214": 0,
      "215": 0,
      "216": 0,
      "217": 0,
      "218": 0,
      "219": 0,
      "220": 0,
      "221": 0,
      "222": 0,
      "223": 0,
      "224": 0,
      "225": 0,
      "226": 0,
      "227": 0,
      "228": 0,
      "229": 0,
      "230": 0,
      "231": 0,
      "232": 0,
      "233": 0,
      "234": 0,
      "235": 0,
      "236": 0,
      "237": 0,
      "238": 0,
      "239": 0,
      "240": 0,
      "241": 0,
      "242": 0,
      "243": 0,
      "244": 0,
      "245": 0,
      "246": 0,
      "247": 0,
      "248": 0,
      "249": 0,
      "250": 0,
      "251": 0,
      "252": 0,
      "253": 0,
      "254": 0,
      "255": 0,
      "256": 0,
      "257": 0,
      "258": 0,
      "259": 0,
      "260": 0,
      "261": 0,
      "262": 0,
      "263": 0,
      "264": 0,
      "265": 0,
      "266": 0,
      "267": 0,
      "268": 0,
      "269": 0,
      "270": 0,
      "271": 0,
      "272": 0,
      "273": 0,
      "274": 0,
      "275": 0,
      "276": 0,
      "277": 0,
      "278": 0,
      "279": 0,
      "280": 0,
      "281": 0,
      "282": 0,
      "283": 0,
      "284": 0,
      "285": 0,
      "286": 0,
      "287": 0,
      "288": 0,
      "289": 0,
      "290": 0,
      "291": 0,
      "292": 0,
      "293": 0,
      "294": 0,
      "295": 0,
      "296": 0,
      "297": 0,
      "298": 0,
      "299": 0,
      "300": 0,
      "301": 0,
      "302": 0,
      "303": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0, 0],
      "23": [0, 0],
      "24": [0, 0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0, 0],
      "43": [0, 0],
      "44": [0, 0],
      "45": [0, 0],
      "46": [0, 0],
      "47": [0, 0, 0],
      "48": [0, 0],
      "49": [0, 0, 0],
      "50": [0, 0],
      "51": [0, 0],
      "52": [0, 0],
      "53": [0, 0],
      "54": [0, 0],
      "55": [0, 0],
      "56": [0, 0],
      "57": [0, 0],
      "58": [0, 0],
      "59": [0, 0],
      "60": [0, 0],
      "61": [0, 0],
      "62": [0, 0],
      "63": [0, 0],
      "64": [0, 0],
      "65": [0, 0],
      "66": [0, 0],
      "67": [0, 0],
      "68": [0, 0],
      "69": [0, 0],
      "70": [0, 0],
      "71": [0, 0],
      "72": [0, 0],
      "73": [0, 0],
      "74": [0, 0],
      "75": [0, 0],
      "76": [0, 0],
      "77": [0, 0],
      "78": [0, 0],
      "79": [0, 0],
      "80": [0, 0],
      "81": [0, 0],
      "82": [0, 0],
      "83": [0, 0],
      "84": [0, 0],
      "85": [0, 0],
      "86": [0, 0, 0],
      "87": [0, 0],
      "88": [0, 0, 0],
      "89": [0, 0],
      "90": [0, 0],
      "91": [0, 0],
      "92": [0, 0],
      "93": [0, 0],
      "94": [0, 0],
      "95": [0, 0],
      "96": [0, 0],
      "97": [0, 0],
      "98": [0, 0],
      "99": [0, 0],
      "100": [0, 0],
      "101": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/sachin/Documents/md-sports-/src/app/api/purchases/[id]/route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { revalidateTag, revalidatePath } from 'next/cache';\nimport prisma from '@/lib/prisma';\nimport { PrismaClientKnownRequestError } from '@prisma/client/runtime/library';\nimport { getToken } from 'next-auth/jwt';\nimport { cacheService } from '@/lib/cache';\n\n// GET /api/purchases/[id] - Get a specific purchase invoice\nexport async function GET(\n    request: NextRequest,\n    { params }: { params: { id: string } }\n) {\n    const id = params.id; // Store params.id early to avoid async issues\n    try {\n        const purchaseId = parseInt(id);\n\n        if (isNaN(purchaseId)) {\n            return NextResponse.json(\n                { error: { message: 'Invalid purchase ID format' } },\n                { status: 400 }\n            );\n        }\n\n        const purchase = await prisma.purchaseInvoice.findUnique({\n            where: {\n                id: purchaseId\n            },\n            include: {\n                supplier: true,\n                items: {\n                    include: {\n                        product: true\n                    }\n                }\n            }\n        });\n\n        if (!purchase) {\n            return NextResponse.json(\n                { error: { message: 'Purchase invoice not found' } },\n                { status: 404 }\n            );\n        }\n\n        return NextResponse.json(purchase);\n    } catch (error) {\n        console.error(`Error fetching purchase invoice ${id}:`, error);\n        const details = error instanceof Error ? error.message : 'An unknown error occurred';\n        return NextResponse.json(\n            { error: { message: 'Failed to fetch purchase invoice', details: details } },\n            { status: 500 }\n        );\n    }\n}\n\n// PUT /api/purchases/[id] - Update a purchase invoice\nexport async function PUT(\n    request: NextRequest,\n    { params }: { params: { id: string } }\n) {\n    const id = params.id;\n    try {\n        const purchaseId = parseInt(id);\n        if (isNaN(purchaseId)) {\n            return NextResponse.json(\n                { error: { message: 'Invalid purchase ID format' } },\n                { status: 400 });\n        }\n        const body = await request.json();\n        const originalPurchase = await prisma.purchaseInvoice.findUnique({\n            where: { id: purchaseId },\n            include: { items: { include: { product: true } } },\n        });\n        if (!originalPurchase) {\n            return NextResponse.json(\n                { error: { message: 'Purchase invoice not found to update' } },\n                { status: 404 });\n        }\n        const { items: newItemsData, distributions: newDistributionsData, ...invoiceData } = body;\n        const { id: _, createdAt, updatedAt, supplier, notes, ...dirtyData } = invoiceData;\n        const cleanedInvoiceData: any = {};\n        if (dirtyData.invoiceNumber) cleanedInvoiceData.invoiceNumber = dirtyData.invoiceNumber;\n        if (dirtyData.status) cleanedInvoiceData.status = dirtyData.status;\n        if (dirtyData.date) cleanedInvoiceData.date = new Date(dirtyData.date);\n        if (dirtyData.dueDate !== undefined) cleanedInvoiceData.dueDate = dirtyData.dueDate ? new Date(dirtyData.dueDate) : null;\n        if (dirtyData.totalAmount !== undefined) cleanedInvoiceData.total = Number(dirtyData.totalAmount);\n        else if (dirtyData.total !== undefined) cleanedInvoiceData.total = Number(dirtyData.total);\n        cleanedInvoiceData.distributions = newDistributionsData !== undefined ? newDistributionsData : originalPurchase.distributions;\n        if (dirtyData.supplierId) cleanedInvoiceData.supplier = { connect: { id: Number(dirtyData.supplierId) } };\n        else if (dirtyData.supplierId === null && originalPurchase.supplierId) cleanedInvoiceData.supplier = { disconnect: true };\n\n        const result = await prisma.$transaction(async (tx) => {\n            const inventoryUpdates: Array<{ productId: number, shopId: number, newQuantity: number, oldQuantity?: number }> = [];\n\n            if (originalPurchase.items && originalPurchase.items.length > 0) {\n                for (const oldItem of originalPurchase.items) {\n                    const productToUpdate = await tx.product.findUnique({ where: { id: oldItem.productId } });\n                    if (!productToUpdate) continue;\n\n                    const oldItemDistribution = originalPurchase.distributions && Array.isArray(originalPurchase.distributions) && originalPurchase.items.indexOf(oldItem) < originalPurchase.distributions.length\n                        ? originalPurchase.distributions[originalPurchase.items.indexOf(oldItem)]\n                        : (originalPurchase.distributions && typeof originalPurchase.distributions === 'object' && !Array.isArray(originalPurchase.distributions) ? originalPurchase.distributions : null);\n\n                    if (oldItemDistribution && Object.keys(oldItemDistribution).length > 0) {\n                        for (const [shopIdStr, quantityInShop] of Object.entries(oldItemDistribution as any)) {\n                            const shopId = shopIdStr;\n                            const qtyToRemove = Number(quantityInShop);\n                            if (qtyToRemove <= 0 || isNaN(qtyToRemove)) continue;\n                            const inventory = await tx.inventoryItem.findFirst({ where: { productId: oldItem.productId, shopId: shopId } });\n                            if (inventory) {\n                                const oldShopQuantity = inventory.quantity;\n                                const newQuantity = Math.max(0, inventory.quantity - qtyToRemove);\n                                await tx.inventoryItem.update({\n                                    where: { id: inventory.id },\n                                    data: {\n                                        quantity: newQuantity,\n                                        // If new quantity is 0, reset shopSpecificCost, else keep existing\n                                        shopSpecificCost: newQuantity === 0 ? 0 : inventory.shopSpecificCost\n                                    }\n                                });\n                                inventoryUpdates.push({ productId: oldItem.productId, shopId: Number(shopId), newQuantity, oldQuantity: oldShopQuantity });\n                            }\n                        }\n                    } else {\n                        // oldItemDistribution is missing. Attempt to infer shop for stock reversal.\n                        console.warn(`Old item ${oldItem.productId} in purchase ${purchaseId} has no distribution. Attempting to infer shop for stock reversal.`);\n                        const existingInventoriesForOldItem = await tx.inventoryItem.findMany({\n                            where: { productId: oldItem.productId }\n                        });\n                        if (existingInventoriesForOldItem.length === 1) {\n                            const shopIdToReverseFrom = existingInventoriesForOldItem[0].shopId;\n                            const inventory = existingInventoriesForOldItem[0]; // Already fetched\n                            const oldShopQuantity = inventory.quantity;\n                            const newQuantity = Math.max(0, inventory.quantity - oldItem.quantity); // Use total oldItem.quantity\n                            await tx.inventoryItem.update({\n                                where: { id: inventory.id },\n                                data: {\n                                    quantity: newQuantity,\n                                    // If new quantity is 0, reset shopSpecificCost, else keep existing\n                                    shopSpecificCost: newQuantity === 0 ? 0 : inventory.shopSpecificCost\n                                }\n                            });\n                            inventoryUpdates.push({ productId: oldItem.productId, shopId: Number(shopIdToReverseFrom), newQuantity, oldQuantity: oldShopQuantity });\n                            console.log(`Reversed ${oldItem.quantity} from product ${oldItem.productId} in inferred shop ${shopIdToReverseFrom}.`);\n                        } else if (existingInventoriesForOldItem.length === 0) {\n                            console.error(`Old item ${oldItem.productId} not found in any inventory. Cannot reverse stock for this item line from a specific shop.`);\n                        } else { // Multiple shops\n                            console.error(`Old item ${oldItem.productId} exists in multiple shops and no specific distribution for reversal. Ambiguous. Stock not reversed from a specific shop for this item line.`);\n                        }\n                    }\n\n                    let currentTotalProductQuantity = 0;\n                    const allInventoryForProductAfterReversal = await tx.inventoryItem.findMany({ where: { productId: oldItem.productId } });\n                    currentTotalProductQuantity = allInventoryForProductAfterReversal.reduce((sum, inv) => sum + inv.quantity, 0);\n\n                    // Recalculate WAC based on remaining purchase history after removing this item\n                    const remainingPurchaseItems = await tx.purchaseInvoiceItem.findMany({\n                        where: {\n                            productId: oldItem.productId,\n                            purchaseInvoiceId: { not: purchaseId } // Exclude current invoice being updated\n                        }\n                    });\n\n                    let totalRemainingQuantity = 0;\n                    let totalRemainingValue = 0;\n\n                    remainingPurchaseItems.forEach(purchaseItem => {\n                        totalRemainingQuantity += purchaseItem.quantity;\n                        totalRemainingValue += purchaseItem.quantity * purchaseItem.price;\n                    });\n\n                    let newWAC = 0;\n                    if (totalRemainingQuantity > 0) {\n                        newWAC = totalRemainingValue / totalRemainingQuantity;\n                    }\n\n                    await tx.product.update({\n                        where: { id: oldItem.productId },\n                        data: { weightedAverageCost: newWAC >= 0 ? newWAC : 0 }\n                    });\n                }\n            }\n\n            await tx.purchaseInvoiceItem.deleteMany({ where: { purchaseInvoiceId: purchaseId } });\n\n            // Recalculate totalAmount for the invoice based on new/updated items\n            let newTotalInvoiceAmount = 0;\n            if (newItemsData && Array.isArray(newItemsData)) {\n                newItemsData.forEach(item => {\n                    newTotalInvoiceAmount += Number(item.quantity) * Number(item.price || 0);\n                });\n            }\n            cleanedInvoiceData.total = newTotalInvoiceAmount; // Ensure this is assigned to the correct field for DB update\n\n            const updatedInvoice = await tx.purchaseInvoice.update({ where: { id: purchaseId }, data: cleanedInvoiceData });\n\n            if (newItemsData && Array.isArray(newItemsData)) {\n                for (let i = 0; i < newItemsData.length; i++) {\n                    const newItem = newItemsData[i];\n                    if (!newItem.productId || !newItem.quantity || newItem.quantity <= 0) continue;\n                    await tx.purchaseInvoiceItem.create({\n                        data: {\n                            purchaseInvoiceId: purchaseId, productId: Number(newItem.productId),\n                            quantity: Number(newItem.quantity), price: Number(newItem.price || 0),\n                            total: Number(newItem.quantity) * Number(newItem.price || 0)\n                        }\n                    });\n                    const productToUpdate = await tx.product.findUnique({ where: { id: Number(newItem.productId) } });\n                    if (!productToUpdate) continue;\n\n                    const newItemDistribution = newDistributionsData && Array.isArray(newDistributionsData) && newDistributionsData[i]\n                        ? newDistributionsData[i]\n                        : (newDistributionsData && typeof newDistributionsData === 'object' && !Array.isArray(newDistributionsData) ? newDistributionsData : null);\n\n                    const itemQuantityTotal = Number(newItem.quantity);\n\n                    if (newItemDistribution && Object.keys(newItemDistribution).length > 0) {\n                        for (const [shopIdStr, quantityInShop] of Object.entries(newItemDistribution as any)) {\n                            const shopId = shopIdStr;\n                            const qtyToAdd = Number(quantityInShop);\n                            if (qtyToAdd <= 0 || isNaN(qtyToAdd)) continue;\n\n                            const inventory = await tx.inventoryItem.findFirst({ where: { productId: Number(newItem.productId), shopId: shopId } });\n                            let finalQuantity = 0;\n                            const oldInvQty = inventory?.quantity || 0;\n                            let newShopSpecificCostValue = 0;\n                            const itemPrice = Number(newItem.price || 0);\n\n                            if (inventory) {\n                                finalQuantity = inventory.quantity + qtyToAdd;\n                                const oldShopTotalValue = (inventory.quantity || 0) * (inventory.shopSpecificCost || 0);\n                                const valueOfThisBatch = qtyToAdd * itemPrice;\n                                if (finalQuantity > 0) {\n                                    newShopSpecificCostValue = (oldShopTotalValue + valueOfThisBatch) / finalQuantity;\n                                } else {\n                                    newShopSpecificCostValue = 0;\n                                }\n                                await tx.inventoryItem.update({\n                                    where: { id: inventory.id },\n                                    data: { quantity: finalQuantity, shopSpecificCost: newShopSpecificCostValue >= 0 ? newShopSpecificCostValue : 0 }\n                                });\n                            } else {\n                                finalQuantity = qtyToAdd;\n                                newShopSpecificCostValue = itemPrice;\n                                await tx.inventoryItem.create({\n                                    data: {\n                                        productId: Number(newItem.productId),\n                                        shopId: shopId,\n                                        quantity: finalQuantity,\n                                        shopSpecificCost: newShopSpecificCostValue >= 0 ? newShopSpecificCostValue : 0\n                                    }\n                                });\n                            }\n                            inventoryUpdates.push({ productId: Number(newItem.productId), shopId: Number(shopId), newQuantity: finalQuantity, oldQuantity: oldInvQty });\n                        }\n                    } else {\n                        // newItemDistribution is missing or empty. Try to infer shop or log error.\n                        console.warn(`Purchase item with productId ${newItem.productId} in invoice ${purchaseId} does not have explicit shop distribution data. Attempting to infer target shop.`);\n                        const existingInventoryItems = await tx.inventoryItem.findMany({\n                            where: { productId: Number(newItem.productId) }\n                        });\n\n                        let targetShopId: string | null = null;\n\n                        if (existingInventoryItems.length === 1) {\n                            targetShopId = existingInventoryItems[0].shopId;\n                            console.log(`Product ${newItem.productId} exists in one shop (${targetShopId}). Attributing new stock there.`);\n                        } else if (existingInventoryItems.length === 0) {\n                            console.error(`Product ${newItem.productId} is new to inventory and no shop distribution provided. Cannot automatically assign to a shop. Inventory not updated for this item.`);\n                        } else { // existingInventoryItems.length > 1\n                            console.error(`Product ${newItem.productId} exists in multiple shops and no specific distribution provided. Ambiguous. Inventory not updated for this item.`);\n                        }\n\n                        if (targetShopId) {\n                            const qtyToAdd = itemQuantityTotal; // The total quantity for this newItem.\n                            if (qtyToAdd > 0) {\n                                const inventory = await tx.inventoryItem.findFirst({ where: { productId: Number(newItem.productId), shopId: targetShopId } });\n                                let finalQuantity = 0;\n                                const oldInvQty = inventory?.quantity || 0;\n                                let newShopSpecificCostValue = 0;\n                                const itemPrice = Number(newItem.price || 0);\n\n                                if (inventory) {\n                                    finalQuantity = inventory.quantity + qtyToAdd;\n                                    const oldShopTotalValue = (inventory.quantity || 0) * (inventory.shopSpecificCost || 0);\n                                    const valueOfThisBatch = qtyToAdd * itemPrice;\n                                    if (finalQuantity > 0) {\n                                        newShopSpecificCostValue = (oldShopTotalValue + valueOfThisBatch) / finalQuantity;\n                                    } else {\n                                        newShopSpecificCostValue = 0;\n                                    }\n                                    await tx.inventoryItem.update({\n                                        where: { id: inventory.id },\n                                        data: { quantity: finalQuantity, shopSpecificCost: newShopSpecificCostValue >= 0 ? newShopSpecificCostValue : 0 }\n                                    });\n                                } else {\n                                    finalQuantity = qtyToAdd;\n                                    newShopSpecificCostValue = itemPrice;\n                                    console.warn(`InventoryItem for product ${newItem.productId} in targetShopId ${targetShopId} not found during update, attempting create.`);\n                                    await tx.inventoryItem.create({\n                                        data: {\n                                            productId: Number(newItem.productId),\n                                            shopId: targetShopId,\n                                            quantity: finalQuantity,\n                                            shopSpecificCost: newShopSpecificCostValue >= 0 ? newShopSpecificCostValue : 0\n                                        }\n                                    });\n                                }\n                                inventoryUpdates.push({ productId: Number(newItem.productId), shopId: Number(targetShopId), newQuantity: finalQuantity, oldQuantity: oldInvQty });\n                            } else {\n                                console.warn(`Quantity for product ${newItem.productId} is zero or negative. No inventory update performed for this item.`);\n                            }\n                        }\n                    }\n\n                    // Recalculate WAC based on all purchase history for this product\n                    // This ensures accuracy regardless of update order\n                    const allPurchaseItems = await tx.purchaseInvoiceItem.findMany({\n                        where: { productId: Number(newItem.productId) }\n                    });\n\n                    let totalPurchaseQuantity = 0;\n                    let totalPurchaseValue = 0;\n\n                    allPurchaseItems.forEach(purchaseItem => {\n                        totalPurchaseQuantity += purchaseItem.quantity;\n                        totalPurchaseValue += purchaseItem.quantity * purchaseItem.price;\n                    });\n\n                    let newWeightedAverageCost = 0;\n                    if (totalPurchaseQuantity > 0) {\n                        newWeightedAverageCost = totalPurchaseValue / totalPurchaseQuantity;\n                    }\n\n                    // Ensure WAC is valid\n                    if (newWeightedAverageCost <= 0 || isNaN(newWeightedAverageCost)) {\n                        newWeightedAverageCost = Number(newItem.price);\n                    }\n\n                    await tx.product.update({\n                        where: { id: Number(newItem.productId) },\n                        data: { weightedAverageCost: newWeightedAverageCost }\n                    });\n                }\n            }\n            const fullUpdatedInvoice = await tx.purchaseInvoice.findUnique({\n                where: { id: purchaseId },\n                include: { supplier: true, items: { include: { product: true } } }\n            });\n            return { fullUpdatedInvoice, inventoryUpdates };\n        }, { timeout: 30000 });\n\n        // Real-time updates now handled by polling system\n        if (result && result.fullUpdatedInvoice) {\n            console.log('Purchase invoice updated successfully');\n        }\n\n        // After successful transaction, invalidate relevant caches\n        try {\n            await cacheService.invalidateInventory(); // Handles 'inventory:summary:*' and 'products:*'\n            await cacheService.del('dashboard:inventory');\n            await cacheService.del('dashboard:inventory-value');\n            await cacheService.del('dashboard:shops');\n            await cacheService.del('dashboard:all');\n            await cacheService.del('dashboard:summary');\n            // Invalidate purchases-specific caches\n            await cacheService.invalidatePattern('purchases-optimized*');\n            await cacheService.invalidatePattern('purchase-stats*');\n            console.log('Relevant caches invalidated after purchase update.');\n        } catch (cacheError) {\n            console.error('Error invalidating caches after purchase update:', cacheError);\n            // Do not let cache invalidation error fail the main operation\n        }\n\n        // Revalidate Next.js cached pages\n        try {\n            revalidateTag('purchase-invoices');\n            revalidateTag(`purchase-${purchaseId}`);\n            revalidatePath(`/purchases/${purchaseId}`);\n            revalidatePath(`/purchases/${purchaseId}/edit`);\n            revalidatePath('/purchases');\n            console.log('Next.js pages revalidated after purchase update.');\n        } catch (revalidateError) {\n            console.error('Error revalidating Next.js pages after purchase update:', revalidateError);\n        }\n\n        return NextResponse.json({\n            message: 'Purchase invoice updated successfully',\n            data: result.fullUpdatedInvoice\n        });\n    } catch (error) {\n        console.error(`Error updating purchase invoice ${id}:`, error);\n        const details = error instanceof Error ? error.message : String(error);\n        return NextResponse.json(\n            { error: { message: 'Failed to update purchase invoice', details: details } },\n            { status: 500 });\n    }\n}\n\n// DELETE /api/purchases/[id] - Delete a purchase invoice\nexport async function DELETE(\n    request: NextRequest,\n    { params }: { params: { id: string } }\n) {\n    const purchaseIdStr = params.id;\n    try {\n        const purchaseId = parseInt(purchaseIdStr);\n        if (isNaN(purchaseId)) {\n            return NextResponse.json(\n                { error: { message: 'Invalid purchase ID format' } },\n                { status: 400 });\n        }\n\n        const purchaseToDelete = await prisma.purchaseInvoice.findUnique({\n            where: { id: purchaseId },\n            include: {\n                items: { include: { product: true } },\n                // Ensure 'distributions' is included if it's a relation,\n                // or directly accessible if it's a JSON field on PurchaseInvoice\n            },\n        });\n\n        if (!purchaseToDelete) {\n            return NextResponse.json(\n                { error: { message: 'Purchase invoice not found to delete' } },\n                { status: 404 });\n        }\n\n        const result = await prisma.$transaction(async (tx) => {\n            const inventoryUpdates: Array<{ productId: number, shopId: number, newQuantity: number, oldQuantity?: number }> = [];\n\n            if (purchaseToDelete.items && purchaseToDelete.items.length > 0) {\n                for (const item of purchaseToDelete.items) {\n                    if (!item.product) {\n                        console.warn(`Item ${item.id} for purchase ${purchaseId} is missing product data. Skipping stock adjustment.`);\n                        continue;\n                    }\n\n                    const productId = item.productId;\n                    const quantityToRemoveForItemTotal = item.quantity; // Total quantity for this item line\n\n                    let itemDistributionInfo: { [shopId: string]: number } | null = null;\n                    const distributionsOnInvoice = (purchaseToDelete as any).distributions;\n\n                    // Attempt to get specific distribution for this item\n                    if (\n                        distributionsOnInvoice &&\n                        Array.isArray(distributionsOnInvoice) &&\n                        purchaseToDelete.items.indexOf(item) < distributionsOnInvoice.length\n                    ) {\n                        const distData = distributionsOnInvoice[purchaseToDelete.items.indexOf(item)];\n                        if (distData && typeof distData === 'object' && Object.keys(distData).length > 0) {\n                            itemDistributionInfo = distData as { [shopId: string]: number };\n                        }\n                    }\n\n                    if (itemDistributionInfo) {\n                        // Case 1: Explicit distribution data found for the item\n                        console.log(`Reversing item-specific distribution for product ${productId}, purchase ${purchaseId}`);\n                        for (const [shopIdStr, distributedQuantityStr] of Object.entries(itemDistributionInfo)) {\n                            const shopId = shopIdStr;\n                            const qtyInShopToRemove = Number(distributedQuantityStr);\n\n                            if (isNaN(qtyInShopToRemove) || qtyInShopToRemove <= 0) continue;\n\n                            const inventoryItem = await tx.inventoryItem.findFirst({ where: { productId, shopId: shopId } });\n                            if (inventoryItem) {\n                                const oldShopQuantity = inventoryItem.quantity;\n                                const newShopQuantity = Math.max(0, inventoryItem.quantity - qtyInShopToRemove);\n                                const updateData = {\n                                    quantity: newShopQuantity,\n                                    shopSpecificCost: newShopQuantity === 0 ? 0 : inventoryItem.shopSpecificCost\n                                };\n                                await tx.inventoryItem.update({\n                                    where: { id: inventoryItem.id },\n                                    data: updateData,\n                                });\n                                inventoryUpdates.push({ productId, shopId: Number(shopId), newQuantity: newShopQuantity, oldQuantity: oldShopQuantity });\n                                console.log(`  - Reduced inventory for product ${productId} in shop ${shopId} by ${qtyInShopToRemove}. Old: ${oldShopQuantity}, New: ${newShopQuantity}`);\n                            } else {\n                                console.warn(`  - Inventory item not found for product ${productId} in shop ${shopId} during purchase deletion with explicit distribution. Stock may be inaccurate.`);\n                            }\n                        }\n                    } else {\n                        // Case 2: No explicit distribution for this item. Attempt to infer.\n                        console.warn(`No specific distribution found for item ${productId} in deleted purchase ${purchaseId}. Attempting to infer shop(s) for stock reversal of total quantity ${quantityToRemoveForItemTotal}.`);\n                        const existingInventoriesForItem = await tx.inventoryItem.findMany({\n                            where: { productId: productId }\n                        });\n\n                        if (existingInventoriesForItem.length === 1) {\n                            const singleShopInventory = existingInventoriesForItem[0];\n                            const shopIdToDeductFrom = singleShopInventory.shopId;\n\n                            console.log(`Product ${productId} found in single shop ${shopIdToDeductFrom}. Deducting total item quantity ${quantityToRemoveForItemTotal}.`);\n                            const oldShopQuantity = singleShopInventory.quantity;\n                            const newShopQuantity = Math.max(0, singleShopInventory.quantity - quantityToRemoveForItemTotal);\n                            const updateDataInferred = {\n                                quantity: newShopQuantity,\n                                shopSpecificCost: newShopQuantity === 0 ? 0 : singleShopInventory.shopSpecificCost\n                            };\n                            await tx.inventoryItem.update({\n                                where: { id: singleShopInventory.id },\n                                data: updateDataInferred,\n                            });\n                            inventoryUpdates.push({ productId, shopId: Number(shopIdToDeductFrom), newQuantity: newShopQuantity, oldQuantity: oldShopQuantity });\n                            console.log(`  - Reduced inventory for product ${productId} in inferred shop ${shopIdToDeductFrom} by ${quantityToRemoveForItemTotal}. Old: ${oldShopQuantity}, New: ${newShopQuantity}`);\n                        } else if (existingInventoriesForItem.length === 0) {\n                            console.error(`Product ${productId} (from deleted purchase ${purchaseId}) not found in any inventory. Cannot reverse stock for this item.`);\n                        } else { // Product exists in multiple shops\n                            console.error(`Product ${productId} (from deleted purchase ${purchaseId}) exists in multiple shops, but no specific distribution data was found on the invoice for reversal. Ambiguous. Stock not automatically reversed for this item. Manual adjustment may be needed.`);\n                        }\n                    }\n\n                    // ---- BEGIN WAC Recalculation for the deleted item ----\n                    const remainingPurchaseItems = await tx.purchaseInvoiceItem.findMany({\n                        where: {\n                            productId: productId,\n                            purchaseInvoiceId: { not: purchaseId }\n                        }\n                    });\n\n                    let totalRemainingQuantity = 0;\n                    let totalRemainingValue = 0;\n                    remainingPurchaseItems.forEach(pItem => {\n                        totalRemainingQuantity += pItem.quantity;\n                        totalRemainingValue += pItem.quantity * pItem.price;\n                    });\n\n                    let newCalculatedWAC = 0;\n                    if (totalRemainingQuantity > 0) {\n                        newCalculatedWAC = totalRemainingValue / totalRemainingQuantity;\n                    }\n                    await tx.product.update({\n                        where: { id: productId },\n                        data: { weightedAverageCost: newCalculatedWAC >= 0 ? newCalculatedWAC : 0 }\n                    });\n                    // ---- END WAC Recalculation ----\n                }\n            }\n\n            await tx.purchaseInvoiceItem.deleteMany({ where: { purchaseInvoiceId: purchaseId } });\n            await tx.purchaseInvoice.delete({ where: { id: purchaseId } });\n\n            return { deletedInvoiceId: purchaseId, inventoryUpdates };\n        });\n\n        // Real-time updates now handled by polling system\n        if (result && result.deletedInvoiceId) {\n            console.log(`Purchase invoice ${result.deletedInvoiceId} deleted successfully`);\n        }\n\n        // After successful transaction, invalidate relevant caches\n        try {\n            await cacheService.invalidateInventory(); // Handles 'inventory:summary:*' and 'products:*'\n            await cacheService.del('dashboard:inventory');\n            await cacheService.del('dashboard:inventory-value');\n            await cacheService.del('dashboard:shops');\n            await cacheService.del('dashboard:all');\n            await cacheService.del('dashboard:summary');\n            // Invalidate purchases-specific caches\n            await cacheService.invalidatePattern('purchases-optimized*');\n            await cacheService.invalidatePattern('purchase-stats*');\n            console.log('Relevant caches invalidated after purchase deletion.');\n        } catch (cacheError) {\n            console.error('Error invalidating caches after purchase deletion:', cacheError);\n            // Do not let cache invalidation error fail the main operation\n        }\n\n        // Revalidate Next.js cached pages\n        try {\n            revalidateTag('purchase-invoices');\n            revalidateTag(`purchase-${purchaseId}`);\n            revalidatePath(`/purchases/${purchaseId}`);\n            revalidatePath(`/purchases/${purchaseId}/edit`);\n            revalidatePath('/purchases');\n            console.log('Next.js pages revalidated after purchase deletion.');\n        } catch (revalidateError) {\n            console.error('Error revalidating Next.js pages after purchase deletion:', revalidateError);\n        }\n\n        return NextResponse.json({ message: 'Purchase invoice deleted successfully' });\n\n    } catch (error) {\n        console.error(`Error deleting purchase invoice ${purchaseIdStr}:`, error);\n        const details = error instanceof Error ? error.message : 'An unknown error occurred';\n        return NextResponse.json(\n            { error: { message: 'Failed to delete purchase invoice', details: details } },\n            { status: 500 });\n    }\n}"],
      names: ["DELETE", "GET", "PUT", "request", "params", "id", "purchaseId", "parseInt", "isNaN", "NextResponse", "json", "error", "message", "status", "purchase", "prisma", "purchaseInvoice", "findUnique", "where", "include", "supplier", "items", "product", "console", "details", "Error", "body", "originalPurchase", "newItemsData", "distributions", "newDistributionsData", "invoiceData", "_", "createdAt", "updatedAt", "notes", "dirtyData", "cleanedInvoiceData", "invoiceNumber", "date", "Date", "dueDate", "undefined", "totalAmount", "total", "Number", "supplierId", "connect", "disconnect", "result", "$transaction", "tx", "inventoryUpdates", "length", "oldItem", "productToUpdate", "productId", "oldItemDistribution", "Array", "isArray", "indexOf", "Object", "keys", "shopIdStr", "quantityInShop", "entries", "shopId", "qtyToRemove", "inventory", "inventoryItem", "findFirst", "oldShopQuantity", "quantity", "newQuantity", "Math", "max", "update", "data", "shopSpecificCost", "push", "oldQuantity", "warn", "existingInventoriesForOldItem", "findMany", "shopIdToReverseFrom", "log", "currentTotalProductQuantity", "allInventoryForProductAfterReversal", "reduce", "sum", "inv", "remainingPurchaseItems", "purchaseInvoiceItem", "purchaseInvoiceId", "not", "totalRemainingQuantity", "totalRemainingValue", "forEach", "purchaseItem", "price", "newWAC", "weightedAverageCost", "deleteMany", "newTotalInvoiceAmount", "item", "updatedInvoice", "i", "newItem", "create", "newItemDistribution", "itemQuantityTotal", "qtyToAdd", "finalQuantity", "oldInvQty", "newShopSpecificCostValue", "itemPrice", "oldShopTotalValue", "valueOfThisBatch", "existingInventoryItems", "targetShopId", "allPurchaseItems", "totalPurchaseQuantity", "totalPurchaseValue", "newWeightedAverageCost", "fullUpdatedInvoice", "timeout", "cacheService", "invalidateInventory", "del", "invalidatePattern", "cacheError", "revalidateTag", "revalidatePath", "revalidateError", "String", "purchaseIdStr", "purchaseToDelete", "quantityToRemoveForItemTotal", "itemDistributionInfo", "distributionsOnInvoice", "distData", "distributedQuantityStr", "qtyInShopToRemove", "newShopQuantity", "updateData", "existingInventoriesForItem", "singleShopInventory", "shopIdToDeductFrom", "updateDataInferred", "pItem", "newCalculatedWAC", "delete", "deletedInvoiceId"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "75f1caf5e69295673659ef32ed8e535b0071f4cd"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_39x6d23tp = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_39x6d23tp();
cov_39x6d23tp().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_39x6d23tp().f[0]++;
  cov_39x6d23tp().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_39x6d23tp().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: all[name]
    });
  }
}
/* istanbul ignore next */
cov_39x6d23tp().s[3]++;
_export(exports, {
  DELETE: function () {
    /* istanbul ignore next */
    cov_39x6d23tp().f[1]++;
    cov_39x6d23tp().s[4]++;
    return DELETE;
  },
  GET: function () {
    /* istanbul ignore next */
    cov_39x6d23tp().f[2]++;
    cov_39x6d23tp().s[5]++;
    return GET;
  },
  PUT: function () {
    /* istanbul ignore next */
    cov_39x6d23tp().f[3]++;
    cov_39x6d23tp().s[6]++;
    return PUT;
  }
});
const _server =
/* istanbul ignore next */
(cov_39x6d23tp().s[7]++, require("next/server"));
const _cache =
/* istanbul ignore next */
(cov_39x6d23tp().s[8]++, require("next/cache"));
const _prisma =
/* istanbul ignore next */
(/*#__PURE__*/cov_39x6d23tp().s[9]++, _interop_require_default(require("../../../../lib/prisma")));
const _cache1 =
/* istanbul ignore next */
(cov_39x6d23tp().s[10]++, require("../../../../lib/cache"));
function _interop_require_default(obj) {
  /* istanbul ignore next */
  cov_39x6d23tp().f[4]++;
  cov_39x6d23tp().s[11]++;
  return /* istanbul ignore next */(cov_39x6d23tp().b[1][0]++, obj) &&
  /* istanbul ignore next */
  (cov_39x6d23tp().b[1][1]++, obj.__esModule) ?
  /* istanbul ignore next */
  (cov_39x6d23tp().b[0][0]++, obj) :
  /* istanbul ignore next */
  (cov_39x6d23tp().b[0][1]++, {
    default: obj
  });
}
async function GET(request, {
  params
}) {
  /* istanbul ignore next */
  cov_39x6d23tp().f[5]++;
  const id =
  /* istanbul ignore next */
  (cov_39x6d23tp().s[12]++, params.id); // Store params.id early to avoid async issues
  /* istanbul ignore next */
  cov_39x6d23tp().s[13]++;
  try {
    const purchaseId =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[14]++, parseInt(id));
    /* istanbul ignore next */
    cov_39x6d23tp().s[15]++;
    if (isNaN(purchaseId)) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[2][0]++;
      cov_39x6d23tp().s[16]++;
      return _server.NextResponse.json({
        error: {
          message: "Invalid purchase ID format"
        }
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[2][1]++;
    }
    const purchase =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[17]++, await _prisma.default.purchaseInvoice.findUnique({
      where: {
        id: purchaseId
      },
      include: {
        supplier: true,
        items: {
          include: {
            product: true
          }
        }
      }
    }));
    /* istanbul ignore next */
    cov_39x6d23tp().s[18]++;
    if (!purchase) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[3][0]++;
      cov_39x6d23tp().s[19]++;
      return _server.NextResponse.json({
        error: {
          message: "Purchase invoice not found"
        }
      }, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[3][1]++;
    }
    cov_39x6d23tp().s[20]++;
    return _server.NextResponse.json(purchase);
  } catch (error) {
    /* istanbul ignore next */
    cov_39x6d23tp().s[21]++;
    console.error(`Error fetching purchase invoice ${id}:`, error);
    const details =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[22]++, error instanceof Error ?
    /* istanbul ignore next */
    (cov_39x6d23tp().b[4][0]++, error.message) :
    /* istanbul ignore next */
    (cov_39x6d23tp().b[4][1]++, "An unknown error occurred"));
    /* istanbul ignore next */
    cov_39x6d23tp().s[23]++;
    return _server.NextResponse.json({
      error: {
        message: "Failed to fetch purchase invoice",
        details: details
      }
    }, {
      status: 500
    });
  }
}
async function PUT(request, {
  params
}) {
  /* istanbul ignore next */
  cov_39x6d23tp().f[6]++;
  const id =
  /* istanbul ignore next */
  (cov_39x6d23tp().s[24]++, params.id);
  /* istanbul ignore next */
  cov_39x6d23tp().s[25]++;
  try {
    const purchaseId =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[26]++, parseInt(id));
    /* istanbul ignore next */
    cov_39x6d23tp().s[27]++;
    if (isNaN(purchaseId)) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[5][0]++;
      cov_39x6d23tp().s[28]++;
      return _server.NextResponse.json({
        error: {
          message: "Invalid purchase ID format"
        }
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[5][1]++;
    }
    const body =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[29]++, await request.json());
    const originalPurchase =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[30]++, await _prisma.default.purchaseInvoice.findUnique({
      where: {
        id: purchaseId
      },
      include: {
        items: {
          include: {
            product: true
          }
        }
      }
    }));
    /* istanbul ignore next */
    cov_39x6d23tp().s[31]++;
    if (!originalPurchase) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[6][0]++;
      cov_39x6d23tp().s[32]++;
      return _server.NextResponse.json({
        error: {
          message: "Purchase invoice not found to update"
        }
      }, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[6][1]++;
    }
    const {
      items: newItemsData,
      distributions: newDistributionsData,
      ...invoiceData
    } =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[33]++, body);
    const {
      id: _,
      createdAt,
      updatedAt,
      supplier,
      notes,
      ...dirtyData
    } =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[34]++, invoiceData);
    const cleanedInvoiceData =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[35]++, {});
    /* istanbul ignore next */
    cov_39x6d23tp().s[36]++;
    if (dirtyData.invoiceNumber) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[7][0]++;
      cov_39x6d23tp().s[37]++;
      cleanedInvoiceData.invoiceNumber = dirtyData.invoiceNumber;
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[7][1]++;
    }
    cov_39x6d23tp().s[38]++;
    if (dirtyData.status) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[8][0]++;
      cov_39x6d23tp().s[39]++;
      cleanedInvoiceData.status = dirtyData.status;
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[8][1]++;
    }
    cov_39x6d23tp().s[40]++;
    if (dirtyData.date) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[9][0]++;
      cov_39x6d23tp().s[41]++;
      cleanedInvoiceData.date = new Date(dirtyData.date);
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[9][1]++;
    }
    cov_39x6d23tp().s[42]++;
    if (dirtyData.dueDate !== undefined) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[10][0]++;
      cov_39x6d23tp().s[43]++;
      cleanedInvoiceData.dueDate = dirtyData.dueDate ?
      /* istanbul ignore next */
      (cov_39x6d23tp().b[11][0]++, new Date(dirtyData.dueDate)) :
      /* istanbul ignore next */
      (cov_39x6d23tp().b[11][1]++, null);
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[10][1]++;
    }
    cov_39x6d23tp().s[44]++;
    if (dirtyData.totalAmount !== undefined) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[12][0]++;
      cov_39x6d23tp().s[45]++;
      cleanedInvoiceData.total = Number(dirtyData.totalAmount);
    } else {
      /* istanbul ignore next */
      cov_39x6d23tp().b[12][1]++;
      cov_39x6d23tp().s[46]++;
      if (dirtyData.total !== undefined) {
        /* istanbul ignore next */
        cov_39x6d23tp().b[13][0]++;
        cov_39x6d23tp().s[47]++;
        cleanedInvoiceData.total = Number(dirtyData.total);
      } else
      /* istanbul ignore next */
      {
        cov_39x6d23tp().b[13][1]++;
      }
    }
    /* istanbul ignore next */
    cov_39x6d23tp().s[48]++;
    cleanedInvoiceData.distributions = newDistributionsData !== undefined ?
    /* istanbul ignore next */
    (cov_39x6d23tp().b[14][0]++, newDistributionsData) :
    /* istanbul ignore next */
    (cov_39x6d23tp().b[14][1]++, originalPurchase.distributions);
    /* istanbul ignore next */
    cov_39x6d23tp().s[49]++;
    if (dirtyData.supplierId) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[15][0]++;
      cov_39x6d23tp().s[50]++;
      cleanedInvoiceData.supplier = {
        connect: {
          id: Number(dirtyData.supplierId)
        }
      };
    } else {
      /* istanbul ignore next */
      cov_39x6d23tp().b[15][1]++;
      cov_39x6d23tp().s[51]++;
      if (
      /* istanbul ignore next */
      (cov_39x6d23tp().b[17][0]++, dirtyData.supplierId === null) &&
      /* istanbul ignore next */
      (cov_39x6d23tp().b[17][1]++, originalPurchase.supplierId)) {
        /* istanbul ignore next */
        cov_39x6d23tp().b[16][0]++;
        cov_39x6d23tp().s[52]++;
        cleanedInvoiceData.supplier = {
          disconnect: true
        };
      } else
      /* istanbul ignore next */
      {
        cov_39x6d23tp().b[16][1]++;
      }
    }
    const result =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[53]++, await _prisma.default.$transaction(async tx => {
      /* istanbul ignore next */
      cov_39x6d23tp().f[7]++;
      const inventoryUpdates =
      /* istanbul ignore next */
      (cov_39x6d23tp().s[54]++, []);
      /* istanbul ignore next */
      cov_39x6d23tp().s[55]++;
      if (
      /* istanbul ignore next */
      (cov_39x6d23tp().b[19][0]++, originalPurchase.items) &&
      /* istanbul ignore next */
      (cov_39x6d23tp().b[19][1]++, originalPurchase.items.length > 0)) {
        /* istanbul ignore next */
        cov_39x6d23tp().b[18][0]++;
        cov_39x6d23tp().s[56]++;
        for (const oldItem of originalPurchase.items) {
          const productToUpdate =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[57]++, await tx.product.findUnique({
            where: {
              id: oldItem.productId
            }
          }));
          /* istanbul ignore next */
          cov_39x6d23tp().s[58]++;
          if (!productToUpdate) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[20][0]++;
            cov_39x6d23tp().s[59]++;
            continue;
          } else
          /* istanbul ignore next */
          {
            cov_39x6d23tp().b[20][1]++;
          }
          const oldItemDistribution =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[60]++,
          /* istanbul ignore next */
          (cov_39x6d23tp().b[22][0]++, originalPurchase.distributions) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[22][1]++, Array.isArray(originalPurchase.distributions)) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[22][2]++, originalPurchase.items.indexOf(oldItem) < originalPurchase.distributions.length) ?
          /* istanbul ignore next */
          (cov_39x6d23tp().b[21][0]++, originalPurchase.distributions[originalPurchase.items.indexOf(oldItem)]) :
          /* istanbul ignore next */
          (cov_39x6d23tp().b[21][1]++,
          /* istanbul ignore next */
          (cov_39x6d23tp().b[24][0]++, originalPurchase.distributions) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[24][1]++, typeof originalPurchase.distributions === "object") &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[24][2]++, !Array.isArray(originalPurchase.distributions)) ?
          /* istanbul ignore next */
          (cov_39x6d23tp().b[23][0]++, originalPurchase.distributions) :
          /* istanbul ignore next */
          (cov_39x6d23tp().b[23][1]++, null)));
          /* istanbul ignore next */
          cov_39x6d23tp().s[61]++;
          if (
          /* istanbul ignore next */
          (cov_39x6d23tp().b[26][0]++, oldItemDistribution) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[26][1]++, Object.keys(oldItemDistribution).length > 0)) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[25][0]++;
            cov_39x6d23tp().s[62]++;
            for (const [shopIdStr, quantityInShop] of Object.entries(oldItemDistribution)) {
              const shopId =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[63]++, shopIdStr);
              const qtyToRemove =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[64]++, Number(quantityInShop));
              /* istanbul ignore next */
              cov_39x6d23tp().s[65]++;
              if (
              /* istanbul ignore next */
              (cov_39x6d23tp().b[28][0]++, qtyToRemove <= 0) ||
              /* istanbul ignore next */
              (cov_39x6d23tp().b[28][1]++, isNaN(qtyToRemove))) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[27][0]++;
                cov_39x6d23tp().s[66]++;
                continue;
              } else
              /* istanbul ignore next */
              {
                cov_39x6d23tp().b[27][1]++;
              }
              const inventory =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[67]++, await tx.inventoryItem.findFirst({
                where: {
                  productId: oldItem.productId,
                  shopId: shopId
                }
              }));
              /* istanbul ignore next */
              cov_39x6d23tp().s[68]++;
              if (inventory) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[29][0]++;
                const oldShopQuantity =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[69]++, inventory.quantity);
                const newQuantity =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[70]++, Math.max(0, inventory.quantity - qtyToRemove));
                /* istanbul ignore next */
                cov_39x6d23tp().s[71]++;
                await tx.inventoryItem.update({
                  where: {
                    id: inventory.id
                  },
                  data: {
                    quantity: newQuantity,
                    // If new quantity is 0, reset shopSpecificCost, else keep existing
                    shopSpecificCost: newQuantity === 0 ?
                    /* istanbul ignore next */
                    (cov_39x6d23tp().b[30][0]++, 0) :
                    /* istanbul ignore next */
                    (cov_39x6d23tp().b[30][1]++, inventory.shopSpecificCost)
                  }
                });
                /* istanbul ignore next */
                cov_39x6d23tp().s[72]++;
                inventoryUpdates.push({
                  productId: oldItem.productId,
                  shopId: Number(shopId),
                  newQuantity,
                  oldQuantity: oldShopQuantity
                });
              } else
              /* istanbul ignore next */
              {
                cov_39x6d23tp().b[29][1]++;
              }
            }
          } else {
            /* istanbul ignore next */
            cov_39x6d23tp().b[25][1]++;
            cov_39x6d23tp().s[73]++;
            // oldItemDistribution is missing. Attempt to infer shop for stock reversal.
            console.warn(`Old item ${oldItem.productId} in purchase ${purchaseId} has no distribution. Attempting to infer shop for stock reversal.`);
            const existingInventoriesForOldItem =
            /* istanbul ignore next */
            (cov_39x6d23tp().s[74]++, await tx.inventoryItem.findMany({
              where: {
                productId: oldItem.productId
              }
            }));
            /* istanbul ignore next */
            cov_39x6d23tp().s[75]++;
            if (existingInventoriesForOldItem.length === 1) {
              /* istanbul ignore next */
              cov_39x6d23tp().b[31][0]++;
              const shopIdToReverseFrom =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[76]++, existingInventoriesForOldItem[0].shopId);
              const inventory =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[77]++, existingInventoriesForOldItem[0]); // Already fetched
              const oldShopQuantity =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[78]++, inventory.quantity);
              const newQuantity =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[79]++, Math.max(0, inventory.quantity - oldItem.quantity)); // Use total oldItem.quantity
              /* istanbul ignore next */
              cov_39x6d23tp().s[80]++;
              await tx.inventoryItem.update({
                where: {
                  id: inventory.id
                },
                data: {
                  quantity: newQuantity,
                  // If new quantity is 0, reset shopSpecificCost, else keep existing
                  shopSpecificCost: newQuantity === 0 ?
                  /* istanbul ignore next */
                  (cov_39x6d23tp().b[32][0]++, 0) :
                  /* istanbul ignore next */
                  (cov_39x6d23tp().b[32][1]++, inventory.shopSpecificCost)
                }
              });
              /* istanbul ignore next */
              cov_39x6d23tp().s[81]++;
              inventoryUpdates.push({
                productId: oldItem.productId,
                shopId: Number(shopIdToReverseFrom),
                newQuantity,
                oldQuantity: oldShopQuantity
              });
              /* istanbul ignore next */
              cov_39x6d23tp().s[82]++;
              console.log(`Reversed ${oldItem.quantity} from product ${oldItem.productId} in inferred shop ${shopIdToReverseFrom}.`);
            } else {
              /* istanbul ignore next */
              cov_39x6d23tp().b[31][1]++;
              cov_39x6d23tp().s[83]++;
              if (existingInventoriesForOldItem.length === 0) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[33][0]++;
                cov_39x6d23tp().s[84]++;
                console.error(`Old item ${oldItem.productId} not found in any inventory. Cannot reverse stock for this item line from a specific shop.`);
              } else {
                /* istanbul ignore next */
                cov_39x6d23tp().b[33][1]++;
                cov_39x6d23tp().s[85]++;
                console.error(`Old item ${oldItem.productId} exists in multiple shops and no specific distribution for reversal. Ambiguous. Stock not reversed from a specific shop for this item line.`);
              }
            }
          }
          let currentTotalProductQuantity =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[86]++, 0);
          const allInventoryForProductAfterReversal =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[87]++, await tx.inventoryItem.findMany({
            where: {
              productId: oldItem.productId
            }
          }));
          /* istanbul ignore next */
          cov_39x6d23tp().s[88]++;
          currentTotalProductQuantity = allInventoryForProductAfterReversal.reduce((sum, inv) => {
            /* istanbul ignore next */
            cov_39x6d23tp().f[8]++;
            cov_39x6d23tp().s[89]++;
            return sum + inv.quantity;
          }, 0);
          // Recalculate WAC based on remaining purchase history after removing this item
          const remainingPurchaseItems =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[90]++, await tx.purchaseInvoiceItem.findMany({
            where: {
              productId: oldItem.productId,
              purchaseInvoiceId: {
                not: purchaseId
              } // Exclude current invoice being updated
            }
          }));
          let totalRemainingQuantity =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[91]++, 0);
          let totalRemainingValue =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[92]++, 0);
          /* istanbul ignore next */
          cov_39x6d23tp().s[93]++;
          remainingPurchaseItems.forEach(purchaseItem => {
            /* istanbul ignore next */
            cov_39x6d23tp().f[9]++;
            cov_39x6d23tp().s[94]++;
            totalRemainingQuantity += purchaseItem.quantity;
            /* istanbul ignore next */
            cov_39x6d23tp().s[95]++;
            totalRemainingValue += purchaseItem.quantity * purchaseItem.price;
          });
          let newWAC =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[96]++, 0);
          /* istanbul ignore next */
          cov_39x6d23tp().s[97]++;
          if (totalRemainingQuantity > 0) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[34][0]++;
            cov_39x6d23tp().s[98]++;
            newWAC = totalRemainingValue / totalRemainingQuantity;
          } else
          /* istanbul ignore next */
          {
            cov_39x6d23tp().b[34][1]++;
          }
          cov_39x6d23tp().s[99]++;
          await tx.product.update({
            where: {
              id: oldItem.productId
            },
            data: {
              weightedAverageCost: newWAC >= 0 ?
              /* istanbul ignore next */
              (cov_39x6d23tp().b[35][0]++, newWAC) :
              /* istanbul ignore next */
              (cov_39x6d23tp().b[35][1]++, 0)
            }
          });
        }
      } else
      /* istanbul ignore next */
      {
        cov_39x6d23tp().b[18][1]++;
      }
      cov_39x6d23tp().s[100]++;
      await tx.purchaseInvoiceItem.deleteMany({
        where: {
          purchaseInvoiceId: purchaseId
        }
      });
      // Recalculate totalAmount for the invoice based on new/updated items
      let newTotalInvoiceAmount =
      /* istanbul ignore next */
      (cov_39x6d23tp().s[101]++, 0);
      /* istanbul ignore next */
      cov_39x6d23tp().s[102]++;
      if (
      /* istanbul ignore next */
      (cov_39x6d23tp().b[37][0]++, newItemsData) &&
      /* istanbul ignore next */
      (cov_39x6d23tp().b[37][1]++, Array.isArray(newItemsData))) {
        /* istanbul ignore next */
        cov_39x6d23tp().b[36][0]++;
        cov_39x6d23tp().s[103]++;
        newItemsData.forEach(item => {
          /* istanbul ignore next */
          cov_39x6d23tp().f[10]++;
          cov_39x6d23tp().s[104]++;
          newTotalInvoiceAmount += Number(item.quantity) * Number(
          /* istanbul ignore next */
          (cov_39x6d23tp().b[38][0]++, item.price) ||
          /* istanbul ignore next */
          (cov_39x6d23tp().b[38][1]++, 0));
        });
      } else
      /* istanbul ignore next */
      {
        cov_39x6d23tp().b[36][1]++;
      }
      cov_39x6d23tp().s[105]++;
      cleanedInvoiceData.total = newTotalInvoiceAmount; // Ensure this is assigned to the correct field for DB update
      const updatedInvoice =
      /* istanbul ignore next */
      (cov_39x6d23tp().s[106]++, await tx.purchaseInvoice.update({
        where: {
          id: purchaseId
        },
        data: cleanedInvoiceData
      }));
      /* istanbul ignore next */
      cov_39x6d23tp().s[107]++;
      if (
      /* istanbul ignore next */
      (cov_39x6d23tp().b[40][0]++, newItemsData) &&
      /* istanbul ignore next */
      (cov_39x6d23tp().b[40][1]++, Array.isArray(newItemsData))) {
        /* istanbul ignore next */
        cov_39x6d23tp().b[39][0]++;
        cov_39x6d23tp().s[108]++;
        for (let i =
        /* istanbul ignore next */
        (cov_39x6d23tp().s[109]++, 0); i < newItemsData.length; i++) {
          const newItem =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[110]++, newItemsData[i]);
          /* istanbul ignore next */
          cov_39x6d23tp().s[111]++;
          if (
          /* istanbul ignore next */
          (cov_39x6d23tp().b[42][0]++, !newItem.productId) ||
          /* istanbul ignore next */
          (cov_39x6d23tp().b[42][1]++, !newItem.quantity) ||
          /* istanbul ignore next */
          (cov_39x6d23tp().b[42][2]++, newItem.quantity <= 0)) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[41][0]++;
            cov_39x6d23tp().s[112]++;
            continue;
          } else
          /* istanbul ignore next */
          {
            cov_39x6d23tp().b[41][1]++;
          }
          cov_39x6d23tp().s[113]++;
          await tx.purchaseInvoiceItem.create({
            data: {
              purchaseInvoiceId: purchaseId,
              productId: Number(newItem.productId),
              quantity: Number(newItem.quantity),
              price: Number(
              /* istanbul ignore next */
              (cov_39x6d23tp().b[43][0]++, newItem.price) ||
              /* istanbul ignore next */
              (cov_39x6d23tp().b[43][1]++, 0)),
              total: Number(newItem.quantity) * Number(
              /* istanbul ignore next */
              (cov_39x6d23tp().b[44][0]++, newItem.price) ||
              /* istanbul ignore next */
              (cov_39x6d23tp().b[44][1]++, 0))
            }
          });
          const productToUpdate =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[114]++, await tx.product.findUnique({
            where: {
              id: Number(newItem.productId)
            }
          }));
          /* istanbul ignore next */
          cov_39x6d23tp().s[115]++;
          if (!productToUpdate) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[45][0]++;
            cov_39x6d23tp().s[116]++;
            continue;
          } else
          /* istanbul ignore next */
          {
            cov_39x6d23tp().b[45][1]++;
          }
          const newItemDistribution =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[117]++,
          /* istanbul ignore next */
          (cov_39x6d23tp().b[47][0]++, newDistributionsData) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[47][1]++, Array.isArray(newDistributionsData)) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[47][2]++, newDistributionsData[i]) ?
          /* istanbul ignore next */
          (cov_39x6d23tp().b[46][0]++, newDistributionsData[i]) :
          /* istanbul ignore next */
          (cov_39x6d23tp().b[46][1]++,
          /* istanbul ignore next */
          (cov_39x6d23tp().b[49][0]++, newDistributionsData) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[49][1]++, typeof newDistributionsData === "object") &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[49][2]++, !Array.isArray(newDistributionsData)) ?
          /* istanbul ignore next */
          (cov_39x6d23tp().b[48][0]++, newDistributionsData) :
          /* istanbul ignore next */
          (cov_39x6d23tp().b[48][1]++, null)));
          const itemQuantityTotal =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[118]++, Number(newItem.quantity));
          /* istanbul ignore next */
          cov_39x6d23tp().s[119]++;
          if (
          /* istanbul ignore next */
          (cov_39x6d23tp().b[51][0]++, newItemDistribution) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[51][1]++, Object.keys(newItemDistribution).length > 0)) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[50][0]++;
            cov_39x6d23tp().s[120]++;
            for (const [shopIdStr, quantityInShop] of Object.entries(newItemDistribution)) {
              const shopId =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[121]++, shopIdStr);
              const qtyToAdd =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[122]++, Number(quantityInShop));
              /* istanbul ignore next */
              cov_39x6d23tp().s[123]++;
              if (
              /* istanbul ignore next */
              (cov_39x6d23tp().b[53][0]++, qtyToAdd <= 0) ||
              /* istanbul ignore next */
              (cov_39x6d23tp().b[53][1]++, isNaN(qtyToAdd))) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[52][0]++;
                cov_39x6d23tp().s[124]++;
                continue;
              } else
              /* istanbul ignore next */
              {
                cov_39x6d23tp().b[52][1]++;
              }
              const inventory =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[125]++, await tx.inventoryItem.findFirst({
                where: {
                  productId: Number(newItem.productId),
                  shopId: shopId
                }
              }));
              let finalQuantity =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[126]++, 0);
              const oldInvQty =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[127]++,
              /* istanbul ignore next */
              (cov_39x6d23tp().b[54][0]++, inventory?.quantity) ||
              /* istanbul ignore next */
              (cov_39x6d23tp().b[54][1]++, 0));
              let newShopSpecificCostValue =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[128]++, 0);
              const itemPrice =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[129]++, Number(
              /* istanbul ignore next */
              (cov_39x6d23tp().b[55][0]++, newItem.price) ||
              /* istanbul ignore next */
              (cov_39x6d23tp().b[55][1]++, 0)));
              /* istanbul ignore next */
              cov_39x6d23tp().s[130]++;
              if (inventory) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[56][0]++;
                cov_39x6d23tp().s[131]++;
                finalQuantity = inventory.quantity + qtyToAdd;
                const oldShopTotalValue =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[132]++, (
                /* istanbul ignore next */
                (cov_39x6d23tp().b[57][0]++, inventory.quantity) ||
                /* istanbul ignore next */
                (cov_39x6d23tp().b[57][1]++, 0)) * (
                /* istanbul ignore next */
                (cov_39x6d23tp().b[58][0]++, inventory.shopSpecificCost) ||
                /* istanbul ignore next */
                (cov_39x6d23tp().b[58][1]++, 0)));
                const valueOfThisBatch =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[133]++, qtyToAdd * itemPrice);
                /* istanbul ignore next */
                cov_39x6d23tp().s[134]++;
                if (finalQuantity > 0) {
                  /* istanbul ignore next */
                  cov_39x6d23tp().b[59][0]++;
                  cov_39x6d23tp().s[135]++;
                  newShopSpecificCostValue = (oldShopTotalValue + valueOfThisBatch) / finalQuantity;
                } else {
                  /* istanbul ignore next */
                  cov_39x6d23tp().b[59][1]++;
                  cov_39x6d23tp().s[136]++;
                  newShopSpecificCostValue = 0;
                }
                /* istanbul ignore next */
                cov_39x6d23tp().s[137]++;
                await tx.inventoryItem.update({
                  where: {
                    id: inventory.id
                  },
                  data: {
                    quantity: finalQuantity,
                    shopSpecificCost: newShopSpecificCostValue >= 0 ?
                    /* istanbul ignore next */
                    (cov_39x6d23tp().b[60][0]++, newShopSpecificCostValue) :
                    /* istanbul ignore next */
                    (cov_39x6d23tp().b[60][1]++, 0)
                  }
                });
              } else {
                /* istanbul ignore next */
                cov_39x6d23tp().b[56][1]++;
                cov_39x6d23tp().s[138]++;
                finalQuantity = qtyToAdd;
                /* istanbul ignore next */
                cov_39x6d23tp().s[139]++;
                newShopSpecificCostValue = itemPrice;
                /* istanbul ignore next */
                cov_39x6d23tp().s[140]++;
                await tx.inventoryItem.create({
                  data: {
                    productId: Number(newItem.productId),
                    shopId: shopId,
                    quantity: finalQuantity,
                    shopSpecificCost: newShopSpecificCostValue >= 0 ?
                    /* istanbul ignore next */
                    (cov_39x6d23tp().b[61][0]++, newShopSpecificCostValue) :
                    /* istanbul ignore next */
                    (cov_39x6d23tp().b[61][1]++, 0)
                  }
                });
              }
              /* istanbul ignore next */
              cov_39x6d23tp().s[141]++;
              inventoryUpdates.push({
                productId: Number(newItem.productId),
                shopId: Number(shopId),
                newQuantity: finalQuantity,
                oldQuantity: oldInvQty
              });
            }
          } else {
            /* istanbul ignore next */
            cov_39x6d23tp().b[50][1]++;
            cov_39x6d23tp().s[142]++;
            // newItemDistribution is missing or empty. Try to infer shop or log error.
            console.warn(`Purchase item with productId ${newItem.productId} in invoice ${purchaseId} does not have explicit shop distribution data. Attempting to infer target shop.`);
            const existingInventoryItems =
            /* istanbul ignore next */
            (cov_39x6d23tp().s[143]++, await tx.inventoryItem.findMany({
              where: {
                productId: Number(newItem.productId)
              }
            }));
            let targetShopId =
            /* istanbul ignore next */
            (cov_39x6d23tp().s[144]++, null);
            /* istanbul ignore next */
            cov_39x6d23tp().s[145]++;
            if (existingInventoryItems.length === 1) {
              /* istanbul ignore next */
              cov_39x6d23tp().b[62][0]++;
              cov_39x6d23tp().s[146]++;
              targetShopId = existingInventoryItems[0].shopId;
              /* istanbul ignore next */
              cov_39x6d23tp().s[147]++;
              console.log(`Product ${newItem.productId} exists in one shop (${targetShopId}). Attributing new stock there.`);
            } else {
              /* istanbul ignore next */
              cov_39x6d23tp().b[62][1]++;
              cov_39x6d23tp().s[148]++;
              if (existingInventoryItems.length === 0) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[63][0]++;
                cov_39x6d23tp().s[149]++;
                console.error(`Product ${newItem.productId} is new to inventory and no shop distribution provided. Cannot automatically assign to a shop. Inventory not updated for this item.`);
              } else {
                /* istanbul ignore next */
                cov_39x6d23tp().b[63][1]++;
                cov_39x6d23tp().s[150]++;
                console.error(`Product ${newItem.productId} exists in multiple shops and no specific distribution provided. Ambiguous. Inventory not updated for this item.`);
              }
            }
            /* istanbul ignore next */
            cov_39x6d23tp().s[151]++;
            if (targetShopId) {
              /* istanbul ignore next */
              cov_39x6d23tp().b[64][0]++;
              const qtyToAdd =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[152]++, itemQuantityTotal); // The total quantity for this newItem.
              /* istanbul ignore next */
              cov_39x6d23tp().s[153]++;
              if (qtyToAdd > 0) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[65][0]++;
                const inventory =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[154]++, await tx.inventoryItem.findFirst({
                  where: {
                    productId: Number(newItem.productId),
                    shopId: targetShopId
                  }
                }));
                let finalQuantity =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[155]++, 0);
                const oldInvQty =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[156]++,
                /* istanbul ignore next */
                (cov_39x6d23tp().b[66][0]++, inventory?.quantity) ||
                /* istanbul ignore next */
                (cov_39x6d23tp().b[66][1]++, 0));
                let newShopSpecificCostValue =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[157]++, 0);
                const itemPrice =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[158]++, Number(
                /* istanbul ignore next */
                (cov_39x6d23tp().b[67][0]++, newItem.price) ||
                /* istanbul ignore next */
                (cov_39x6d23tp().b[67][1]++, 0)));
                /* istanbul ignore next */
                cov_39x6d23tp().s[159]++;
                if (inventory) {
                  /* istanbul ignore next */
                  cov_39x6d23tp().b[68][0]++;
                  cov_39x6d23tp().s[160]++;
                  finalQuantity = inventory.quantity + qtyToAdd;
                  const oldShopTotalValue =
                  /* istanbul ignore next */
                  (cov_39x6d23tp().s[161]++, (
                  /* istanbul ignore next */
                  (cov_39x6d23tp().b[69][0]++, inventory.quantity) ||
                  /* istanbul ignore next */
                  (cov_39x6d23tp().b[69][1]++, 0)) * (
                  /* istanbul ignore next */
                  (cov_39x6d23tp().b[70][0]++, inventory.shopSpecificCost) ||
                  /* istanbul ignore next */
                  (cov_39x6d23tp().b[70][1]++, 0)));
                  const valueOfThisBatch =
                  /* istanbul ignore next */
                  (cov_39x6d23tp().s[162]++, qtyToAdd * itemPrice);
                  /* istanbul ignore next */
                  cov_39x6d23tp().s[163]++;
                  if (finalQuantity > 0) {
                    /* istanbul ignore next */
                    cov_39x6d23tp().b[71][0]++;
                    cov_39x6d23tp().s[164]++;
                    newShopSpecificCostValue = (oldShopTotalValue + valueOfThisBatch) / finalQuantity;
                  } else {
                    /* istanbul ignore next */
                    cov_39x6d23tp().b[71][1]++;
                    cov_39x6d23tp().s[165]++;
                    newShopSpecificCostValue = 0;
                  }
                  /* istanbul ignore next */
                  cov_39x6d23tp().s[166]++;
                  await tx.inventoryItem.update({
                    where: {
                      id: inventory.id
                    },
                    data: {
                      quantity: finalQuantity,
                      shopSpecificCost: newShopSpecificCostValue >= 0 ?
                      /* istanbul ignore next */
                      (cov_39x6d23tp().b[72][0]++, newShopSpecificCostValue) :
                      /* istanbul ignore next */
                      (cov_39x6d23tp().b[72][1]++, 0)
                    }
                  });
                } else {
                  /* istanbul ignore next */
                  cov_39x6d23tp().b[68][1]++;
                  cov_39x6d23tp().s[167]++;
                  finalQuantity = qtyToAdd;
                  /* istanbul ignore next */
                  cov_39x6d23tp().s[168]++;
                  newShopSpecificCostValue = itemPrice;
                  /* istanbul ignore next */
                  cov_39x6d23tp().s[169]++;
                  console.warn(`InventoryItem for product ${newItem.productId} in targetShopId ${targetShopId} not found during update, attempting create.`);
                  /* istanbul ignore next */
                  cov_39x6d23tp().s[170]++;
                  await tx.inventoryItem.create({
                    data: {
                      productId: Number(newItem.productId),
                      shopId: targetShopId,
                      quantity: finalQuantity,
                      shopSpecificCost: newShopSpecificCostValue >= 0 ?
                      /* istanbul ignore next */
                      (cov_39x6d23tp().b[73][0]++, newShopSpecificCostValue) :
                      /* istanbul ignore next */
                      (cov_39x6d23tp().b[73][1]++, 0)
                    }
                  });
                }
                /* istanbul ignore next */
                cov_39x6d23tp().s[171]++;
                inventoryUpdates.push({
                  productId: Number(newItem.productId),
                  shopId: Number(targetShopId),
                  newQuantity: finalQuantity,
                  oldQuantity: oldInvQty
                });
              } else {
                /* istanbul ignore next */
                cov_39x6d23tp().b[65][1]++;
                cov_39x6d23tp().s[172]++;
                console.warn(`Quantity for product ${newItem.productId} is zero or negative. No inventory update performed for this item.`);
              }
            } else
            /* istanbul ignore next */
            {
              cov_39x6d23tp().b[64][1]++;
            }
          }
          // Recalculate WAC based on all purchase history for this product
          // This ensures accuracy regardless of update order
          const allPurchaseItems =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[173]++, await tx.purchaseInvoiceItem.findMany({
            where: {
              productId: Number(newItem.productId)
            }
          }));
          let totalPurchaseQuantity =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[174]++, 0);
          let totalPurchaseValue =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[175]++, 0);
          /* istanbul ignore next */
          cov_39x6d23tp().s[176]++;
          allPurchaseItems.forEach(purchaseItem => {
            /* istanbul ignore next */
            cov_39x6d23tp().f[11]++;
            cov_39x6d23tp().s[177]++;
            totalPurchaseQuantity += purchaseItem.quantity;
            /* istanbul ignore next */
            cov_39x6d23tp().s[178]++;
            totalPurchaseValue += purchaseItem.quantity * purchaseItem.price;
          });
          let newWeightedAverageCost =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[179]++, 0);
          /* istanbul ignore next */
          cov_39x6d23tp().s[180]++;
          if (totalPurchaseQuantity > 0) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[74][0]++;
            cov_39x6d23tp().s[181]++;
            newWeightedAverageCost = totalPurchaseValue / totalPurchaseQuantity;
          } else
          /* istanbul ignore next */
          {
            cov_39x6d23tp().b[74][1]++;
          }
          // Ensure WAC is valid
          cov_39x6d23tp().s[182]++;
          if (
          /* istanbul ignore next */
          (cov_39x6d23tp().b[76][0]++, newWeightedAverageCost <= 0) ||
          /* istanbul ignore next */
          (cov_39x6d23tp().b[76][1]++, isNaN(newWeightedAverageCost))) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[75][0]++;
            cov_39x6d23tp().s[183]++;
            newWeightedAverageCost = Number(newItem.price);
          } else
          /* istanbul ignore next */
          {
            cov_39x6d23tp().b[75][1]++;
          }
          cov_39x6d23tp().s[184]++;
          await tx.product.update({
            where: {
              id: Number(newItem.productId)
            },
            data: {
              weightedAverageCost: newWeightedAverageCost
            }
          });
        }
      } else
      /* istanbul ignore next */
      {
        cov_39x6d23tp().b[39][1]++;
      }
      const fullUpdatedInvoice =
      /* istanbul ignore next */
      (cov_39x6d23tp().s[185]++, await tx.purchaseInvoice.findUnique({
        where: {
          id: purchaseId
        },
        include: {
          supplier: true,
          items: {
            include: {
              product: true
            }
          }
        }
      }));
      /* istanbul ignore next */
      cov_39x6d23tp().s[186]++;
      return {
        fullUpdatedInvoice,
        inventoryUpdates
      };
    }, {
      timeout: 30000
    }));
    // Real-time updates now handled by polling system
    /* istanbul ignore next */
    cov_39x6d23tp().s[187]++;
    if (
    /* istanbul ignore next */
    (cov_39x6d23tp().b[78][0]++, result) &&
    /* istanbul ignore next */
    (cov_39x6d23tp().b[78][1]++, result.fullUpdatedInvoice)) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[77][0]++;
      cov_39x6d23tp().s[188]++;
      console.log("Purchase invoice updated successfully");
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[77][1]++;
    }
    // After successful transaction, invalidate relevant caches
    cov_39x6d23tp().s[189]++;
    try {
      /* istanbul ignore next */
      cov_39x6d23tp().s[190]++;
      await _cache1.cacheService.invalidateInventory(); // Handles 'inventory:summary:*' and 'products:*'
      /* istanbul ignore next */
      cov_39x6d23tp().s[191]++;
      await _cache1.cacheService.del("dashboard:inventory");
      /* istanbul ignore next */
      cov_39x6d23tp().s[192]++;
      await _cache1.cacheService.del("dashboard:inventory-value");
      /* istanbul ignore next */
      cov_39x6d23tp().s[193]++;
      await _cache1.cacheService.del("dashboard:shops");
      /* istanbul ignore next */
      cov_39x6d23tp().s[194]++;
      await _cache1.cacheService.del("dashboard:all");
      /* istanbul ignore next */
      cov_39x6d23tp().s[195]++;
      await _cache1.cacheService.del("dashboard:summary");
      // Invalidate purchases-specific caches
      /* istanbul ignore next */
      cov_39x6d23tp().s[196]++;
      await _cache1.cacheService.invalidatePattern("purchases-optimized*");
      /* istanbul ignore next */
      cov_39x6d23tp().s[197]++;
      await _cache1.cacheService.invalidatePattern("purchase-stats*");
      /* istanbul ignore next */
      cov_39x6d23tp().s[198]++;
      console.log("Relevant caches invalidated after purchase update.");
    } catch (cacheError) {
      /* istanbul ignore next */
      cov_39x6d23tp().s[199]++;
      console.error("Error invalidating caches after purchase update:", cacheError);
      // Do not let cache invalidation error fail the main operation
    }
    // Revalidate Next.js cached pages
    /* istanbul ignore next */
    cov_39x6d23tp().s[200]++;
    try {
      /* istanbul ignore next */
      cov_39x6d23tp().s[201]++;
      (0, _cache.revalidateTag)("purchase-invoices");
      /* istanbul ignore next */
      cov_39x6d23tp().s[202]++;
      (0, _cache.revalidateTag)(`purchase-${purchaseId}`);
      /* istanbul ignore next */
      cov_39x6d23tp().s[203]++;
      (0, _cache.revalidatePath)(`/purchases/${purchaseId}`);
      /* istanbul ignore next */
      cov_39x6d23tp().s[204]++;
      (0, _cache.revalidatePath)(`/purchases/${purchaseId}/edit`);
      /* istanbul ignore next */
      cov_39x6d23tp().s[205]++;
      (0, _cache.revalidatePath)("/purchases");
      /* istanbul ignore next */
      cov_39x6d23tp().s[206]++;
      console.log("Next.js pages revalidated after purchase update.");
    } catch (revalidateError) {
      /* istanbul ignore next */
      cov_39x6d23tp().s[207]++;
      console.error("Error revalidating Next.js pages after purchase update:", revalidateError);
    }
    /* istanbul ignore next */
    cov_39x6d23tp().s[208]++;
    return _server.NextResponse.json({
      message: "Purchase invoice updated successfully",
      data: result.fullUpdatedInvoice
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_39x6d23tp().s[209]++;
    console.error(`Error updating purchase invoice ${id}:`, error);
    const details =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[210]++, error instanceof Error ?
    /* istanbul ignore next */
    (cov_39x6d23tp().b[79][0]++, error.message) :
    /* istanbul ignore next */
    (cov_39x6d23tp().b[79][1]++, String(error)));
    /* istanbul ignore next */
    cov_39x6d23tp().s[211]++;
    return _server.NextResponse.json({
      error: {
        message: "Failed to update purchase invoice",
        details: details
      }
    }, {
      status: 500
    });
  }
}
async function DELETE(request, {
  params
}) {
  /* istanbul ignore next */
  cov_39x6d23tp().f[12]++;
  const purchaseIdStr =
  /* istanbul ignore next */
  (cov_39x6d23tp().s[212]++, params.id);
  /* istanbul ignore next */
  cov_39x6d23tp().s[213]++;
  try {
    const purchaseId =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[214]++, parseInt(purchaseIdStr));
    /* istanbul ignore next */
    cov_39x6d23tp().s[215]++;
    if (isNaN(purchaseId)) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[80][0]++;
      cov_39x6d23tp().s[216]++;
      return _server.NextResponse.json({
        error: {
          message: "Invalid purchase ID format"
        }
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[80][1]++;
    }
    const purchaseToDelete =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[217]++, await _prisma.default.purchaseInvoice.findUnique({
      where: {
        id: purchaseId
      },
      include: {
        items: {
          include: {
            product: true
          }
        }
      }
    }));
    /* istanbul ignore next */
    cov_39x6d23tp().s[218]++;
    if (!purchaseToDelete) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[81][0]++;
      cov_39x6d23tp().s[219]++;
      return _server.NextResponse.json({
        error: {
          message: "Purchase invoice not found to delete"
        }
      }, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[81][1]++;
    }
    const result =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[220]++, await _prisma.default.$transaction(async tx => {
      /* istanbul ignore next */
      cov_39x6d23tp().f[13]++;
      const inventoryUpdates =
      /* istanbul ignore next */
      (cov_39x6d23tp().s[221]++, []);
      /* istanbul ignore next */
      cov_39x6d23tp().s[222]++;
      if (
      /* istanbul ignore next */
      (cov_39x6d23tp().b[83][0]++, purchaseToDelete.items) &&
      /* istanbul ignore next */
      (cov_39x6d23tp().b[83][1]++, purchaseToDelete.items.length > 0)) {
        /* istanbul ignore next */
        cov_39x6d23tp().b[82][0]++;
        cov_39x6d23tp().s[223]++;
        for (const item of purchaseToDelete.items) {
          /* istanbul ignore next */
          cov_39x6d23tp().s[224]++;
          if (!item.product) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[84][0]++;
            cov_39x6d23tp().s[225]++;
            console.warn(`Item ${item.id} for purchase ${purchaseId} is missing product data. Skipping stock adjustment.`);
            /* istanbul ignore next */
            cov_39x6d23tp().s[226]++;
            continue;
          } else
          /* istanbul ignore next */
          {
            cov_39x6d23tp().b[84][1]++;
          }
          const productId =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[227]++, item.productId);
          const quantityToRemoveForItemTotal =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[228]++, item.quantity); // Total quantity for this item line
          let itemDistributionInfo =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[229]++, null);
          const distributionsOnInvoice =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[230]++, purchaseToDelete.distributions);
          // Attempt to get specific distribution for this item
          /* istanbul ignore next */
          cov_39x6d23tp().s[231]++;
          if (
          /* istanbul ignore next */
          (cov_39x6d23tp().b[86][0]++, distributionsOnInvoice) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[86][1]++, Array.isArray(distributionsOnInvoice)) &&
          /* istanbul ignore next */
          (cov_39x6d23tp().b[86][2]++, purchaseToDelete.items.indexOf(item) < distributionsOnInvoice.length)) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[85][0]++;
            const distData =
            /* istanbul ignore next */
            (cov_39x6d23tp().s[232]++, distributionsOnInvoice[purchaseToDelete.items.indexOf(item)]);
            /* istanbul ignore next */
            cov_39x6d23tp().s[233]++;
            if (
            /* istanbul ignore next */
            (cov_39x6d23tp().b[88][0]++, distData) &&
            /* istanbul ignore next */
            (cov_39x6d23tp().b[88][1]++, typeof distData === "object") &&
            /* istanbul ignore next */
            (cov_39x6d23tp().b[88][2]++, Object.keys(distData).length > 0)) {
              /* istanbul ignore next */
              cov_39x6d23tp().b[87][0]++;
              cov_39x6d23tp().s[234]++;
              itemDistributionInfo = distData;
            } else
            /* istanbul ignore next */
            {
              cov_39x6d23tp().b[87][1]++;
            }
          } else
          /* istanbul ignore next */
          {
            cov_39x6d23tp().b[85][1]++;
          }
          cov_39x6d23tp().s[235]++;
          if (itemDistributionInfo) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[89][0]++;
            cov_39x6d23tp().s[236]++;
            // Case 1: Explicit distribution data found for the item
            console.log(`Reversing item-specific distribution for product ${productId}, purchase ${purchaseId}`);
            /* istanbul ignore next */
            cov_39x6d23tp().s[237]++;
            for (const [shopIdStr, distributedQuantityStr] of Object.entries(itemDistributionInfo)) {
              const shopId =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[238]++, shopIdStr);
              const qtyInShopToRemove =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[239]++, Number(distributedQuantityStr));
              /* istanbul ignore next */
              cov_39x6d23tp().s[240]++;
              if (
              /* istanbul ignore next */
              (cov_39x6d23tp().b[91][0]++, isNaN(qtyInShopToRemove)) ||
              /* istanbul ignore next */
              (cov_39x6d23tp().b[91][1]++, qtyInShopToRemove <= 0)) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[90][0]++;
                cov_39x6d23tp().s[241]++;
                continue;
              } else
              /* istanbul ignore next */
              {
                cov_39x6d23tp().b[90][1]++;
              }
              const inventoryItem =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[242]++, await tx.inventoryItem.findFirst({
                where: {
                  productId,
                  shopId: shopId
                }
              }));
              /* istanbul ignore next */
              cov_39x6d23tp().s[243]++;
              if (inventoryItem) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[92][0]++;
                const oldShopQuantity =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[244]++, inventoryItem.quantity);
                const newShopQuantity =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[245]++, Math.max(0, inventoryItem.quantity - qtyInShopToRemove));
                const updateData =
                /* istanbul ignore next */
                (cov_39x6d23tp().s[246]++, {
                  quantity: newShopQuantity,
                  shopSpecificCost: newShopQuantity === 0 ?
                  /* istanbul ignore next */
                  (cov_39x6d23tp().b[93][0]++, 0) :
                  /* istanbul ignore next */
                  (cov_39x6d23tp().b[93][1]++, inventoryItem.shopSpecificCost)
                });
                /* istanbul ignore next */
                cov_39x6d23tp().s[247]++;
                await tx.inventoryItem.update({
                  where: {
                    id: inventoryItem.id
                  },
                  data: updateData
                });
                /* istanbul ignore next */
                cov_39x6d23tp().s[248]++;
                inventoryUpdates.push({
                  productId,
                  shopId: Number(shopId),
                  newQuantity: newShopQuantity,
                  oldQuantity: oldShopQuantity
                });
                /* istanbul ignore next */
                cov_39x6d23tp().s[249]++;
                console.log(`  - Reduced inventory for product ${productId} in shop ${shopId} by ${qtyInShopToRemove}. Old: ${oldShopQuantity}, New: ${newShopQuantity}`);
              } else {
                /* istanbul ignore next */
                cov_39x6d23tp().b[92][1]++;
                cov_39x6d23tp().s[250]++;
                console.warn(`  - Inventory item not found for product ${productId} in shop ${shopId} during purchase deletion with explicit distribution. Stock may be inaccurate.`);
              }
            }
          } else {
            /* istanbul ignore next */
            cov_39x6d23tp().b[89][1]++;
            cov_39x6d23tp().s[251]++;
            // Case 2: No explicit distribution for this item. Attempt to infer.
            console.warn(`No specific distribution found for item ${productId} in deleted purchase ${purchaseId}. Attempting to infer shop(s) for stock reversal of total quantity ${quantityToRemoveForItemTotal}.`);
            const existingInventoriesForItem =
            /* istanbul ignore next */
            (cov_39x6d23tp().s[252]++, await tx.inventoryItem.findMany({
              where: {
                productId: productId
              }
            }));
            /* istanbul ignore next */
            cov_39x6d23tp().s[253]++;
            if (existingInventoriesForItem.length === 1) {
              /* istanbul ignore next */
              cov_39x6d23tp().b[94][0]++;
              const singleShopInventory =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[254]++, existingInventoriesForItem[0]);
              const shopIdToDeductFrom =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[255]++, singleShopInventory.shopId);
              /* istanbul ignore next */
              cov_39x6d23tp().s[256]++;
              console.log(`Product ${productId} found in single shop ${shopIdToDeductFrom}. Deducting total item quantity ${quantityToRemoveForItemTotal}.`);
              const oldShopQuantity =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[257]++, singleShopInventory.quantity);
              const newShopQuantity =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[258]++, Math.max(0, singleShopInventory.quantity - quantityToRemoveForItemTotal));
              const updateDataInferred =
              /* istanbul ignore next */
              (cov_39x6d23tp().s[259]++, {
                quantity: newShopQuantity,
                shopSpecificCost: newShopQuantity === 0 ?
                /* istanbul ignore next */
                (cov_39x6d23tp().b[95][0]++, 0) :
                /* istanbul ignore next */
                (cov_39x6d23tp().b[95][1]++, singleShopInventory.shopSpecificCost)
              });
              /* istanbul ignore next */
              cov_39x6d23tp().s[260]++;
              await tx.inventoryItem.update({
                where: {
                  id: singleShopInventory.id
                },
                data: updateDataInferred
              });
              /* istanbul ignore next */
              cov_39x6d23tp().s[261]++;
              inventoryUpdates.push({
                productId,
                shopId: Number(shopIdToDeductFrom),
                newQuantity: newShopQuantity,
                oldQuantity: oldShopQuantity
              });
              /* istanbul ignore next */
              cov_39x6d23tp().s[262]++;
              console.log(`  - Reduced inventory for product ${productId} in inferred shop ${shopIdToDeductFrom} by ${quantityToRemoveForItemTotal}. Old: ${oldShopQuantity}, New: ${newShopQuantity}`);
            } else {
              /* istanbul ignore next */
              cov_39x6d23tp().b[94][1]++;
              cov_39x6d23tp().s[263]++;
              if (existingInventoriesForItem.length === 0) {
                /* istanbul ignore next */
                cov_39x6d23tp().b[96][0]++;
                cov_39x6d23tp().s[264]++;
                console.error(`Product ${productId} (from deleted purchase ${purchaseId}) not found in any inventory. Cannot reverse stock for this item.`);
              } else {
                /* istanbul ignore next */
                cov_39x6d23tp().b[96][1]++;
                cov_39x6d23tp().s[265]++;
                console.error(`Product ${productId} (from deleted purchase ${purchaseId}) exists in multiple shops, but no specific distribution data was found on the invoice for reversal. Ambiguous. Stock not automatically reversed for this item. Manual adjustment may be needed.`);
              }
            }
          }
          // ---- BEGIN WAC Recalculation for the deleted item ----
          const remainingPurchaseItems =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[266]++, await tx.purchaseInvoiceItem.findMany({
            where: {
              productId: productId,
              purchaseInvoiceId: {
                not: purchaseId
              }
            }
          }));
          let totalRemainingQuantity =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[267]++, 0);
          let totalRemainingValue =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[268]++, 0);
          /* istanbul ignore next */
          cov_39x6d23tp().s[269]++;
          remainingPurchaseItems.forEach(pItem => {
            /* istanbul ignore next */
            cov_39x6d23tp().f[14]++;
            cov_39x6d23tp().s[270]++;
            totalRemainingQuantity += pItem.quantity;
            /* istanbul ignore next */
            cov_39x6d23tp().s[271]++;
            totalRemainingValue += pItem.quantity * pItem.price;
          });
          let newCalculatedWAC =
          /* istanbul ignore next */
          (cov_39x6d23tp().s[272]++, 0);
          /* istanbul ignore next */
          cov_39x6d23tp().s[273]++;
          if (totalRemainingQuantity > 0) {
            /* istanbul ignore next */
            cov_39x6d23tp().b[97][0]++;
            cov_39x6d23tp().s[274]++;
            newCalculatedWAC = totalRemainingValue / totalRemainingQuantity;
          } else
          /* istanbul ignore next */
          {
            cov_39x6d23tp().b[97][1]++;
          }
          cov_39x6d23tp().s[275]++;
          await tx.product.update({
            where: {
              id: productId
            },
            data: {
              weightedAverageCost: newCalculatedWAC >= 0 ?
              /* istanbul ignore next */
              (cov_39x6d23tp().b[98][0]++, newCalculatedWAC) :
              /* istanbul ignore next */
              (cov_39x6d23tp().b[98][1]++, 0)
            }
          });
          // ---- END WAC Recalculation ----
        }
      } else
      /* istanbul ignore next */
      {
        cov_39x6d23tp().b[82][1]++;
      }
      cov_39x6d23tp().s[276]++;
      await tx.purchaseInvoiceItem.deleteMany({
        where: {
          purchaseInvoiceId: purchaseId
        }
      });
      /* istanbul ignore next */
      cov_39x6d23tp().s[277]++;
      await tx.purchaseInvoice.delete({
        where: {
          id: purchaseId
        }
      });
      /* istanbul ignore next */
      cov_39x6d23tp().s[278]++;
      return {
        deletedInvoiceId: purchaseId,
        inventoryUpdates
      };
    }));
    // Real-time updates now handled by polling system
    /* istanbul ignore next */
    cov_39x6d23tp().s[279]++;
    if (
    /* istanbul ignore next */
    (cov_39x6d23tp().b[100][0]++, result) &&
    /* istanbul ignore next */
    (cov_39x6d23tp().b[100][1]++, result.deletedInvoiceId)) {
      /* istanbul ignore next */
      cov_39x6d23tp().b[99][0]++;
      cov_39x6d23tp().s[280]++;
      console.log(`Purchase invoice ${result.deletedInvoiceId} deleted successfully`);
    } else
    /* istanbul ignore next */
    {
      cov_39x6d23tp().b[99][1]++;
    }
    // After successful transaction, invalidate relevant caches
    cov_39x6d23tp().s[281]++;
    try {
      /* istanbul ignore next */
      cov_39x6d23tp().s[282]++;
      await _cache1.cacheService.invalidateInventory(); // Handles 'inventory:summary:*' and 'products:*'
      /* istanbul ignore next */
      cov_39x6d23tp().s[283]++;
      await _cache1.cacheService.del("dashboard:inventory");
      /* istanbul ignore next */
      cov_39x6d23tp().s[284]++;
      await _cache1.cacheService.del("dashboard:inventory-value");
      /* istanbul ignore next */
      cov_39x6d23tp().s[285]++;
      await _cache1.cacheService.del("dashboard:shops");
      /* istanbul ignore next */
      cov_39x6d23tp().s[286]++;
      await _cache1.cacheService.del("dashboard:all");
      /* istanbul ignore next */
      cov_39x6d23tp().s[287]++;
      await _cache1.cacheService.del("dashboard:summary");
      // Invalidate purchases-specific caches
      /* istanbul ignore next */
      cov_39x6d23tp().s[288]++;
      await _cache1.cacheService.invalidatePattern("purchases-optimized*");
      /* istanbul ignore next */
      cov_39x6d23tp().s[289]++;
      await _cache1.cacheService.invalidatePattern("purchase-stats*");
      /* istanbul ignore next */
      cov_39x6d23tp().s[290]++;
      console.log("Relevant caches invalidated after purchase deletion.");
    } catch (cacheError) {
      /* istanbul ignore next */
      cov_39x6d23tp().s[291]++;
      console.error("Error invalidating caches after purchase deletion:", cacheError);
      // Do not let cache invalidation error fail the main operation
    }
    // Revalidate Next.js cached pages
    /* istanbul ignore next */
    cov_39x6d23tp().s[292]++;
    try {
      /* istanbul ignore next */
      cov_39x6d23tp().s[293]++;
      (0, _cache.revalidateTag)("purchase-invoices");
      /* istanbul ignore next */
      cov_39x6d23tp().s[294]++;
      (0, _cache.revalidateTag)(`purchase-${purchaseId}`);
      /* istanbul ignore next */
      cov_39x6d23tp().s[295]++;
      (0, _cache.revalidatePath)(`/purchases/${purchaseId}`);
      /* istanbul ignore next */
      cov_39x6d23tp().s[296]++;
      (0, _cache.revalidatePath)(`/purchases/${purchaseId}/edit`);
      /* istanbul ignore next */
      cov_39x6d23tp().s[297]++;
      (0, _cache.revalidatePath)("/purchases");
      /* istanbul ignore next */
      cov_39x6d23tp().s[298]++;
      console.log("Next.js pages revalidated after purchase deletion.");
    } catch (revalidateError) {
      /* istanbul ignore next */
      cov_39x6d23tp().s[299]++;
      console.error("Error revalidating Next.js pages after purchase deletion:", revalidateError);
    }
    /* istanbul ignore next */
    cov_39x6d23tp().s[300]++;
    return _server.NextResponse.json({
      message: "Purchase invoice deleted successfully"
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_39x6d23tp().s[301]++;
    console.error(`Error deleting purchase invoice ${purchaseIdStr}:`, error);
    const details =
    /* istanbul ignore next */
    (cov_39x6d23tp().s[302]++, error instanceof Error ?
    /* istanbul ignore next */
    (cov_39x6d23tp().b[101][0]++, error.message) :
    /* istanbul ignore next */
    (cov_39x6d23tp().b[101][1]++, "An unknown error occurred"));
    /* istanbul ignore next */
    cov_39x6d23tp().s[303]++;
    return _server.NextResponse.json({
      error: {
        message: "Failed to delete purchase invoice",
        details: details
      }
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUxFVEUiLCJjb3ZfMzl4NmQyM3RwIiwiZiIsInMiLCJHRVQiLCJQVVQiLCJyZXF1ZXN0IiwicGFyYW1zIiwiaWQiLCJwdXJjaGFzZUlkIiwicGFyc2VJbnQiLCJpc05hTiIsImIiLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsImVycm9yIiwibWVzc2FnZSIsInN0YXR1cyIsInB1cmNoYXNlIiwiX3ByaXNtYSIsImRlZmF1bHQiLCJwdXJjaGFzZUludm9pY2UiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpbmNsdWRlIiwic3VwcGxpZXIiLCJpdGVtcyIsInByb2R1Y3QiLCJjb25zb2xlIiwiZGV0YWlscyIsIkVycm9yIiwiYm9keSIsIm9yaWdpbmFsUHVyY2hhc2UiLCJuZXdJdGVtc0RhdGEiLCJkaXN0cmlidXRpb25zIiwibmV3RGlzdHJpYnV0aW9uc0RhdGEiLCJpbnZvaWNlRGF0YSIsIl8iLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJub3RlcyIsImRpcnR5RGF0YSIsImNsZWFuZWRJbnZvaWNlRGF0YSIsImludm9pY2VOdW1iZXIiLCJkYXRlIiwiRGF0ZSIsImR1ZURhdGUiLCJ1bmRlZmluZWQiLCJ0b3RhbEFtb3VudCIsInRvdGFsIiwiTnVtYmVyIiwic3VwcGxpZXJJZCIsImNvbm5lY3QiLCJkaXNjb25uZWN0IiwicmVzdWx0IiwiJHRyYW5zYWN0aW9uIiwidHgiLCJpbnZlbnRvcnlVcGRhdGVzIiwibGVuZ3RoIiwib2xkSXRlbSIsInByb2R1Y3RUb1VwZGF0ZSIsInByb2R1Y3RJZCIsIm9sZEl0ZW1EaXN0cmlidXRpb24iLCJBcnJheSIsImlzQXJyYXkiLCJpbmRleE9mIiwiT2JqZWN0Iiwia2V5cyIsInNob3BJZFN0ciIsInF1YW50aXR5SW5TaG9wIiwiZW50cmllcyIsInNob3BJZCIsInF0eVRvUmVtb3ZlIiwiaW52ZW50b3J5IiwiaW52ZW50b3J5SXRlbSIsImZpbmRGaXJzdCIsIm9sZFNob3BRdWFudGl0eSIsInF1YW50aXR5IiwibmV3UXVhbnRpdHkiLCJNYXRoIiwibWF4IiwidXBkYXRlIiwiZGF0YSIsInNob3BTcGVjaWZpY0Nvc3QiLCJwdXNoIiwib2xkUXVhbnRpdHkiLCJ3YXJuIiwiZXhpc3RpbmdJbnZlbnRvcmllc0Zvck9sZEl0ZW0iLCJmaW5kTWFueSIsInNob3BJZFRvUmV2ZXJzZUZyb20iLCJsb2ciLCJjdXJyZW50VG90YWxQcm9kdWN0UXVhbnRpdHkiLCJhbGxJbnZlbnRvcnlGb3JQcm9kdWN0QWZ0ZXJSZXZlcnNhbCIsInJlZHVjZSIsInN1bSIsImludiIsInJlbWFpbmluZ1B1cmNoYXNlSXRlbXMiLCJwdXJjaGFzZUludm9pY2VJdGVtIiwicHVyY2hhc2VJbnZvaWNlSWQiLCJub3QiLCJ0b3RhbFJlbWFpbmluZ1F1YW50aXR5IiwidG90YWxSZW1haW5pbmdWYWx1ZSIsImZvckVhY2giLCJwdXJjaGFzZUl0ZW0iLCJwcmljZSIsIm5ld1dBQyIsIndlaWdodGVkQXZlcmFnZUNvc3QiLCJkZWxldGVNYW55IiwibmV3VG90YWxJbnZvaWNlQW1vdW50IiwiaXRlbSIsInVwZGF0ZWRJbnZvaWNlIiwiaSIsIm5ld0l0ZW0iLCJjcmVhdGUiLCJuZXdJdGVtRGlzdHJpYnV0aW9uIiwiaXRlbVF1YW50aXR5VG90YWwiLCJxdHlUb0FkZCIsImZpbmFsUXVhbnRpdHkiLCJvbGRJbnZRdHkiLCJuZXdTaG9wU3BlY2lmaWNDb3N0VmFsdWUiLCJpdGVtUHJpY2UiLCJvbGRTaG9wVG90YWxWYWx1ZSIsInZhbHVlT2ZUaGlzQmF0Y2giLCJleGlzdGluZ0ludmVudG9yeUl0ZW1zIiwidGFyZ2V0U2hvcElkIiwiYWxsUHVyY2hhc2VJdGVtcyIsInRvdGFsUHVyY2hhc2VRdWFudGl0eSIsInRvdGFsUHVyY2hhc2VWYWx1ZSIsIm5ld1dlaWdodGVkQXZlcmFnZUNvc3QiLCJmdWxsVXBkYXRlZEludm9pY2UiLCJ0aW1lb3V0IiwiX2NhY2hlMSIsImNhY2hlU2VydmljZSIsImludmFsaWRhdGVJbnZlbnRvcnkiLCJkZWwiLCJpbnZhbGlkYXRlUGF0dGVybiIsImNhY2hlRXJyb3IiLCJfY2FjaGUiLCJyZXZhbGlkYXRlVGFnIiwicmV2YWxpZGF0ZVBhdGgiLCJyZXZhbGlkYXRlRXJyb3IiLCJTdHJpbmciLCJwdXJjaGFzZUlkU3RyIiwicHVyY2hhc2VUb0RlbGV0ZSIsInF1YW50aXR5VG9SZW1vdmVGb3JJdGVtVG90YWwiLCJpdGVtRGlzdHJpYnV0aW9uSW5mbyIsImRpc3RyaWJ1dGlvbnNPbkludm9pY2UiLCJkaXN0RGF0YSIsImRpc3RyaWJ1dGVkUXVhbnRpdHlTdHIiLCJxdHlJblNob3BUb1JlbW92ZSIsIm5ld1Nob3BRdWFudGl0eSIsInVwZGF0ZURhdGEiLCJleGlzdGluZ0ludmVudG9yaWVzRm9ySXRlbSIsInNpbmdsZVNob3BJbnZlbnRvcnkiLCJzaG9wSWRUb0RlZHVjdEZyb20iLCJ1cGRhdGVEYXRhSW5mZXJyZWQiLCJwSXRlbSIsIm5ld0NhbGN1bGF0ZWRXQUMiLCJkZWxldGUiLCJkZWxldGVkSW52b2ljZUlkIl0sInNvdXJjZXMiOlsiL1VzZXJzL3NhY2hpbi9Eb2N1bWVudHMvbWQtc3BvcnRzLS9zcmMvYXBwL2FwaS9wdXJjaGFzZXMvW2lkXS9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgcmV2YWxpZGF0ZVRhZywgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvcHJpc21hJztcbmltcG9ydCB7IFByaXNtYUNsaWVudEtub3duUmVxdWVzdEVycm9yIH0gZnJvbSAnQHByaXNtYS9jbGllbnQvcnVudGltZS9saWJyYXJ5JztcbmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnbmV4dC1hdXRoL2p3dCc7XG5pbXBvcnQgeyBjYWNoZVNlcnZpY2UgfSBmcm9tICdAL2xpYi9jYWNoZSc7XG5cbi8vIEdFVCAvYXBpL3B1cmNoYXNlcy9baWRdIC0gR2V0IGEgc3BlY2lmaWMgcHVyY2hhc2UgaW52b2ljZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcbiAgICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcbiAgICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSB7XG4gICAgY29uc3QgaWQgPSBwYXJhbXMuaWQ7IC8vIFN0b3JlIHBhcmFtcy5pZCBlYXJseSB0byBhdm9pZCBhc3luYyBpc3N1ZXNcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwdXJjaGFzZUlkID0gcGFyc2VJbnQoaWQpO1xuXG4gICAgICAgIGlmIChpc05hTihwdXJjaGFzZUlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgICAgIHsgZXJyb3I6IHsgbWVzc2FnZTogJ0ludmFsaWQgcHVyY2hhc2UgSUQgZm9ybWF0JyB9IH0sXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcHVyY2hhc2UgPSBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBpZDogcHVyY2hhc2VJZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICBzdXBwbGllcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcHVyY2hhc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgICAgICB7IGVycm9yOiB7IG1lc3NhZ2U6ICdQdXJjaGFzZSBpbnZvaWNlIG5vdCBmb3VuZCcgfSB9LFxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihwdXJjaGFzZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgcHVyY2hhc2UgaW52b2ljZSAke2lkfTpgLCBlcnJvcik7XG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkJztcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgeyBlcnJvcjogeyBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIHB1cmNoYXNlIGludm9pY2UnLCBkZXRhaWxzOiBkZXRhaWxzIH0gfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgICApO1xuICAgIH1cbn1cblxuLy8gUFVUIC9hcGkvcHVyY2hhc2VzL1tpZF0gLSBVcGRhdGUgYSBwdXJjaGFzZSBpbnZvaWNlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKFxuICAgIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICAgIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XG4pIHtcbiAgICBjb25zdCBpZCA9IHBhcmFtcy5pZDtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwdXJjaGFzZUlkID0gcGFyc2VJbnQoaWQpO1xuICAgICAgICBpZiAoaXNOYU4ocHVyY2hhc2VJZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgICAgICB7IGVycm9yOiB7IG1lc3NhZ2U6ICdJbnZhbGlkIHB1cmNoYXNlIElEIGZvcm1hdCcgfSB9LFxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgICAgICBjb25zdCBvcmlnaW5hbFB1cmNoYXNlID0gYXdhaXQgcHJpc21hLnB1cmNoYXNlSW52b2ljZS5maW5kVW5pcXVlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBwdXJjaGFzZUlkIH0sXG4gICAgICAgICAgICBpbmNsdWRlOiB7IGl0ZW1zOiB7IGluY2x1ZGU6IHsgcHJvZHVjdDogdHJ1ZSB9IH0gfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghb3JpZ2luYWxQdXJjaGFzZSkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgICAgIHsgZXJyb3I6IHsgbWVzc2FnZTogJ1B1cmNoYXNlIGludm9pY2Ugbm90IGZvdW5kIHRvIHVwZGF0ZScgfSB9LFxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBpdGVtczogbmV3SXRlbXNEYXRhLCBkaXN0cmlidXRpb25zOiBuZXdEaXN0cmlidXRpb25zRGF0YSwgLi4uaW52b2ljZURhdGEgfSA9IGJvZHk7XG4gICAgICAgIGNvbnN0IHsgaWQ6IF8sIGNyZWF0ZWRBdCwgdXBkYXRlZEF0LCBzdXBwbGllciwgbm90ZXMsIC4uLmRpcnR5RGF0YSB9ID0gaW52b2ljZURhdGE7XG4gICAgICAgIGNvbnN0IGNsZWFuZWRJbnZvaWNlRGF0YTogYW55ID0ge307XG4gICAgICAgIGlmIChkaXJ0eURhdGEuaW52b2ljZU51bWJlcikgY2xlYW5lZEludm9pY2VEYXRhLmludm9pY2VOdW1iZXIgPSBkaXJ0eURhdGEuaW52b2ljZU51bWJlcjtcbiAgICAgICAgaWYgKGRpcnR5RGF0YS5zdGF0dXMpIGNsZWFuZWRJbnZvaWNlRGF0YS5zdGF0dXMgPSBkaXJ0eURhdGEuc3RhdHVzO1xuICAgICAgICBpZiAoZGlydHlEYXRhLmRhdGUpIGNsZWFuZWRJbnZvaWNlRGF0YS5kYXRlID0gbmV3IERhdGUoZGlydHlEYXRhLmRhdGUpO1xuICAgICAgICBpZiAoZGlydHlEYXRhLmR1ZURhdGUgIT09IHVuZGVmaW5lZCkgY2xlYW5lZEludm9pY2VEYXRhLmR1ZURhdGUgPSBkaXJ0eURhdGEuZHVlRGF0ZSA/IG5ldyBEYXRlKGRpcnR5RGF0YS5kdWVEYXRlKSA6IG51bGw7XG4gICAgICAgIGlmIChkaXJ0eURhdGEudG90YWxBbW91bnQgIT09IHVuZGVmaW5lZCkgY2xlYW5lZEludm9pY2VEYXRhLnRvdGFsID0gTnVtYmVyKGRpcnR5RGF0YS50b3RhbEFtb3VudCk7XG4gICAgICAgIGVsc2UgaWYgKGRpcnR5RGF0YS50b3RhbCAhPT0gdW5kZWZpbmVkKSBjbGVhbmVkSW52b2ljZURhdGEudG90YWwgPSBOdW1iZXIoZGlydHlEYXRhLnRvdGFsKTtcbiAgICAgICAgY2xlYW5lZEludm9pY2VEYXRhLmRpc3RyaWJ1dGlvbnMgPSBuZXdEaXN0cmlidXRpb25zRGF0YSAhPT0gdW5kZWZpbmVkID8gbmV3RGlzdHJpYnV0aW9uc0RhdGEgOiBvcmlnaW5hbFB1cmNoYXNlLmRpc3RyaWJ1dGlvbnM7XG4gICAgICAgIGlmIChkaXJ0eURhdGEuc3VwcGxpZXJJZCkgY2xlYW5lZEludm9pY2VEYXRhLnN1cHBsaWVyID0geyBjb25uZWN0OiB7IGlkOiBOdW1iZXIoZGlydHlEYXRhLnN1cHBsaWVySWQpIH0gfTtcbiAgICAgICAgZWxzZSBpZiAoZGlydHlEYXRhLnN1cHBsaWVySWQgPT09IG51bGwgJiYgb3JpZ2luYWxQdXJjaGFzZS5zdXBwbGllcklkKSBjbGVhbmVkSW52b2ljZURhdGEuc3VwcGxpZXIgPSB7IGRpc2Nvbm5lY3Q6IHRydWUgfTtcblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5VXBkYXRlczogQXJyYXk8eyBwcm9kdWN0SWQ6IG51bWJlciwgc2hvcElkOiBudW1iZXIsIG5ld1F1YW50aXR5OiBudW1iZXIsIG9sZFF1YW50aXR5PzogbnVtYmVyIH0+ID0gW107XG5cbiAgICAgICAgICAgIGlmIChvcmlnaW5hbFB1cmNoYXNlLml0ZW1zICYmIG9yaWdpbmFsUHVyY2hhc2UuaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgb2xkSXRlbSBvZiBvcmlnaW5hbFB1cmNoYXNlLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RUb1VwZGF0ZSA9IGF3YWl0IHR4LnByb2R1Y3QuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiBvbGRJdGVtLnByb2R1Y3RJZCB9IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXByb2R1Y3RUb1VwZGF0ZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkSXRlbURpc3RyaWJ1dGlvbiA9IG9yaWdpbmFsUHVyY2hhc2UuZGlzdHJpYnV0aW9ucyAmJiBBcnJheS5pc0FycmF5KG9yaWdpbmFsUHVyY2hhc2UuZGlzdHJpYnV0aW9ucykgJiYgb3JpZ2luYWxQdXJjaGFzZS5pdGVtcy5pbmRleE9mKG9sZEl0ZW0pIDwgb3JpZ2luYWxQdXJjaGFzZS5kaXN0cmlidXRpb25zLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvcmlnaW5hbFB1cmNoYXNlLmRpc3RyaWJ1dGlvbnNbb3JpZ2luYWxQdXJjaGFzZS5pdGVtcy5pbmRleE9mKG9sZEl0ZW0pXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAob3JpZ2luYWxQdXJjaGFzZS5kaXN0cmlidXRpb25zICYmIHR5cGVvZiBvcmlnaW5hbFB1cmNoYXNlLmRpc3RyaWJ1dGlvbnMgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9yaWdpbmFsUHVyY2hhc2UuZGlzdHJpYnV0aW9ucykgPyBvcmlnaW5hbFB1cmNoYXNlLmRpc3RyaWJ1dGlvbnMgOiBudWxsKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkSXRlbURpc3RyaWJ1dGlvbiAmJiBPYmplY3Qua2V5cyhvbGRJdGVtRGlzdHJpYnV0aW9uKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtzaG9wSWRTdHIsIHF1YW50aXR5SW5TaG9wXSBvZiBPYmplY3QuZW50cmllcyhvbGRJdGVtRGlzdHJpYnV0aW9uIGFzIGFueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG9wSWQgPSBzaG9wSWRTdHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcXR5VG9SZW1vdmUgPSBOdW1iZXIocXVhbnRpdHlJblNob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdHlUb1JlbW92ZSA8PSAwIHx8IGlzTmFOKHF0eVRvUmVtb3ZlKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5ID0gYXdhaXQgdHguaW52ZW50b3J5SXRlbS5maW5kRmlyc3QoeyB3aGVyZTogeyBwcm9kdWN0SWQ6IG9sZEl0ZW0ucHJvZHVjdElkLCBzaG9wSWQ6IHNob3BJZCB9IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZlbnRvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkU2hvcFF1YW50aXR5ID0gaW52ZW50b3J5LnF1YW50aXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdRdWFudGl0eSA9IE1hdGgubWF4KDAsIGludmVudG9yeS5xdWFudGl0eSAtIHF0eVRvUmVtb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdHguaW52ZW50b3J5SXRlbS51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IGludmVudG9yeS5pZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiBuZXdRdWFudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBuZXcgcXVhbnRpdHkgaXMgMCwgcmVzZXQgc2hvcFNwZWNpZmljQ29zdCwgZWxzZSBrZWVwIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcFNwZWNpZmljQ29zdDogbmV3UXVhbnRpdHkgPT09IDAgPyAwIDogaW52ZW50b3J5LnNob3BTcGVjaWZpY0Nvc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVudG9yeVVwZGF0ZXMucHVzaCh7IHByb2R1Y3RJZDogb2xkSXRlbS5wcm9kdWN0SWQsIHNob3BJZDogTnVtYmVyKHNob3BJZCksIG5ld1F1YW50aXR5LCBvbGRRdWFudGl0eTogb2xkU2hvcFF1YW50aXR5IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9sZEl0ZW1EaXN0cmlidXRpb24gaXMgbWlzc2luZy4gQXR0ZW1wdCB0byBpbmZlciBzaG9wIGZvciBzdG9jayByZXZlcnNhbC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgT2xkIGl0ZW0gJHtvbGRJdGVtLnByb2R1Y3RJZH0gaW4gcHVyY2hhc2UgJHtwdXJjaGFzZUlkfSBoYXMgbm8gZGlzdHJpYnV0aW9uLiBBdHRlbXB0aW5nIHRvIGluZmVyIHNob3AgZm9yIHN0b2NrIHJldmVyc2FsLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdJbnZlbnRvcmllc0Zvck9sZEl0ZW0gPSBhd2FpdCB0eC5pbnZlbnRvcnlJdGVtLmZpbmRNYW55KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBwcm9kdWN0SWQ6IG9sZEl0ZW0ucHJvZHVjdElkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSW52ZW50b3JpZXNGb3JPbGRJdGVtLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3BJZFRvUmV2ZXJzZUZyb20gPSBleGlzdGluZ0ludmVudG9yaWVzRm9yT2xkSXRlbVswXS5zaG9wSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5ID0gZXhpc3RpbmdJbnZlbnRvcmllc0Zvck9sZEl0ZW1bMF07IC8vIEFscmVhZHkgZmV0Y2hlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFNob3BRdWFudGl0eSA9IGludmVudG9yeS5xdWFudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdRdWFudGl0eSA9IE1hdGgubWF4KDAsIGludmVudG9yeS5xdWFudGl0eSAtIG9sZEl0ZW0ucXVhbnRpdHkpOyAvLyBVc2UgdG90YWwgb2xkSXRlbS5xdWFudGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LmludmVudG9yeUl0ZW0udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IGludmVudG9yeS5pZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogbmV3UXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBuZXcgcXVhbnRpdHkgaXMgMCwgcmVzZXQgc2hvcFNwZWNpZmljQ29zdCwgZWxzZSBrZWVwIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wU3BlY2lmaWNDb3N0OiBuZXdRdWFudGl0eSA9PT0gMCA/IDAgOiBpbnZlbnRvcnkuc2hvcFNwZWNpZmljQ29zdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5VXBkYXRlcy5wdXNoKHsgcHJvZHVjdElkOiBvbGRJdGVtLnByb2R1Y3RJZCwgc2hvcElkOiBOdW1iZXIoc2hvcElkVG9SZXZlcnNlRnJvbSksIG5ld1F1YW50aXR5LCBvbGRRdWFudGl0eTogb2xkU2hvcFF1YW50aXR5IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXZlcnNlZCAke29sZEl0ZW0ucXVhbnRpdHl9IGZyb20gcHJvZHVjdCAke29sZEl0ZW0ucHJvZHVjdElkfSBpbiBpbmZlcnJlZCBzaG9wICR7c2hvcElkVG9SZXZlcnNlRnJvbX0uYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4aXN0aW5nSW52ZW50b3JpZXNGb3JPbGRJdGVtLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE9sZCBpdGVtICR7b2xkSXRlbS5wcm9kdWN0SWR9IG5vdCBmb3VuZCBpbiBhbnkgaW52ZW50b3J5LiBDYW5ub3QgcmV2ZXJzZSBzdG9jayBmb3IgdGhpcyBpdGVtIGxpbmUgZnJvbSBhIHNwZWNpZmljIHNob3AuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBNdWx0aXBsZSBzaG9wc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE9sZCBpdGVtICR7b2xkSXRlbS5wcm9kdWN0SWR9IGV4aXN0cyBpbiBtdWx0aXBsZSBzaG9wcyBhbmQgbm8gc3BlY2lmaWMgZGlzdHJpYnV0aW9uIGZvciByZXZlcnNhbC4gQW1iaWd1b3VzLiBTdG9jayBub3QgcmV2ZXJzZWQgZnJvbSBhIHNwZWNpZmljIHNob3AgZm9yIHRoaXMgaXRlbSBsaW5lLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRUb3RhbFByb2R1Y3RRdWFudGl0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbEludmVudG9yeUZvclByb2R1Y3RBZnRlclJldmVyc2FsID0gYXdhaXQgdHguaW52ZW50b3J5SXRlbS5maW5kTWFueSh7IHdoZXJlOiB7IHByb2R1Y3RJZDogb2xkSXRlbS5wcm9kdWN0SWQgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRvdGFsUHJvZHVjdFF1YW50aXR5ID0gYWxsSW52ZW50b3J5Rm9yUHJvZHVjdEFmdGVyUmV2ZXJzYWwucmVkdWNlKChzdW0sIGludikgPT4gc3VtICsgaW52LnF1YW50aXR5LCAwKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZWNhbGN1bGF0ZSBXQUMgYmFzZWQgb24gcmVtYWluaW5nIHB1cmNoYXNlIGhpc3RvcnkgYWZ0ZXIgcmVtb3ZpbmcgdGhpcyBpdGVtXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ1B1cmNoYXNlSXRlbXMgPSBhd2FpdCB0eC5wdXJjaGFzZUludm9pY2VJdGVtLmZpbmRNYW55KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBvbGRJdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZUludm9pY2VJZDogeyBub3Q6IHB1cmNoYXNlSWQgfSAvLyBFeGNsdWRlIGN1cnJlbnQgaW52b2ljZSBiZWluZyB1cGRhdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbFJlbWFpbmluZ1F1YW50aXR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsUmVtYWluaW5nVmFsdWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZ1B1cmNoYXNlSXRlbXMuZm9yRWFjaChwdXJjaGFzZUl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxSZW1haW5pbmdRdWFudGl0eSArPSBwdXJjaGFzZUl0ZW0ucXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFJlbWFpbmluZ1ZhbHVlICs9IHB1cmNoYXNlSXRlbS5xdWFudGl0eSAqIHB1cmNoYXNlSXRlbS5wcmljZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1dBQyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbFJlbWFpbmluZ1F1YW50aXR5ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3V0FDID0gdG90YWxSZW1haW5pbmdWYWx1ZSAvIHRvdGFsUmVtYWluaW5nUXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0eC5wcm9kdWN0LnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBpZDogb2xkSXRlbS5wcm9kdWN0SWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgd2VpZ2h0ZWRBdmVyYWdlQ29zdDogbmV3V0FDID49IDAgPyBuZXdXQUMgOiAwIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCB0eC5wdXJjaGFzZUludm9pY2VJdGVtLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyBwdXJjaGFzZUludm9pY2VJZDogcHVyY2hhc2VJZCB9IH0pO1xuXG4gICAgICAgICAgICAvLyBSZWNhbGN1bGF0ZSB0b3RhbEFtb3VudCBmb3IgdGhlIGludm9pY2UgYmFzZWQgb24gbmV3L3VwZGF0ZWQgaXRlbXNcbiAgICAgICAgICAgIGxldCBuZXdUb3RhbEludm9pY2VBbW91bnQgPSAwO1xuICAgICAgICAgICAgaWYgKG5ld0l0ZW1zRGF0YSAmJiBBcnJheS5pc0FycmF5KG5ld0l0ZW1zRGF0YSkpIHtcbiAgICAgICAgICAgICAgICBuZXdJdGVtc0RhdGEuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VG90YWxJbnZvaWNlQW1vdW50ICs9IE51bWJlcihpdGVtLnF1YW50aXR5KSAqIE51bWJlcihpdGVtLnByaWNlIHx8IDApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYW5lZEludm9pY2VEYXRhLnRvdGFsID0gbmV3VG90YWxJbnZvaWNlQW1vdW50OyAvLyBFbnN1cmUgdGhpcyBpcyBhc3NpZ25lZCB0byB0aGUgY29ycmVjdCBmaWVsZCBmb3IgREIgdXBkYXRlXG5cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRJbnZvaWNlID0gYXdhaXQgdHgucHVyY2hhc2VJbnZvaWNlLnVwZGF0ZSh7IHdoZXJlOiB7IGlkOiBwdXJjaGFzZUlkIH0sIGRhdGE6IGNsZWFuZWRJbnZvaWNlRGF0YSB9KTtcblxuICAgICAgICAgICAgaWYgKG5ld0l0ZW1zRGF0YSAmJiBBcnJheS5pc0FycmF5KG5ld0l0ZW1zRGF0YSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0l0ZW1zRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtID0gbmV3SXRlbXNEYXRhW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld0l0ZW0ucHJvZHVjdElkIHx8ICFuZXdJdGVtLnF1YW50aXR5IHx8IG5ld0l0ZW0ucXVhbnRpdHkgPD0gMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LnB1cmNoYXNlSW52b2ljZUl0ZW0uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXJjaGFzZUludm9pY2VJZDogcHVyY2hhc2VJZCwgcHJvZHVjdElkOiBOdW1iZXIobmV3SXRlbS5wcm9kdWN0SWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiBOdW1iZXIobmV3SXRlbS5xdWFudGl0eSksIHByaWNlOiBOdW1iZXIobmV3SXRlbS5wcmljZSB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogTnVtYmVyKG5ld0l0ZW0ucXVhbnRpdHkpICogTnVtYmVyKG5ld0l0ZW0ucHJpY2UgfHwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RUb1VwZGF0ZSA9IGF3YWl0IHR4LnByb2R1Y3QuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiBOdW1iZXIobmV3SXRlbS5wcm9kdWN0SWQpIH0gfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvZHVjdFRvVXBkYXRlKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJdGVtRGlzdHJpYnV0aW9uID0gbmV3RGlzdHJpYnV0aW9uc0RhdGEgJiYgQXJyYXkuaXNBcnJheShuZXdEaXN0cmlidXRpb25zRGF0YSkgJiYgbmV3RGlzdHJpYnV0aW9uc0RhdGFbaV1cbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV3RGlzdHJpYnV0aW9uc0RhdGFbaV1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogKG5ld0Rpc3RyaWJ1dGlvbnNEYXRhICYmIHR5cGVvZiBuZXdEaXN0cmlidXRpb25zRGF0YSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkobmV3RGlzdHJpYnV0aW9uc0RhdGEpID8gbmV3RGlzdHJpYnV0aW9uc0RhdGEgOiBudWxsKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtUXVhbnRpdHlUb3RhbCA9IE51bWJlcihuZXdJdGVtLnF1YW50aXR5KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SXRlbURpc3RyaWJ1dGlvbiAmJiBPYmplY3Qua2V5cyhuZXdJdGVtRGlzdHJpYnV0aW9uKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtzaG9wSWRTdHIsIHF1YW50aXR5SW5TaG9wXSBvZiBPYmplY3QuZW50cmllcyhuZXdJdGVtRGlzdHJpYnV0aW9uIGFzIGFueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaG9wSWQgPSBzaG9wSWRTdHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcXR5VG9BZGQgPSBOdW1iZXIocXVhbnRpdHlJblNob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdHlUb0FkZCA8PSAwIHx8IGlzTmFOKHF0eVRvQWRkKSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnZlbnRvcnkgPSBhd2FpdCB0eC5pbnZlbnRvcnlJdGVtLmZpbmRGaXJzdCh7IHdoZXJlOiB7IHByb2R1Y3RJZDogTnVtYmVyKG5ld0l0ZW0ucHJvZHVjdElkKSwgc2hvcElkOiBzaG9wSWQgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmluYWxRdWFudGl0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkSW52UXR5ID0gaW52ZW50b3J5Py5xdWFudGl0eSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdTaG9wU3BlY2lmaWNDb3N0VmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1QcmljZSA9IE51bWJlcihuZXdJdGVtLnByaWNlIHx8IDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludmVudG9yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFF1YW50aXR5ID0gaW52ZW50b3J5LnF1YW50aXR5ICsgcXR5VG9BZGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFNob3BUb3RhbFZhbHVlID0gKGludmVudG9yeS5xdWFudGl0eSB8fCAwKSAqIChpbnZlbnRvcnkuc2hvcFNwZWNpZmljQ29zdCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVPZlRoaXNCYXRjaCA9IHF0eVRvQWRkICogaXRlbVByaWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmluYWxRdWFudGl0eSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Nob3BTcGVjaWZpY0Nvc3RWYWx1ZSA9IChvbGRTaG9wVG90YWxWYWx1ZSArIHZhbHVlT2ZUaGlzQmF0Y2gpIC8gZmluYWxRdWFudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Nob3BTcGVjaWZpY0Nvc3RWYWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdHguaW52ZW50b3J5SXRlbS51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IGludmVudG9yeS5pZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBxdWFudGl0eTogZmluYWxRdWFudGl0eSwgc2hvcFNwZWNpZmljQ29zdDogbmV3U2hvcFNwZWNpZmljQ29zdFZhbHVlID49IDAgPyBuZXdTaG9wU3BlY2lmaWNDb3N0VmFsdWUgOiAwIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxRdWFudGl0eSA9IHF0eVRvQWRkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTaG9wU3BlY2lmaWNDb3N0VmFsdWUgPSBpdGVtUHJpY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LmludmVudG9yeUl0ZW0uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IE51bWJlcihuZXdJdGVtLnByb2R1Y3RJZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcElkOiBzaG9wSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IGZpbmFsUXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcFNwZWNpZmljQ29zdDogbmV3U2hvcFNwZWNpZmljQ29zdFZhbHVlID49IDAgPyBuZXdTaG9wU3BlY2lmaWNDb3N0VmFsdWUgOiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlVcGRhdGVzLnB1c2goeyBwcm9kdWN0SWQ6IE51bWJlcihuZXdJdGVtLnByb2R1Y3RJZCksIHNob3BJZDogTnVtYmVyKHNob3BJZCksIG5ld1F1YW50aXR5OiBmaW5hbFF1YW50aXR5LCBvbGRRdWFudGl0eTogb2xkSW52UXR5IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3SXRlbURpc3RyaWJ1dGlvbiBpcyBtaXNzaW5nIG9yIGVtcHR5LiBUcnkgdG8gaW5mZXIgc2hvcCBvciBsb2cgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFB1cmNoYXNlIGl0ZW0gd2l0aCBwcm9kdWN0SWQgJHtuZXdJdGVtLnByb2R1Y3RJZH0gaW4gaW52b2ljZSAke3B1cmNoYXNlSWR9IGRvZXMgbm90IGhhdmUgZXhwbGljaXQgc2hvcCBkaXN0cmlidXRpb24gZGF0YS4gQXR0ZW1wdGluZyB0byBpbmZlciB0YXJnZXQgc2hvcC5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSW52ZW50b3J5SXRlbXMgPSBhd2FpdCB0eC5pbnZlbnRvcnlJdGVtLmZpbmRNYW55KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBwcm9kdWN0SWQ6IE51bWJlcihuZXdJdGVtLnByb2R1Y3RJZCkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRTaG9wSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdJbnZlbnRvcnlJdGVtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRTaG9wSWQgPSBleGlzdGluZ0ludmVudG9yeUl0ZW1zWzBdLnNob3BJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvZHVjdCAke25ld0l0ZW0ucHJvZHVjdElkfSBleGlzdHMgaW4gb25lIHNob3AgKCR7dGFyZ2V0U2hvcElkfSkuIEF0dHJpYnV0aW5nIG5ldyBzdG9jayB0aGVyZS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXhpc3RpbmdJbnZlbnRvcnlJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBQcm9kdWN0ICR7bmV3SXRlbS5wcm9kdWN0SWR9IGlzIG5ldyB0byBpbnZlbnRvcnkgYW5kIG5vIHNob3AgZGlzdHJpYnV0aW9uIHByb3ZpZGVkLiBDYW5ub3QgYXV0b21hdGljYWxseSBhc3NpZ24gdG8gYSBzaG9wLiBJbnZlbnRvcnkgbm90IHVwZGF0ZWQgZm9yIHRoaXMgaXRlbS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIGV4aXN0aW5nSW52ZW50b3J5SXRlbXMubGVuZ3RoID4gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFByb2R1Y3QgJHtuZXdJdGVtLnByb2R1Y3RJZH0gZXhpc3RzIGluIG11bHRpcGxlIHNob3BzIGFuZCBubyBzcGVjaWZpYyBkaXN0cmlidXRpb24gcHJvdmlkZWQuIEFtYmlndW91cy4gSW52ZW50b3J5IG5vdCB1cGRhdGVkIGZvciB0aGlzIGl0ZW0uYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRTaG9wSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxdHlUb0FkZCA9IGl0ZW1RdWFudGl0eVRvdGFsOyAvLyBUaGUgdG90YWwgcXVhbnRpdHkgZm9yIHRoaXMgbmV3SXRlbS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocXR5VG9BZGQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludmVudG9yeSA9IGF3YWl0IHR4LmludmVudG9yeUl0ZW0uZmluZEZpcnN0KHsgd2hlcmU6IHsgcHJvZHVjdElkOiBOdW1iZXIobmV3SXRlbS5wcm9kdWN0SWQpLCBzaG9wSWQ6IHRhcmdldFNob3BJZCB9IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmluYWxRdWFudGl0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZEludlF0eSA9IGludmVudG9yeT8ucXVhbnRpdHkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Nob3BTcGVjaWZpY0Nvc3RWYWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1QcmljZSA9IE51bWJlcihuZXdJdGVtLnByaWNlIHx8IDApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZlbnRvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsUXVhbnRpdHkgPSBpbnZlbnRvcnkucXVhbnRpdHkgKyBxdHlUb0FkZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFNob3BUb3RhbFZhbHVlID0gKGludmVudG9yeS5xdWFudGl0eSB8fCAwKSAqIChpbnZlbnRvcnkuc2hvcFNwZWNpZmljQ29zdCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlT2ZUaGlzQmF0Y2ggPSBxdHlUb0FkZCAqIGl0ZW1QcmljZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbFF1YW50aXR5ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Nob3BTcGVjaWZpY0Nvc3RWYWx1ZSA9IChvbGRTaG9wVG90YWxWYWx1ZSArIHZhbHVlT2ZUaGlzQmF0Y2gpIC8gZmluYWxRdWFudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2hvcFNwZWNpZmljQ29zdFZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LmludmVudG9yeUl0ZW0udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBpZDogaW52ZW50b3J5LmlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBxdWFudGl0eTogZmluYWxRdWFudGl0eSwgc2hvcFNwZWNpZmljQ29zdDogbmV3U2hvcFNwZWNpZmljQ29zdFZhbHVlID49IDAgPyBuZXdTaG9wU3BlY2lmaWNDb3N0VmFsdWUgOiAwIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxRdWFudGl0eSA9IHF0eVRvQWRkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2hvcFNwZWNpZmljQ29zdFZhbHVlID0gaXRlbVByaWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBJbnZlbnRvcnlJdGVtIGZvciBwcm9kdWN0ICR7bmV3SXRlbS5wcm9kdWN0SWR9IGluIHRhcmdldFNob3BJZCAke3RhcmdldFNob3BJZH0gbm90IGZvdW5kIGR1cmluZyB1cGRhdGUsIGF0dGVtcHRpbmcgY3JlYXRlLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdHguaW52ZW50b3J5SXRlbS5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBOdW1iZXIobmV3SXRlbS5wcm9kdWN0SWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wSWQ6IHRhcmdldFNob3BJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IGZpbmFsUXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3BTcGVjaWZpY0Nvc3Q6IG5ld1Nob3BTcGVjaWZpY0Nvc3RWYWx1ZSA+PSAwID8gbmV3U2hvcFNwZWNpZmljQ29zdFZhbHVlIDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVudG9yeVVwZGF0ZXMucHVzaCh7IHByb2R1Y3RJZDogTnVtYmVyKG5ld0l0ZW0ucHJvZHVjdElkKSwgc2hvcElkOiBOdW1iZXIodGFyZ2V0U2hvcElkKSwgbmV3UXVhbnRpdHk6IGZpbmFsUXVhbnRpdHksIG9sZFF1YW50aXR5OiBvbGRJbnZRdHkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBRdWFudGl0eSBmb3IgcHJvZHVjdCAke25ld0l0ZW0ucHJvZHVjdElkfSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLiBObyBpbnZlbnRvcnkgdXBkYXRlIHBlcmZvcm1lZCBmb3IgdGhpcyBpdGVtLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlY2FsY3VsYXRlIFdBQyBiYXNlZCBvbiBhbGwgcHVyY2hhc2UgaGlzdG9yeSBmb3IgdGhpcyBwcm9kdWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyBhY2N1cmFjeSByZWdhcmRsZXNzIG9mIHVwZGF0ZSBvcmRlclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxQdXJjaGFzZUl0ZW1zID0gYXdhaXQgdHgucHVyY2hhc2VJbnZvaWNlSXRlbS5maW5kTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBwcm9kdWN0SWQ6IE51bWJlcihuZXdJdGVtLnByb2R1Y3RJZCkgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxQdXJjaGFzZVF1YW50aXR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsUHVyY2hhc2VWYWx1ZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgYWxsUHVyY2hhc2VJdGVtcy5mb3JFYWNoKHB1cmNoYXNlSXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFB1cmNoYXNlUXVhbnRpdHkgKz0gcHVyY2hhc2VJdGVtLnF1YW50aXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxQdXJjaGFzZVZhbHVlICs9IHB1cmNoYXNlSXRlbS5xdWFudGl0eSAqIHB1cmNoYXNlSXRlbS5wcmljZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1dlaWdodGVkQXZlcmFnZUNvc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxQdXJjaGFzZVF1YW50aXR5ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3V2VpZ2h0ZWRBdmVyYWdlQ29zdCA9IHRvdGFsUHVyY2hhc2VWYWx1ZSAvIHRvdGFsUHVyY2hhc2VRdWFudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBXQUMgaXMgdmFsaWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1dlaWdodGVkQXZlcmFnZUNvc3QgPD0gMCB8fCBpc05hTihuZXdXZWlnaHRlZEF2ZXJhZ2VDb3N0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3V2VpZ2h0ZWRBdmVyYWdlQ29zdCA9IE51bWJlcihuZXdJdGVtLnByaWNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LnByb2R1Y3QudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBOdW1iZXIobmV3SXRlbS5wcm9kdWN0SWQpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHdlaWdodGVkQXZlcmFnZUNvc3Q6IG5ld1dlaWdodGVkQXZlcmFnZUNvc3QgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmdWxsVXBkYXRlZEludm9pY2UgPSBhd2FpdCB0eC5wdXJjaGFzZUludm9pY2UuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IHB1cmNoYXNlSWQgfSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7IHN1cHBsaWVyOiB0cnVlLCBpdGVtczogeyBpbmNsdWRlOiB7IHByb2R1Y3Q6IHRydWUgfSB9IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgZnVsbFVwZGF0ZWRJbnZvaWNlLCBpbnZlbnRvcnlVcGRhdGVzIH07XG4gICAgICAgIH0sIHsgdGltZW91dDogMzAwMDAgfSk7XG5cbiAgICAgICAgLy8gUmVhbC10aW1lIHVwZGF0ZXMgbm93IGhhbmRsZWQgYnkgcG9sbGluZyBzeXN0ZW1cbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuZnVsbFVwZGF0ZWRJbnZvaWNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUHVyY2hhc2UgaW52b2ljZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWZ0ZXIgc3VjY2Vzc2Z1bCB0cmFuc2FjdGlvbiwgaW52YWxpZGF0ZSByZWxldmFudCBjYWNoZXNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlU2VydmljZS5pbnZhbGlkYXRlSW52ZW50b3J5KCk7IC8vIEhhbmRsZXMgJ2ludmVudG9yeTpzdW1tYXJ5OionIGFuZCAncHJvZHVjdHM6KidcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlU2VydmljZS5kZWwoJ2Rhc2hib2FyZDppbnZlbnRvcnknKTtcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlU2VydmljZS5kZWwoJ2Rhc2hib2FyZDppbnZlbnRvcnktdmFsdWUnKTtcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlU2VydmljZS5kZWwoJ2Rhc2hib2FyZDpzaG9wcycpO1xuICAgICAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLmRlbCgnZGFzaGJvYXJkOmFsbCcpO1xuICAgICAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLmRlbCgnZGFzaGJvYXJkOnN1bW1hcnknKTtcbiAgICAgICAgICAgIC8vIEludmFsaWRhdGUgcHVyY2hhc2VzLXNwZWNpZmljIGNhY2hlc1xuICAgICAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLmludmFsaWRhdGVQYXR0ZXJuKCdwdXJjaGFzZXMtb3B0aW1pemVkKicpO1xuICAgICAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLmludmFsaWRhdGVQYXR0ZXJuKCdwdXJjaGFzZS1zdGF0cyonKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWxldmFudCBjYWNoZXMgaW52YWxpZGF0ZWQgYWZ0ZXIgcHVyY2hhc2UgdXBkYXRlLicpO1xuICAgICAgICB9IGNhdGNoIChjYWNoZUVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbnZhbGlkYXRpbmcgY2FjaGVzIGFmdGVyIHB1cmNoYXNlIHVwZGF0ZTonLCBjYWNoZUVycm9yKTtcbiAgICAgICAgICAgIC8vIERvIG5vdCBsZXQgY2FjaGUgaW52YWxpZGF0aW9uIGVycm9yIGZhaWwgdGhlIG1haW4gb3BlcmF0aW9uXG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXZhbGlkYXRlIE5leHQuanMgY2FjaGVkIHBhZ2VzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXZhbGlkYXRlVGFnKCdwdXJjaGFzZS1pbnZvaWNlcycpO1xuICAgICAgICAgICAgcmV2YWxpZGF0ZVRhZyhgcHVyY2hhc2UtJHtwdXJjaGFzZUlkfWApO1xuICAgICAgICAgICAgcmV2YWxpZGF0ZVBhdGgoYC9wdXJjaGFzZXMvJHtwdXJjaGFzZUlkfWApO1xuICAgICAgICAgICAgcmV2YWxpZGF0ZVBhdGgoYC9wdXJjaGFzZXMvJHtwdXJjaGFzZUlkfS9lZGl0YCk7XG4gICAgICAgICAgICByZXZhbGlkYXRlUGF0aCgnL3B1cmNoYXNlcycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05leHQuanMgcGFnZXMgcmV2YWxpZGF0ZWQgYWZ0ZXIgcHVyY2hhc2UgdXBkYXRlLicpO1xuICAgICAgICB9IGNhdGNoIChyZXZhbGlkYXRlRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJldmFsaWRhdGluZyBOZXh0LmpzIHBhZ2VzIGFmdGVyIHB1cmNoYXNlIHVwZGF0ZTonLCByZXZhbGlkYXRlRXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdQdXJjaGFzZSBpbnZvaWNlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdC5mdWxsVXBkYXRlZEludm9pY2VcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgcHVyY2hhc2UgaW52b2ljZSAke2lkfTpgLCBlcnJvcik7XG4gICAgICAgIGNvbnN0IGRldGFpbHMgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHsgZXJyb3I6IHsgbWVzc2FnZTogJ0ZhaWxlZCB0byB1cGRhdGUgcHVyY2hhc2UgaW52b2ljZScsIGRldGFpbHM6IGRldGFpbHMgfSB9LFxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG59XG5cbi8vIERFTEVURSAvYXBpL3B1cmNoYXNlcy9baWRdIC0gRGVsZXRlIGEgcHVyY2hhc2UgaW52b2ljZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShcbiAgICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcbiAgICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSB7XG4gICAgY29uc3QgcHVyY2hhc2VJZFN0ciA9IHBhcmFtcy5pZDtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwdXJjaGFzZUlkID0gcGFyc2VJbnQocHVyY2hhc2VJZFN0cik7XG4gICAgICAgIGlmIChpc05hTihwdXJjaGFzZUlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICAgICAgICAgIHsgZXJyb3I6IHsgbWVzc2FnZTogJ0ludmFsaWQgcHVyY2hhc2UgSUQgZm9ybWF0JyB9IH0sXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHB1cmNoYXNlVG9EZWxldGUgPSBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IHB1cmNoYXNlSWQgfSxcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogeyBpbmNsdWRlOiB7IHByb2R1Y3Q6IHRydWUgfSB9LFxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSAnZGlzdHJpYnV0aW9ucycgaXMgaW5jbHVkZWQgaWYgaXQncyBhIHJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIC8vIG9yIGRpcmVjdGx5IGFjY2Vzc2libGUgaWYgaXQncyBhIEpTT04gZmllbGQgb24gUHVyY2hhc2VJbnZvaWNlXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXB1cmNoYXNlVG9EZWxldGUpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgICAgICB7IGVycm9yOiB7IG1lc3NhZ2U6ICdQdXJjaGFzZSBpbnZvaWNlIG5vdCBmb3VuZCB0byBkZWxldGUnIH0gfSxcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogNDA0IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLiR0cmFuc2FjdGlvbihhc3luYyAodHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludmVudG9yeVVwZGF0ZXM6IEFycmF5PHsgcHJvZHVjdElkOiBudW1iZXIsIHNob3BJZDogbnVtYmVyLCBuZXdRdWFudGl0eTogbnVtYmVyLCBvbGRRdWFudGl0eT86IG51bWJlciB9PiA9IFtdO1xuXG4gICAgICAgICAgICBpZiAocHVyY2hhc2VUb0RlbGV0ZS5pdGVtcyAmJiBwdXJjaGFzZVRvRGVsZXRlLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcHVyY2hhc2VUb0RlbGV0ZS5pdGVtcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0ZW0ucHJvZHVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBJdGVtICR7aXRlbS5pZH0gZm9yIHB1cmNoYXNlICR7cHVyY2hhc2VJZH0gaXMgbWlzc2luZyBwcm9kdWN0IGRhdGEuIFNraXBwaW5nIHN0b2NrIGFkanVzdG1lbnQuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3RJZCA9IGl0ZW0ucHJvZHVjdElkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWFudGl0eVRvUmVtb3ZlRm9ySXRlbVRvdGFsID0gaXRlbS5xdWFudGl0eTsgLy8gVG90YWwgcXVhbnRpdHkgZm9yIHRoaXMgaXRlbSBsaW5lXG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW1EaXN0cmlidXRpb25JbmZvOiB7IFtzaG9wSWQ6IHN0cmluZ106IG51bWJlciB9IHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RyaWJ1dGlvbnNPbkludm9pY2UgPSAocHVyY2hhc2VUb0RlbGV0ZSBhcyBhbnkpLmRpc3RyaWJ1dGlvbnM7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBnZXQgc3BlY2lmaWMgZGlzdHJpYnV0aW9uIGZvciB0aGlzIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdHJpYnV0aW9uc09uSW52b2ljZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShkaXN0cmlidXRpb25zT25JbnZvaWNlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcHVyY2hhc2VUb0RlbGV0ZS5pdGVtcy5pbmRleE9mKGl0ZW0pIDwgZGlzdHJpYnV0aW9uc09uSW52b2ljZS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0RGF0YSA9IGRpc3RyaWJ1dGlvbnNPbkludm9pY2VbcHVyY2hhc2VUb0RlbGV0ZS5pdGVtcy5pbmRleE9mKGl0ZW0pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXN0RGF0YSAmJiB0eXBlb2YgZGlzdERhdGEgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKGRpc3REYXRhKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbURpc3RyaWJ1dGlvbkluZm8gPSBkaXN0RGF0YSBhcyB7IFtzaG9wSWQ6IHN0cmluZ106IG51bWJlciB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1EaXN0cmlidXRpb25JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDYXNlIDE6IEV4cGxpY2l0IGRpc3RyaWJ1dGlvbiBkYXRhIGZvdW5kIGZvciB0aGUgaXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFJldmVyc2luZyBpdGVtLXNwZWNpZmljIGRpc3RyaWJ1dGlvbiBmb3IgcHJvZHVjdCAke3Byb2R1Y3RJZH0sIHB1cmNoYXNlICR7cHVyY2hhc2VJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW3Nob3BJZFN0ciwgZGlzdHJpYnV0ZWRRdWFudGl0eVN0cl0gb2YgT2JqZWN0LmVudHJpZXMoaXRlbURpc3RyaWJ1dGlvbkluZm8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvcElkID0gc2hvcElkU3RyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF0eUluU2hvcFRvUmVtb3ZlID0gTnVtYmVyKGRpc3RyaWJ1dGVkUXVhbnRpdHlTdHIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKHF0eUluU2hvcFRvUmVtb3ZlKSB8fCBxdHlJblNob3BUb1JlbW92ZSA8PSAwKSBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludmVudG9yeUl0ZW0gPSBhd2FpdCB0eC5pbnZlbnRvcnlJdGVtLmZpbmRGaXJzdCh7IHdoZXJlOiB7IHByb2R1Y3RJZCwgc2hvcElkOiBzaG9wSWQgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW52ZW50b3J5SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRTaG9wUXVhbnRpdHkgPSBpbnZlbnRvcnlJdGVtLnF1YW50aXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTaG9wUXVhbnRpdHkgPSBNYXRoLm1heCgwLCBpbnZlbnRvcnlJdGVtLnF1YW50aXR5IC0gcXR5SW5TaG9wVG9SZW1vdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IG5ld1Nob3BRdWFudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3BTcGVjaWZpY0Nvc3Q6IG5ld1Nob3BRdWFudGl0eSA9PT0gMCA/IDAgOiBpbnZlbnRvcnlJdGVtLnNob3BTcGVjaWZpY0Nvc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdHguaW52ZW50b3J5SXRlbS51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IGludmVudG9yeUl0ZW0uaWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHVwZGF0ZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlVcGRhdGVzLnB1c2goeyBwcm9kdWN0SWQsIHNob3BJZDogTnVtYmVyKHNob3BJZCksIG5ld1F1YW50aXR5OiBuZXdTaG9wUXVhbnRpdHksIG9sZFF1YW50aXR5OiBvbGRTaG9wUXVhbnRpdHkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIC0gUmVkdWNlZCBpbnZlbnRvcnkgZm9yIHByb2R1Y3QgJHtwcm9kdWN0SWR9IGluIHNob3AgJHtzaG9wSWR9IGJ5ICR7cXR5SW5TaG9wVG9SZW1vdmV9LiBPbGQ6ICR7b2xkU2hvcFF1YW50aXR5fSwgTmV3OiAke25ld1Nob3BRdWFudGl0eX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCAgLSBJbnZlbnRvcnkgaXRlbSBub3QgZm91bmQgZm9yIHByb2R1Y3QgJHtwcm9kdWN0SWR9IGluIHNob3AgJHtzaG9wSWR9IGR1cmluZyBwdXJjaGFzZSBkZWxldGlvbiB3aXRoIGV4cGxpY2l0IGRpc3RyaWJ1dGlvbi4gU3RvY2sgbWF5IGJlIGluYWNjdXJhdGUuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FzZSAyOiBObyBleHBsaWNpdCBkaXN0cmlidXRpb24gZm9yIHRoaXMgaXRlbS4gQXR0ZW1wdCB0byBpbmZlci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTm8gc3BlY2lmaWMgZGlzdHJpYnV0aW9uIGZvdW5kIGZvciBpdGVtICR7cHJvZHVjdElkfSBpbiBkZWxldGVkIHB1cmNoYXNlICR7cHVyY2hhc2VJZH0uIEF0dGVtcHRpbmcgdG8gaW5mZXIgc2hvcChzKSBmb3Igc3RvY2sgcmV2ZXJzYWwgb2YgdG90YWwgcXVhbnRpdHkgJHtxdWFudGl0eVRvUmVtb3ZlRm9ySXRlbVRvdGFsfS5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSW52ZW50b3JpZXNGb3JJdGVtID0gYXdhaXQgdHguaW52ZW50b3J5SXRlbS5maW5kTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgcHJvZHVjdElkOiBwcm9kdWN0SWQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0ludmVudG9yaWVzRm9ySXRlbS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaW5nbGVTaG9wSW52ZW50b3J5ID0gZXhpc3RpbmdJbnZlbnRvcmllc0Zvckl0ZW1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hvcElkVG9EZWR1Y3RGcm9tID0gc2luZ2xlU2hvcEludmVudG9yeS5zaG9wSWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgUHJvZHVjdCAke3Byb2R1Y3RJZH0gZm91bmQgaW4gc2luZ2xlIHNob3AgJHtzaG9wSWRUb0RlZHVjdEZyb219LiBEZWR1Y3RpbmcgdG90YWwgaXRlbSBxdWFudGl0eSAke3F1YW50aXR5VG9SZW1vdmVGb3JJdGVtVG90YWx9LmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFNob3BRdWFudGl0eSA9IHNpbmdsZVNob3BJbnZlbnRvcnkucXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U2hvcFF1YW50aXR5ID0gTWF0aC5tYXgoMCwgc2luZ2xlU2hvcEludmVudG9yeS5xdWFudGl0eSAtIHF1YW50aXR5VG9SZW1vdmVGb3JJdGVtVG90YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGFJbmZlcnJlZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IG5ld1Nob3BRdWFudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcFNwZWNpZmljQ29zdDogbmV3U2hvcFF1YW50aXR5ID09PSAwID8gMCA6IHNpbmdsZVNob3BJbnZlbnRvcnkuc2hvcFNwZWNpZmljQ29zdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdHguaW52ZW50b3J5SXRlbS51cGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBpZDogc2luZ2xlU2hvcEludmVudG9yeS5pZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB1cGRhdGVEYXRhSW5mZXJyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5VXBkYXRlcy5wdXNoKHsgcHJvZHVjdElkLCBzaG9wSWQ6IE51bWJlcihzaG9wSWRUb0RlZHVjdEZyb20pLCBuZXdRdWFudGl0eTogbmV3U2hvcFF1YW50aXR5LCBvbGRRdWFudGl0eTogb2xkU2hvcFF1YW50aXR5IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAgIC0gUmVkdWNlZCBpbnZlbnRvcnkgZm9yIHByb2R1Y3QgJHtwcm9kdWN0SWR9IGluIGluZmVycmVkIHNob3AgJHtzaG9wSWRUb0RlZHVjdEZyb219IGJ5ICR7cXVhbnRpdHlUb1JlbW92ZUZvckl0ZW1Ub3RhbH0uIE9sZDogJHtvbGRTaG9wUXVhbnRpdHl9LCBOZXc6ICR7bmV3U2hvcFF1YW50aXR5fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChleGlzdGluZ0ludmVudG9yaWVzRm9ySXRlbS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBQcm9kdWN0ICR7cHJvZHVjdElkfSAoZnJvbSBkZWxldGVkIHB1cmNoYXNlICR7cHVyY2hhc2VJZH0pIG5vdCBmb3VuZCBpbiBhbnkgaW52ZW50b3J5LiBDYW5ub3QgcmV2ZXJzZSBzdG9jayBmb3IgdGhpcyBpdGVtLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gUHJvZHVjdCBleGlzdHMgaW4gbXVsdGlwbGUgc2hvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBQcm9kdWN0ICR7cHJvZHVjdElkfSAoZnJvbSBkZWxldGVkIHB1cmNoYXNlICR7cHVyY2hhc2VJZH0pIGV4aXN0cyBpbiBtdWx0aXBsZSBzaG9wcywgYnV0IG5vIHNwZWNpZmljIGRpc3RyaWJ1dGlvbiBkYXRhIHdhcyBmb3VuZCBvbiB0aGUgaW52b2ljZSBmb3IgcmV2ZXJzYWwuIEFtYmlndW91cy4gU3RvY2sgbm90IGF1dG9tYXRpY2FsbHkgcmV2ZXJzZWQgZm9yIHRoaXMgaXRlbS4gTWFudWFsIGFkanVzdG1lbnQgbWF5IGJlIG5lZWRlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLS0gQkVHSU4gV0FDIFJlY2FsY3VsYXRpb24gZm9yIHRoZSBkZWxldGVkIGl0ZW0gLS0tLVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmdQdXJjaGFzZUl0ZW1zID0gYXdhaXQgdHgucHVyY2hhc2VJbnZvaWNlSXRlbS5maW5kTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlSW52b2ljZUlkOiB7IG5vdDogcHVyY2hhc2VJZCB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbFJlbWFpbmluZ1F1YW50aXR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsUmVtYWluaW5nVmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdQdXJjaGFzZUl0ZW1zLmZvckVhY2gocEl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxSZW1haW5pbmdRdWFudGl0eSArPSBwSXRlbS5xdWFudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsUmVtYWluaW5nVmFsdWUgKz0gcEl0ZW0ucXVhbnRpdHkgKiBwSXRlbS5wcmljZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0NhbGN1bGF0ZWRXQUMgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxSZW1haW5pbmdRdWFudGl0eSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NhbGN1bGF0ZWRXQUMgPSB0b3RhbFJlbWFpbmluZ1ZhbHVlIC8gdG90YWxSZW1haW5pbmdRdWFudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0eC5wcm9kdWN0LnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBpZDogcHJvZHVjdElkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHdlaWdodGVkQXZlcmFnZUNvc3Q6IG5ld0NhbGN1bGF0ZWRXQUMgPj0gMCA/IG5ld0NhbGN1bGF0ZWRXQUMgOiAwIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLS0gRU5EIFdBQyBSZWNhbGN1bGF0aW9uIC0tLS1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF3YWl0IHR4LnB1cmNoYXNlSW52b2ljZUl0ZW0uZGVsZXRlTWFueSh7IHdoZXJlOiB7IHB1cmNoYXNlSW52b2ljZUlkOiBwdXJjaGFzZUlkIH0gfSk7XG4gICAgICAgICAgICBhd2FpdCB0eC5wdXJjaGFzZUludm9pY2UuZGVsZXRlKHsgd2hlcmU6IHsgaWQ6IHB1cmNoYXNlSWQgfSB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHsgZGVsZXRlZEludm9pY2VJZDogcHVyY2hhc2VJZCwgaW52ZW50b3J5VXBkYXRlcyB9O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZWFsLXRpbWUgdXBkYXRlcyBub3cgaGFuZGxlZCBieSBwb2xsaW5nIHN5c3RlbVxuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5kZWxldGVkSW52b2ljZUlkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUHVyY2hhc2UgaW52b2ljZSAke3Jlc3VsdC5kZWxldGVkSW52b2ljZUlkfSBkZWxldGVkIHN1Y2Nlc3NmdWxseWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWZ0ZXIgc3VjY2Vzc2Z1bCB0cmFuc2FjdGlvbiwgaW52YWxpZGF0ZSByZWxldmFudCBjYWNoZXNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlU2VydmljZS5pbnZhbGlkYXRlSW52ZW50b3J5KCk7IC8vIEhhbmRsZXMgJ2ludmVudG9yeTpzdW1tYXJ5OionIGFuZCAncHJvZHVjdHM6KidcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlU2VydmljZS5kZWwoJ2Rhc2hib2FyZDppbnZlbnRvcnknKTtcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlU2VydmljZS5kZWwoJ2Rhc2hib2FyZDppbnZlbnRvcnktdmFsdWUnKTtcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlU2VydmljZS5kZWwoJ2Rhc2hib2FyZDpzaG9wcycpO1xuICAgICAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLmRlbCgnZGFzaGJvYXJkOmFsbCcpO1xuICAgICAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLmRlbCgnZGFzaGJvYXJkOnN1bW1hcnknKTtcbiAgICAgICAgICAgIC8vIEludmFsaWRhdGUgcHVyY2hhc2VzLXNwZWNpZmljIGNhY2hlc1xuICAgICAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLmludmFsaWRhdGVQYXR0ZXJuKCdwdXJjaGFzZXMtb3B0aW1pemVkKicpO1xuICAgICAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLmludmFsaWRhdGVQYXR0ZXJuKCdwdXJjaGFzZS1zdGF0cyonKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWxldmFudCBjYWNoZXMgaW52YWxpZGF0ZWQgYWZ0ZXIgcHVyY2hhc2UgZGVsZXRpb24uJyk7XG4gICAgICAgIH0gY2F0Y2ggKGNhY2hlRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGludmFsaWRhdGluZyBjYWNoZXMgYWZ0ZXIgcHVyY2hhc2UgZGVsZXRpb246JywgY2FjaGVFcnJvcik7XG4gICAgICAgICAgICAvLyBEbyBub3QgbGV0IGNhY2hlIGludmFsaWRhdGlvbiBlcnJvciBmYWlsIHRoZSBtYWluIG9wZXJhdGlvblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV2YWxpZGF0ZSBOZXh0LmpzIGNhY2hlZCBwYWdlc1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV2YWxpZGF0ZVRhZygncHVyY2hhc2UtaW52b2ljZXMnKTtcbiAgICAgICAgICAgIHJldmFsaWRhdGVUYWcoYHB1cmNoYXNlLSR7cHVyY2hhc2VJZH1gKTtcbiAgICAgICAgICAgIHJldmFsaWRhdGVQYXRoKGAvcHVyY2hhc2VzLyR7cHVyY2hhc2VJZH1gKTtcbiAgICAgICAgICAgIHJldmFsaWRhdGVQYXRoKGAvcHVyY2hhc2VzLyR7cHVyY2hhc2VJZH0vZWRpdGApO1xuICAgICAgICAgICAgcmV2YWxpZGF0ZVBhdGgoJy9wdXJjaGFzZXMnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOZXh0LmpzIHBhZ2VzIHJldmFsaWRhdGVkIGFmdGVyIHB1cmNoYXNlIGRlbGV0aW9uLicpO1xuICAgICAgICB9IGNhdGNoIChyZXZhbGlkYXRlRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJldmFsaWRhdGluZyBOZXh0LmpzIHBhZ2VzIGFmdGVyIHB1cmNoYXNlIGRlbGV0aW9uOicsIHJldmFsaWRhdGVFcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnUHVyY2hhc2UgaW52b2ljZSBkZWxldGVkIHN1Y2Nlc3NmdWxseScgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBkZWxldGluZyBwdXJjaGFzZSBpbnZvaWNlICR7cHVyY2hhc2VJZFN0cn06YCwgZXJyb3IpO1xuICAgICAgICBjb25zdCBkZXRhaWxzID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCc7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICAgIHsgZXJyb3I6IHsgbWVzc2FnZTogJ0ZhaWxlZCB0byBkZWxldGUgcHVyY2hhc2UgaW52b2ljZScsIGRldGFpbHM6IGRldGFpbHMgfSB9LFxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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