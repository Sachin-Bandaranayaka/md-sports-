{"version":3,"names":["ReceiptPage","params","cov_43outsfcx","f","receipt","setReceipt","s","_react","useState","loading","setLoading","error","setError","router","_navigation","useRouter","id","parseInt","useEffect","isNaN","b","push","fetchReceipt","response","fetch","ok","status","Error","statusText","data","json","err","message","_jsxruntime","jsx","className","jsxs","onClick","window","location","reload","_ReceiptClientWrapper","default"],"sources":["/Users/sachin/Documents/md-sports-/src/app/receipts/[id]/print/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport ReceiptClientWrapper from '../../components/ReceiptClientWrapper';\n\ninterface Receipt {\n    id: number;\n    payment: {\n        customer: any;\n        invoice: {\n            items: {\n                product: any;\n            }[];\n        };\n    };\n    confirmedByUser: any;\n}\n\nexport default function ReceiptPage({\n    params\n}: {\n    params: { id: string };\n}) {\n    const [receipt, setReceipt] = useState<Receipt | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n    const router = useRouter();\n    const id = parseInt(params.id);\n\n    useEffect(() => {\n        if (isNaN(id)) {\n            router.push('/404');\n            return;\n        }\n\n        const fetchReceipt = async () => {\n            try {\n                setLoading(true);\n                const response = await fetch(`/api/receipts/${id}`);\n                \n                if (!response.ok) {\n                    if (response.status === 404) {\n                        router.push('/404');\n                        return;\n                    }\n                    throw new Error(`Failed to fetch receipt: ${response.statusText}`);\n                }\n                \n                const data = await response.json();\n                setReceipt(data);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : 'Failed to load receipt');\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchReceipt();\n    }, [id, router]);\n\n    if (loading) {\n        return (\n            <div className=\"container mx-auto py-8 px-4\">\n                <div className=\"animate-pulse\">\n                    <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-4\"></div>\n                    <div className=\"h-64 bg-gray-200 rounded\"></div>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"container mx-auto py-8 px-4\">\n                <div className=\"text-center\">\n                    <h1 className=\"text-2xl font-bold text-red-600 mb-4\">Error</h1>\n                    <p className=\"text-gray-600 mb-4\">{error}</p>\n                    <button \n                        onClick={() => window.location.reload()}\n                        className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n                    >\n                        Try Again\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    if (!receipt) {\n        return null;\n    }\n\n    return (\n        <div className=\"container mx-auto py-8 px-4\">\n            <ReceiptClientWrapper receipt={receipt} />\n        </div>\n    );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}