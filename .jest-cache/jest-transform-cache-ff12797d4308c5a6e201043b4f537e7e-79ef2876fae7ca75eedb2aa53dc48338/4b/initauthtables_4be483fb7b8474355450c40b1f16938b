ace67e3b56727355b2afed660d120013
"use strict";

/* istanbul ignore next */
function cov_bk0woji0p() {
  var path = "/Users/sachin/Documents/md-sports-/src/scripts/init-auth-tables.js";
  var hash = "175c01a5479e823bb90fcf5eb12f3c6d9eb61d4d";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/sachin/Documents/md-sports-/src/scripts/init-auth-tables.js",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 33
        },
        end: {
          line: 5,
          column: 53
        }
      },
      "2": {
        start: {
          line: 6,
          column: 15
        },
        end: {
          line: 6,
          column: 34
        }
      },
      "3": {
        start: {
          line: 7,
          column: 0
        },
        end: {
          line: 7,
          column: 53
        }
      },
      "4": {
        start: {
          line: 9,
          column: 20
        },
        end: {
          line: 9,
          column: 44
        }
      },
      "5": {
        start: {
          line: 10,
          column: 0
        },
        end: {
          line: 13,
          column: 1
        }
      },
      "6": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 11,
          column: 65
        }
      },
      "7": {
        start: {
          line: 12,
          column: 4
        },
        end: {
          line: 12,
          column: 20
        }
      },
      "8": {
        start: {
          line: 15,
          column: 18
        },
        end: {
          line: 24,
          column: 2
        }
      },
      "9": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 268,
          column: 5
        }
      },
      "10": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 27,
          column: 39
        }
      },
      "11": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 78
        }
      },
      "12": {
        start: {
          line: 31,
          column: 21
        },
        end: {
          line: 54,
          column: 10
        }
      },
      "13": {
        start: {
          line: 56,
          column: 27
        },
        end: {
          line: 78,
          column: 10
        }
      },
      "14": {
        start: {
          line: 80,
          column: 21
        },
        end: {
          line: 132,
          column: 10
        }
      },
      "15": {
        start: {
          line: 134,
          column: 31
        },
        end: {
          line: 137,
          column: 10
        }
      },
      "16": {
        start: {
          line: 139,
          column: 8
        },
        end: {
          line: 142,
          column: 11
        }
      },
      "17": {
        start: {
          line: 143,
          column: 8
        },
        end: {
          line: 146,
          column: 11
        }
      },
      "18": {
        start: {
          line: 147,
          column: 8
        },
        end: {
          line: 149,
          column: 11
        }
      },
      "19": {
        start: {
          line: 150,
          column: 8
        },
        end: {
          line: 152,
          column: 11
        }
      },
      "20": {
        start: {
          line: 154,
          column: 8
        },
        end: {
          line: 154,
          column: 55
        }
      },
      "21": {
        start: {
          line: 155,
          column: 8
        },
        end: {
          line: 157,
          column: 11
        }
      },
      "22": {
        start: {
          line: 158,
          column: 8
        },
        end: {
          line: 160,
          column: 11
        }
      },
      "23": {
        start: {
          line: 161,
          column: 8
        },
        end: {
          line: 163,
          column: 11
        }
      },
      "24": {
        start: {
          line: 164,
          column: 8
        },
        end: {
          line: 166,
          column: 11
        }
      },
      "25": {
        start: {
          line: 168,
          column: 8
        },
        end: {
          line: 168,
          column: 49
        }
      },
      "26": {
        start: {
          line: 169,
          column: 26
        },
        end: {
          line: 172,
          column: 10
        }
      },
      "27": {
        start: {
          line: 173,
          column: 28
        },
        end: {
          line: 176,
          column: 10
        }
      },
      "28": {
        start: {
          line: 177,
          column: 28
        },
        end: {
          line: 180,
          column: 10
        }
      },
      "29": {
        start: {
          line: 182,
          column: 8
        },
        end: {
          line: 182,
          column: 47
        }
      },
      "30": {
        start: {
          line: 183,
          column: 28
        },
        end: {
          line: 224,
          column: 10
        }
      },
      "31": {
        start: {
          line: 226,
          column: 8
        },
        end: {
          line: 226,
          column: 57
        }
      },
      "32": {
        start: {
          line: 228,
          column: 8
        },
        end: {
          line: 231,
          column: 17
        }
      },
      "33": {
        start: {
          line: 228,
          column: 71
        },
        end: {
          line: 231,
          column: 13
        }
      },
      "34": {
        start: {
          line: 233,
          column: 35
        },
        end: {
          line: 238,
          column: 31
        }
      },
      "35": {
        start: {
          line: 233,
          column: 59
        },
        end: {
          line: 238,
          column: 30
        }
      },
      "36": {
        start: {
          line: 239,
          column: 8
        },
        end: {
          line: 242,
          column: 17
        }
      },
      "37": {
        start: {
          line: 239,
          column: 78
        },
        end: {
          line: 242,
          column: 13
        }
      },
      "38": {
        start: {
          line: 244,
          column: 35
        },
        end: {
          line: 247,
          column: 31
        }
      },
      "39": {
        start: {
          line: 244,
          column: 59
        },
        end: {
          line: 247,
          column: 30
        }
      },
      "40": {
        start: {
          line: 248,
          column: 8
        },
        end: {
          line: 251,
          column: 17
        }
      },
      "41": {
        start: {
          line: 248,
          column: 78
        },
        end: {
          line: 251,
          column: 13
        }
      },
      "42": {
        start: {
          line: 253,
          column: 8
        },
        end: {
          line: 253,
          column: 46
        }
      },
      "43": {
        start: {
          line: 254,
          column: 30
        },
        end: {
          line: 254,
          column: 63
        }
      },
      "44": {
        start: {
          line: 255,
          column: 8
        },
        end: {
          line: 262,
          column: 11
        }
      },
      "45": {
        start: {
          line: 263,
          column: 8
        },
        end: {
          line: 263,
          column: 71
        }
      },
      "46": {
        start: {
          line: 265,
          column: 8
        },
        end: {
          line: 265,
          column: 74
        }
      },
      "47": {
        start: {
          line: 267,
          column: 8
        },
        end: {
          line: 267,
          column: 32
        }
      },
      "48": {
        start: {
          line: 270,
          column: 0
        },
        end: {
          line: 270,
          column: 17
        }
      }
    },
    fnMap: {
      "0": {
        name: "initAuthTables",
        decl: {
          start: {
            line: 25,
            column: 15
          },
          end: {
            line: 25,
            column: 29
          }
        },
        loc: {
          start: {
            line: 25,
            column: 32
          },
          end: {
            line: 269,
            column: 1
          }
        },
        line: 25
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 228,
            column: 56
          },
          end: {
            line: 228,
            column: 57
          }
        },
        loc: {
          start: {
            line: 228,
            column: 71
          },
          end: {
            line: 231,
            column: 13
          }
        },
        line: 228
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 233,
            column: 54
          },
          end: {
            line: 233,
            column: 55
          }
        },
        loc: {
          start: {
            line: 233,
            column: 59
          },
          end: {
            line: 238,
            column: 30
          }
        },
        line: 233
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 239,
            column: 63
          },
          end: {
            line: 239,
            column: 64
          }
        },
        loc: {
          start: {
            line: 239,
            column: 78
          },
          end: {
            line: 242,
            column: 13
          }
        },
        line: 239
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 244,
            column: 54
          },
          end: {
            line: 244,
            column: 55
          }
        },
        loc: {
          start: {
            line: 244,
            column: 59
          },
          end: {
            line: 247,
            column: 30
          }
        },
        line: 244
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 248,
            column: 63
          },
          end: {
            line: 248,
            column: 64
          }
        },
        loc: {
          start: {
            line: 248,
            column: 78
          },
          end: {
            line: 251,
            column: 13
          }
        },
        line: 248
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 10,
            column: 0
          },
          end: {
            line: 13,
            column: 1
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 10,
            column: 0
          },
          end: {
            line: 13,
            column: 1
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 10
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/sachin/Documents/md-sports-/src/scripts/init-auth-tables.js"],
      sourcesContent: ["require('dotenv').config({ path: '.env.local' });\nconst { Sequelize, DataTypes } = require('sequelize');\nconst bcrypt = require('bcryptjs');\n\nconsole.log('Initializing authentication tables...');\n\n// Get connection string from environment variables\nconst databaseUrl = process.env.DATABASE_URL;\n\nif (!databaseUrl) {\n  console.error('DATABASE_URL environment variable not found');\n  process.exit(1);\n}\n\n// Create Sequelize instance\nconst sequelize = new Sequelize(databaseUrl, {\n  dialect: 'postgres',\n  dialectOptions: {\n    ssl: {\n      require: true,\n      rejectUnauthorized: false\n    }\n  },\n  logging: console.log\n});\n\nasync function initAuthTables() {\n  try {\n    await sequelize.authenticate();\n    console.log('Database connection has been established successfully.');\n\n    // Define models\n    // Role model\n    const Role = sequelize.define('role', {\n      id: {\n        type: DataTypes.INTEGER,\n        autoIncrement: true,\n        primaryKey: true\n      },\n      name: {\n        type: DataTypes.STRING(50),\n        allowNull: false,\n        unique: true\n      },\n      description: {\n        type: DataTypes.STRING(200),\n        allowNull: true\n      },\n      isActive: {\n        type: DataTypes.BOOLEAN,\n        allowNull: false,\n        defaultValue: true\n      }\n    }, {\n      tableName: 'roles',\n      timestamps: true\n    });\n\n    // Permission model\n    const Permission = sequelize.define('permission', {\n      id: {\n        type: DataTypes.INTEGER,\n        autoIncrement: true,\n        primaryKey: true\n      },\n      name: {\n        type: DataTypes.STRING(50),\n        allowNull: false,\n        unique: true\n      },\n      description: {\n        type: DataTypes.STRING(200),\n        allowNull: true\n      },\n      module: {\n        type: DataTypes.STRING(50),\n        allowNull: false\n      }\n    }, {\n      tableName: 'permissions',\n      timestamps: true\n    });\n\n    // User model\n    const User = sequelize.define('user', {\n      id: {\n        type: DataTypes.INTEGER,\n        autoIncrement: true,\n        primaryKey: true\n      },\n      username: {\n        type: DataTypes.STRING(50),\n        allowNull: false,\n        unique: true\n      },\n      passwordHash: {\n        type: DataTypes.STRING,\n        allowNull: false\n      },\n      fullName: {\n        type: DataTypes.STRING(100),\n        allowNull: false\n      },\n      email: {\n        type: DataTypes.STRING(100),\n        allowNull: false,\n        unique: true\n      },\n      phone: {\n        type: DataTypes.STRING(20),\n        allowNull: true\n      },\n      isActive: {\n        type: DataTypes.BOOLEAN,\n        allowNull: false,\n        defaultValue: true\n      },\n      roleId: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        references: {\n          model: 'roles',\n          key: 'id'\n        }\n      },\n      shopId: {\n        type: DataTypes.INTEGER,\n        allowNull: true,\n        references: {\n          model: 'shops',\n          key: 'id'\n        }\n      }\n    }, {\n      tableName: 'users',\n      timestamps: true\n    });\n\n    // Define the role_permission join table\n    const RolePermission = sequelize.define('role_permission', {}, {\n      tableName: 'role_permissions',\n      timestamps: false\n    });\n\n    // Set up associations\n    Role.belongsToMany(Permission, { through: RolePermission, foreignKey: 'roleId' });\n    Permission.belongsToMany(Role, { through: RolePermission, foreignKey: 'permissionId' });\n    \n    User.belongsTo(Role, { foreignKey: 'roleId' });\n    Role.hasMany(User, { foreignKey: 'roleId' });\n\n    // Sync models with database\n    console.log('Syncing models with database...');\n    await Role.sync({ force: true });\n    await Permission.sync({ force: true });\n    await RolePermission.sync({ force: true });\n    await User.sync({ force: true });\n\n    // Create default roles\n    console.log('Creating default roles...');\n    const adminRole = await Role.create({\n      name: 'Admin',\n      description: 'Administrator with full access'\n    });\n\n    const managerRole = await Role.create({\n      name: 'Shop Manager',\n      description: 'Manager of a specific shop'\n    });\n\n    const cashierRole = await Role.create({\n      name: 'Cashier',\n      description: 'Processes sales and invoices'\n    });\n\n    // Create permissions\n    console.log('Creating permissions...');\n    const permissions = await Permission.bulkCreate([\n      {\n        name: 'inventory:view',\n        description: 'View inventory items',\n        module: 'inventory'\n      },\n      {\n        name: 'inventory:manage',\n        description: 'Create, update, delete inventory items',\n        module: 'inventory'\n      },\n      {\n        name: 'sales:view',\n        description: 'View sales data and transactions',\n        module: 'sales'\n      },\n      {\n        name: 'sales:manage',\n        description: 'Full sales management access',\n        module: 'sales'\n      },\n      {\n        name: 'invoice:create',\n        description: 'Create new invoices',\n        module: 'invoice'\n      },\n      {\n        name: 'user:manage',\n        description: 'Manage user accounts',\n        module: 'user'\n      },\n      {\n        name: 'shop:manage',\n        description: 'Manage shop details',\n        module: 'shop'\n      },\n      {\n        name: 'report:view',\n        description: 'View reports',\n        module: 'report'\n      }\n    ]);\n\n    // Assign permissions to roles\n    console.log('Assigning permissions to roles...');\n    \n    // Admin gets all permissions\n    await RolePermission.bulkCreate(permissions.map(permission => ({\n      roleId: adminRole.id,\n      permissionId: permission.id\n    })));\n    \n    // Manager permissions\n    const managerPermissions = permissions.filter(p => \n      ['inventory:view', 'inventory:manage', 'invoice:create', 'report:view'].includes(p.name));\n    \n    await RolePermission.bulkCreate(managerPermissions.map(permission => ({\n      roleId: managerRole.id,\n      permissionId: permission.id\n    })));\n    \n    // Cashier permissions\n    const cashierPermissions = permissions.filter(p => \n      ['inventory:view', 'invoice:create'].includes(p.name));\n    \n    await RolePermission.bulkCreate(cashierPermissions.map(permission => ({\n      roleId: cashierRole.id,\n      permissionId: permission.id\n    })));\n\n    // Create admin user\n    console.log('Creating admin user...');\n    const adminPassword = await bcrypt.hash('admin123', 12);\n    await User.create({\n      username: 'admin',\n      passwordHash: adminPassword,\n      fullName: 'System Administrator',\n      email: 'admin@mssport.lk',\n      phone: '+94123456789',\n      roleId: adminRole.id\n    });\n\n    console.log('Authentication tables initialized successfully!');\n  } catch (error) {\n    console.error('Error initializing authentication tables:', error);\n  } finally {\n    await sequelize.close();\n  }\n}\n\ninitAuthTables();"],
      names: ["require", "config", "path", "Sequelize", "DataTypes", "bcrypt", "console", "log", "databaseUrl", "process", "env", "DATABASE_URL", "error", "exit", "sequelize", "dialect", "dialectOptions", "ssl", "rejectUnauthorized", "logging", "initAuthTables", "authenticate", "Role", "define", "id", "type", "INTEGER", "autoIncrement", "primaryKey", "name", "STRING", "allowNull", "unique", "description", "isActive", "BOOLEAN", "defaultValue", "tableName", "timestamps", "Permission", "module", "User", "username", "passwordHash", "fullName", "email", "phone", "roleId", "references", "model", "key", "shopId", "RolePermission", "belongsToMany", "through", "foreignKey", "belongsTo", "hasMany", "sync", "force", "adminRole", "create", "managerRole", "cashierRole", "permissions", "bulkCreate", "map", "permission", "permissionId", "managerPermissions", "filter", "p", "includes", "cashierPermissions", "adminPassword", "hash", "close"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "175c01a5479e823bb90fcf5eb12f3c6d9eb61d4d"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_bk0woji0p = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_bk0woji0p();
cov_bk0woji0p().s[0]++;
require("dotenv").config({
  path: ".env.local"
});
const {
  Sequelize,
  DataTypes
} =
/* istanbul ignore next */
(cov_bk0woji0p().s[1]++, require("sequelize"));
const bcrypt =
/* istanbul ignore next */
(cov_bk0woji0p().s[2]++, require("bcryptjs"));
/* istanbul ignore next */
cov_bk0woji0p().s[3]++;
console.log("Initializing authentication tables...");
// Get connection string from environment variables
const databaseUrl =
/* istanbul ignore next */
(cov_bk0woji0p().s[4]++, process.env.DATABASE_URL);
/* istanbul ignore next */
cov_bk0woji0p().s[5]++;
if (!databaseUrl) {
  /* istanbul ignore next */
  cov_bk0woji0p().b[0][0]++;
  cov_bk0woji0p().s[6]++;
  console.error("DATABASE_URL environment variable not found");
  /* istanbul ignore next */
  cov_bk0woji0p().s[7]++;
  process.exit(1);
} else
/* istanbul ignore next */
{
  cov_bk0woji0p().b[0][1]++;
}
// Create Sequelize instance
const sequelize =
/* istanbul ignore next */
(cov_bk0woji0p().s[8]++, new Sequelize(databaseUrl, {
  dialect: "postgres",
  dialectOptions: {
    ssl: {
      require: true,
      rejectUnauthorized: false
    }
  },
  logging: console.log
}));
async function initAuthTables() {
  /* istanbul ignore next */
  cov_bk0woji0p().f[0]++;
  cov_bk0woji0p().s[9]++;
  try {
    /* istanbul ignore next */
    cov_bk0woji0p().s[10]++;
    await sequelize.authenticate();
    /* istanbul ignore next */
    cov_bk0woji0p().s[11]++;
    console.log("Database connection has been established successfully.");
    // Define models
    // Role model
    const Role =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[12]++, sequelize.define("role", {
      id: {
        type: DataTypes.INTEGER,
        autoIncrement: true,
        primaryKey: true
      },
      name: {
        type: DataTypes.STRING(50),
        allowNull: false,
        unique: true
      },
      description: {
        type: DataTypes.STRING(200),
        allowNull: true
      },
      isActive: {
        type: DataTypes.BOOLEAN,
        allowNull: false,
        defaultValue: true
      }
    }, {
      tableName: "roles",
      timestamps: true
    }));
    // Permission model
    const Permission =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[13]++, sequelize.define("permission", {
      id: {
        type: DataTypes.INTEGER,
        autoIncrement: true,
        primaryKey: true
      },
      name: {
        type: DataTypes.STRING(50),
        allowNull: false,
        unique: true
      },
      description: {
        type: DataTypes.STRING(200),
        allowNull: true
      },
      module: {
        type: DataTypes.STRING(50),
        allowNull: false
      }
    }, {
      tableName: "permissions",
      timestamps: true
    }));
    // User model
    const User =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[14]++, sequelize.define("user", {
      id: {
        type: DataTypes.INTEGER,
        autoIncrement: true,
        primaryKey: true
      },
      username: {
        type: DataTypes.STRING(50),
        allowNull: false,
        unique: true
      },
      passwordHash: {
        type: DataTypes.STRING,
        allowNull: false
      },
      fullName: {
        type: DataTypes.STRING(100),
        allowNull: false
      },
      email: {
        type: DataTypes.STRING(100),
        allowNull: false,
        unique: true
      },
      phone: {
        type: DataTypes.STRING(20),
        allowNull: true
      },
      isActive: {
        type: DataTypes.BOOLEAN,
        allowNull: false,
        defaultValue: true
      },
      roleId: {
        type: DataTypes.INTEGER,
        allowNull: false,
        references: {
          model: "roles",
          key: "id"
        }
      },
      shopId: {
        type: DataTypes.INTEGER,
        allowNull: true,
        references: {
          model: "shops",
          key: "id"
        }
      }
    }, {
      tableName: "users",
      timestamps: true
    }));
    // Define the role_permission join table
    const RolePermission =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[15]++, sequelize.define("role_permission", {}, {
      tableName: "role_permissions",
      timestamps: false
    }));
    // Set up associations
    /* istanbul ignore next */
    cov_bk0woji0p().s[16]++;
    Role.belongsToMany(Permission, {
      through: RolePermission,
      foreignKey: "roleId"
    });
    /* istanbul ignore next */
    cov_bk0woji0p().s[17]++;
    Permission.belongsToMany(Role, {
      through: RolePermission,
      foreignKey: "permissionId"
    });
    /* istanbul ignore next */
    cov_bk0woji0p().s[18]++;
    User.belongsTo(Role, {
      foreignKey: "roleId"
    });
    /* istanbul ignore next */
    cov_bk0woji0p().s[19]++;
    Role.hasMany(User, {
      foreignKey: "roleId"
    });
    // Sync models with database
    /* istanbul ignore next */
    cov_bk0woji0p().s[20]++;
    console.log("Syncing models with database...");
    /* istanbul ignore next */
    cov_bk0woji0p().s[21]++;
    await Role.sync({
      force: true
    });
    /* istanbul ignore next */
    cov_bk0woji0p().s[22]++;
    await Permission.sync({
      force: true
    });
    /* istanbul ignore next */
    cov_bk0woji0p().s[23]++;
    await RolePermission.sync({
      force: true
    });
    /* istanbul ignore next */
    cov_bk0woji0p().s[24]++;
    await User.sync({
      force: true
    });
    // Create default roles
    /* istanbul ignore next */
    cov_bk0woji0p().s[25]++;
    console.log("Creating default roles...");
    const adminRole =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[26]++, await Role.create({
      name: "Admin",
      description: "Administrator with full access"
    }));
    const managerRole =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[27]++, await Role.create({
      name: "Shop Manager",
      description: "Manager of a specific shop"
    }));
    const cashierRole =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[28]++, await Role.create({
      name: "Cashier",
      description: "Processes sales and invoices"
    }));
    // Create permissions
    /* istanbul ignore next */
    cov_bk0woji0p().s[29]++;
    console.log("Creating permissions...");
    const permissions =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[30]++, await Permission.bulkCreate([{
      name: "inventory:view",
      description: "View inventory items",
      module: "inventory"
    }, {
      name: "inventory:manage",
      description: "Create, update, delete inventory items",
      module: "inventory"
    }, {
      name: "sales:view",
      description: "View sales data and transactions",
      module: "sales"
    }, {
      name: "sales:manage",
      description: "Full sales management access",
      module: "sales"
    }, {
      name: "invoice:create",
      description: "Create new invoices",
      module: "invoice"
    }, {
      name: "user:manage",
      description: "Manage user accounts",
      module: "user"
    }, {
      name: "shop:manage",
      description: "Manage shop details",
      module: "shop"
    }, {
      name: "report:view",
      description: "View reports",
      module: "report"
    }]));
    // Assign permissions to roles
    /* istanbul ignore next */
    cov_bk0woji0p().s[31]++;
    console.log("Assigning permissions to roles...");
    // Admin gets all permissions
    /* istanbul ignore next */
    cov_bk0woji0p().s[32]++;
    await RolePermission.bulkCreate(permissions.map(permission => {
      /* istanbul ignore next */
      cov_bk0woji0p().f[1]++;
      cov_bk0woji0p().s[33]++;
      return {
        roleId: adminRole.id,
        permissionId: permission.id
      };
    }));
    // Manager permissions
    const managerPermissions =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[34]++, permissions.filter(p => {
      /* istanbul ignore next */
      cov_bk0woji0p().f[2]++;
      cov_bk0woji0p().s[35]++;
      return ["inventory:view", "inventory:manage", "invoice:create", "report:view"].includes(p.name);
    }));
    /* istanbul ignore next */
    cov_bk0woji0p().s[36]++;
    await RolePermission.bulkCreate(managerPermissions.map(permission => {
      /* istanbul ignore next */
      cov_bk0woji0p().f[3]++;
      cov_bk0woji0p().s[37]++;
      return {
        roleId: managerRole.id,
        permissionId: permission.id
      };
    }));
    // Cashier permissions
    const cashierPermissions =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[38]++, permissions.filter(p => {
      /* istanbul ignore next */
      cov_bk0woji0p().f[4]++;
      cov_bk0woji0p().s[39]++;
      return ["inventory:view", "invoice:create"].includes(p.name);
    }));
    /* istanbul ignore next */
    cov_bk0woji0p().s[40]++;
    await RolePermission.bulkCreate(cashierPermissions.map(permission => {
      /* istanbul ignore next */
      cov_bk0woji0p().f[5]++;
      cov_bk0woji0p().s[41]++;
      return {
        roleId: cashierRole.id,
        permissionId: permission.id
      };
    }));
    // Create admin user
    /* istanbul ignore next */
    cov_bk0woji0p().s[42]++;
    console.log("Creating admin user...");
    const adminPassword =
    /* istanbul ignore next */
    (cov_bk0woji0p().s[43]++, await bcrypt.hash("admin123", 12));
    /* istanbul ignore next */
    cov_bk0woji0p().s[44]++;
    await User.create({
      username: "admin",
      passwordHash: adminPassword,
      fullName: "System Administrator",
      email: "admin@mssport.lk",
      phone: "+94123456789",
      roleId: adminRole.id
    });
    /* istanbul ignore next */
    cov_bk0woji0p().s[45]++;
    console.log("Authentication tables initialized successfully!");
  } catch (error) {
    /* istanbul ignore next */
    cov_bk0woji0p().s[46]++;
    console.error("Error initializing authentication tables:", error);
  } finally {
    /* istanbul ignore next */
    cov_bk0woji0p().s[47]++;
    await sequelize.close();
  }
}
/* istanbul ignore next */
cov_bk0woji0p().s[48]++;
initAuthTables();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfYmswd29qaTBwIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwicmVxdWlyZSIsImNvbmZpZyIsInBhdGgiLCJTZXF1ZWxpemUiLCJEYXRhVHlwZXMiLCJiY3J5cHQiLCJjb25zb2xlIiwibG9nIiwiZGF0YWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiREFUQUJBU0VfVVJMIiwiYiIsImVycm9yIiwiZXhpdCIsInNlcXVlbGl6ZSIsImRpYWxlY3QiLCJkaWFsZWN0T3B0aW9ucyIsInNzbCIsInJlamVjdFVuYXV0aG9yaXplZCIsImxvZ2dpbmciLCJpbml0QXV0aFRhYmxlcyIsImYiLCJhdXRoZW50aWNhdGUiLCJSb2xlIiwiZGVmaW5lIiwiaWQiLCJ0eXBlIiwiSU5URUdFUiIsImF1dG9JbmNyZW1lbnQiLCJwcmltYXJ5S2V5IiwibmFtZSIsIlNUUklORyIsImFsbG93TnVsbCIsInVuaXF1ZSIsImRlc2NyaXB0aW9uIiwiaXNBY3RpdmUiLCJCT09MRUFOIiwiZGVmYXVsdFZhbHVlIiwidGFibGVOYW1lIiwidGltZXN0YW1wcyIsIlBlcm1pc3Npb24iLCJtb2R1bGUiLCJVc2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZEhhc2giLCJmdWxsTmFtZSIsImVtYWlsIiwicGhvbmUiLCJyb2xlSWQiLCJyZWZlcmVuY2VzIiwibW9kZWwiLCJrZXkiLCJzaG9wSWQiLCJSb2xlUGVybWlzc2lvbiIsImJlbG9uZ3NUb01hbnkiLCJ0aHJvdWdoIiwiZm9yZWlnbktleSIsImJlbG9uZ3NUbyIsImhhc01hbnkiLCJzeW5jIiwiZm9yY2UiLCJhZG1pblJvbGUiLCJjcmVhdGUiLCJtYW5hZ2VyUm9sZSIsImNhc2hpZXJSb2xlIiwicGVybWlzc2lvbnMiLCJidWxrQ3JlYXRlIiwibWFwIiwicGVybWlzc2lvbiIsInBlcm1pc3Npb25JZCIsIm1hbmFnZXJQZXJtaXNzaW9ucyIsImZpbHRlciIsInAiLCJpbmNsdWRlcyIsImNhc2hpZXJQZXJtaXNzaW9ucyIsImFkbWluUGFzc3dvcmQiLCJoYXNoIiwiY2xvc2UiXSwic291cmNlcyI6WyIvVXNlcnMvc2FjaGluL0RvY3VtZW50cy9tZC1zcG9ydHMtL3NyYy9zY3JpcHRzL2luaXQtYXV0aC10YWJsZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnZG90ZW52JykuY29uZmlnKHsgcGF0aDogJy5lbnYubG9jYWwnIH0pO1xuY29uc3QgeyBTZXF1ZWxpemUsIERhdGFUeXBlcyB9ID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpO1xuXG5jb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIGF1dGhlbnRpY2F0aW9uIHRhYmxlcy4uLicpO1xuXG4vLyBHZXQgY29ubmVjdGlvbiBzdHJpbmcgZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbmNvbnN0IGRhdGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMO1xuXG5pZiAoIWRhdGFiYXNlVXJsKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0RBVEFCQVNFX1VSTCBlbnZpcm9ubWVudCB2YXJpYWJsZSBub3QgZm91bmQnKTtcbiAgcHJvY2Vzcy5leGl0KDEpO1xufVxuXG4vLyBDcmVhdGUgU2VxdWVsaXplIGluc3RhbmNlXG5jb25zdCBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKGRhdGFiYXNlVXJsLCB7XG4gIGRpYWxlY3Q6ICdwb3N0Z3JlcycsXG4gIGRpYWxlY3RPcHRpb25zOiB7XG4gICAgc3NsOiB7XG4gICAgICByZXF1aXJlOiB0cnVlLFxuICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZVxuICAgIH1cbiAgfSxcbiAgbG9nZ2luZzogY29uc29sZS5sb2dcbn0pO1xuXG5hc3luYyBmdW5jdGlvbiBpbml0QXV0aFRhYmxlcygpIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3Rpb24gaGFzIGJlZW4gZXN0YWJsaXNoZWQgc3VjY2Vzc2Z1bGx5LicpO1xuXG4gICAgLy8gRGVmaW5lIG1vZGVsc1xuICAgIC8vIFJvbGUgbW9kZWxcbiAgICBjb25zdCBSb2xlID0gc2VxdWVsaXplLmRlZmluZSgncm9sZScsIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlXG4gICAgICB9LFxuICAgICAgbmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDUwKSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdW5pcXVlOiB0cnVlXG4gICAgICB9LFxuICAgICAgZGVzY3JpcHRpb246IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygyMDApLFxuICAgICAgICBhbGxvd051bGw6IHRydWVcbiAgICAgIH0sXG4gICAgICBpc0FjdGl2ZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuQk9PTEVBTixcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgdGFibGVOYW1lOiAncm9sZXMnLFxuICAgICAgdGltZXN0YW1wczogdHJ1ZVxuICAgIH0pO1xuXG4gICAgLy8gUGVybWlzc2lvbiBtb2RlbFxuICAgIGNvbnN0IFBlcm1pc3Npb24gPSBzZXF1ZWxpemUuZGVmaW5lKCdwZXJtaXNzaW9uJywge1xuICAgICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWVcbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNTApLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB1bmlxdWU6IHRydWVcbiAgICAgIH0sXG4gICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDIwMCksXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1vZHVsZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDUwKSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHRhYmxlTmFtZTogJ3Blcm1pc3Npb25zJyxcbiAgICAgIHRpbWVzdGFtcHM6IHRydWVcbiAgICB9KTtcblxuICAgIC8vIFVzZXIgbW9kZWxcbiAgICBjb25zdCBVc2VyID0gc2VxdWVsaXplLmRlZmluZSgndXNlcicsIHtcbiAgICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlXG4gICAgICB9LFxuICAgICAgdXNlcm5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg1MCksXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHVuaXF1ZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBhc3N3b3JkSGFzaDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlXG4gICAgICB9LFxuICAgICAgZnVsbE5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygxMDApLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlXG4gICAgICB9LFxuICAgICAgZW1haWw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORygxMDApLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB1bmlxdWU6IHRydWVcbiAgICAgIH0sXG4gICAgICBwaG9uZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDIwKSxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlXG4gICAgICB9LFxuICAgICAgaXNBY3RpdmU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkJPT0xFQU4sXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHJvbGVJZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgIG1vZGVsOiAncm9sZXMnLFxuICAgICAgICAgIGtleTogJ2lkJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2hvcElkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICBtb2RlbDogJ3Nob3BzJyxcbiAgICAgICAgICBrZXk6ICdpZCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIHRhYmxlTmFtZTogJ3VzZXJzJyxcbiAgICAgIHRpbWVzdGFtcHM6IHRydWVcbiAgICB9KTtcblxuICAgIC8vIERlZmluZSB0aGUgcm9sZV9wZXJtaXNzaW9uIGpvaW4gdGFibGVcbiAgICBjb25zdCBSb2xlUGVybWlzc2lvbiA9IHNlcXVlbGl6ZS5kZWZpbmUoJ3JvbGVfcGVybWlzc2lvbicsIHt9LCB7XG4gICAgICB0YWJsZU5hbWU6ICdyb2xlX3Blcm1pc3Npb25zJyxcbiAgICAgIHRpbWVzdGFtcHM6IGZhbHNlXG4gICAgfSk7XG5cbiAgICAvLyBTZXQgdXAgYXNzb2NpYXRpb25zXG4gICAgUm9sZS5iZWxvbmdzVG9NYW55KFBlcm1pc3Npb24sIHsgdGhyb3VnaDogUm9sZVBlcm1pc3Npb24sIGZvcmVpZ25LZXk6ICdyb2xlSWQnIH0pO1xuICAgIFBlcm1pc3Npb24uYmVsb25nc1RvTWFueShSb2xlLCB7IHRocm91Z2g6IFJvbGVQZXJtaXNzaW9uLCBmb3JlaWduS2V5OiAncGVybWlzc2lvbklkJyB9KTtcbiAgICBcbiAgICBVc2VyLmJlbG9uZ3NUbyhSb2xlLCB7IGZvcmVpZ25LZXk6ICdyb2xlSWQnIH0pO1xuICAgIFJvbGUuaGFzTWFueShVc2VyLCB7IGZvcmVpZ25LZXk6ICdyb2xlSWQnIH0pO1xuXG4gICAgLy8gU3luYyBtb2RlbHMgd2l0aCBkYXRhYmFzZVxuICAgIGNvbnNvbGUubG9nKCdTeW5jaW5nIG1vZGVscyB3aXRoIGRhdGFiYXNlLi4uJyk7XG4gICAgYXdhaXQgUm9sZS5zeW5jKHsgZm9yY2U6IHRydWUgfSk7XG4gICAgYXdhaXQgUGVybWlzc2lvbi5zeW5jKHsgZm9yY2U6IHRydWUgfSk7XG4gICAgYXdhaXQgUm9sZVBlcm1pc3Npb24uc3luYyh7IGZvcmNlOiB0cnVlIH0pO1xuICAgIGF3YWl0IFVzZXIuc3luYyh7IGZvcmNlOiB0cnVlIH0pO1xuXG4gICAgLy8gQ3JlYXRlIGRlZmF1bHQgcm9sZXNcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgZGVmYXVsdCByb2xlcy4uLicpO1xuICAgIGNvbnN0IGFkbWluUm9sZSA9IGF3YWl0IFJvbGUuY3JlYXRlKHtcbiAgICAgIG5hbWU6ICdBZG1pbicsXG4gICAgICBkZXNjcmlwdGlvbjogJ0FkbWluaXN0cmF0b3Igd2l0aCBmdWxsIGFjY2VzcydcbiAgICB9KTtcblxuICAgIGNvbnN0IG1hbmFnZXJSb2xlID0gYXdhaXQgUm9sZS5jcmVhdGUoe1xuICAgICAgbmFtZTogJ1Nob3AgTWFuYWdlcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ01hbmFnZXIgb2YgYSBzcGVjaWZpYyBzaG9wJ1xuICAgIH0pO1xuXG4gICAgY29uc3QgY2FzaGllclJvbGUgPSBhd2FpdCBSb2xlLmNyZWF0ZSh7XG4gICAgICBuYW1lOiAnQ2FzaGllcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1Byb2Nlc3NlcyBzYWxlcyBhbmQgaW52b2ljZXMnXG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgcGVybWlzc2lvbnNcbiAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcgcGVybWlzc2lvbnMuLi4nKTtcbiAgICBjb25zdCBwZXJtaXNzaW9ucyA9IGF3YWl0IFBlcm1pc3Npb24uYnVsa0NyZWF0ZShbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdpbnZlbnRvcnk6dmlldycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlldyBpbnZlbnRvcnkgaXRlbXMnLFxuICAgICAgICBtb2R1bGU6ICdpbnZlbnRvcnknXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnaW52ZW50b3J5Om1hbmFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlLCB1cGRhdGUsIGRlbGV0ZSBpbnZlbnRvcnkgaXRlbXMnLFxuICAgICAgICBtb2R1bGU6ICdpbnZlbnRvcnknXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnc2FsZXM6dmlldycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVmlldyBzYWxlcyBkYXRhIGFuZCB0cmFuc2FjdGlvbnMnLFxuICAgICAgICBtb2R1bGU6ICdzYWxlcydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdzYWxlczptYW5hZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0Z1bGwgc2FsZXMgbWFuYWdlbWVudCBhY2Nlc3MnLFxuICAgICAgICBtb2R1bGU6ICdzYWxlcydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdpbnZvaWNlOmNyZWF0ZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlIG5ldyBpbnZvaWNlcycsXG4gICAgICAgIG1vZHVsZTogJ2ludm9pY2UnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAndXNlcjptYW5hZ2UnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ01hbmFnZSB1c2VyIGFjY291bnRzJyxcbiAgICAgICAgbW9kdWxlOiAndXNlcidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdzaG9wOm1hbmFnZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTWFuYWdlIHNob3AgZGV0YWlscycsXG4gICAgICAgIG1vZHVsZTogJ3Nob3AnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAncmVwb3J0OnZpZXcnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1ZpZXcgcmVwb3J0cycsXG4gICAgICAgIG1vZHVsZTogJ3JlcG9ydCdcbiAgICAgIH1cbiAgICBdKTtcblxuICAgIC8vIEFzc2lnbiBwZXJtaXNzaW9ucyB0byByb2xlc1xuICAgIGNvbnNvbGUubG9nKCdBc3NpZ25pbmcgcGVybWlzc2lvbnMgdG8gcm9sZXMuLi4nKTtcbiAgICBcbiAgICAvLyBBZG1pbiBnZXRzIGFsbCBwZXJtaXNzaW9uc1xuICAgIGF3YWl0IFJvbGVQZXJtaXNzaW9uLmJ1bGtDcmVhdGUocGVybWlzc2lvbnMubWFwKHBlcm1pc3Npb24gPT4gKHtcbiAgICAgIHJvbGVJZDogYWRtaW5Sb2xlLmlkLFxuICAgICAgcGVybWlzc2lvbklkOiBwZXJtaXNzaW9uLmlkXG4gICAgfSkpKTtcbiAgICBcbiAgICAvLyBNYW5hZ2VyIHBlcm1pc3Npb25zXG4gICAgY29uc3QgbWFuYWdlclBlcm1pc3Npb25zID0gcGVybWlzc2lvbnMuZmlsdGVyKHAgPT4gXG4gICAgICBbJ2ludmVudG9yeTp2aWV3JywgJ2ludmVudG9yeTptYW5hZ2UnLCAnaW52b2ljZTpjcmVhdGUnLCAncmVwb3J0OnZpZXcnXS5pbmNsdWRlcyhwLm5hbWUpKTtcbiAgICBcbiAgICBhd2FpdCBSb2xlUGVybWlzc2lvbi5idWxrQ3JlYXRlKG1hbmFnZXJQZXJtaXNzaW9ucy5tYXAocGVybWlzc2lvbiA9PiAoe1xuICAgICAgcm9sZUlkOiBtYW5hZ2VyUm9sZS5pZCxcbiAgICAgIHBlcm1pc3Npb25JZDogcGVybWlzc2lvbi5pZFxuICAgIH0pKSk7XG4gICAgXG4gICAgLy8gQ2FzaGllciBwZXJtaXNzaW9uc1xuICAgIGNvbnN0IGNhc2hpZXJQZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zLmZpbHRlcihwID0+IFxuICAgICAgWydpbnZlbnRvcnk6dmlldycsICdpbnZvaWNlOmNyZWF0ZSddLmluY2x1ZGVzKHAubmFtZSkpO1xuICAgIFxuICAgIGF3YWl0IFJvbGVQZXJtaXNzaW9uLmJ1bGtDcmVhdGUoY2FzaGllclBlcm1pc3Npb25zLm1hcChwZXJtaXNzaW9uID0+ICh7XG4gICAgICByb2xlSWQ6IGNhc2hpZXJSb2xlLmlkLFxuICAgICAgcGVybWlzc2lvbklkOiBwZXJtaXNzaW9uLmlkXG4gICAgfSkpKTtcblxuICAgIC8vIENyZWF0ZSBhZG1pbiB1c2VyXG4gICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIGFkbWluIHVzZXIuLi4nKTtcbiAgICBjb25zdCBhZG1pblBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2goJ2FkbWluMTIzJywgMTIpO1xuICAgIGF3YWl0IFVzZXIuY3JlYXRlKHtcbiAgICAgIHVzZXJuYW1lOiAnYWRtaW4nLFxuICAgICAgcGFzc3dvcmRIYXNoOiBhZG1pblBhc3N3b3JkLFxuICAgICAgZnVsbE5hbWU6ICdTeXN0ZW0gQWRtaW5pc3RyYXRvcicsXG4gICAgICBlbWFpbDogJ2FkbWluQG1zc3BvcnQubGsnLFxuICAgICAgcGhvbmU6ICcrOTQxMjM0NTY3ODknLFxuICAgICAgcm9sZUlkOiBhZG1pblJvbGUuaWRcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdBdXRoZW50aWNhdGlvbiB0YWJsZXMgaW5pdGlhbGl6ZWQgc3VjY2Vzc2Z1bGx5IScpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBhdXRoZW50aWNhdGlvbiB0YWJsZXM6JywgZXJyb3IpO1xuICB9IGZpbmFsbHkge1xuICAgIGF3YWl0IHNlcXVlbGl6ZS5jbG9zZSgpO1xuICB9XG59XG5cbmluaXRBdXRoVGFibGVzKCk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWdCRTtJQUFBQSxhQUFBLFlBQUFBLENBQUE7TUFBQSxPQUFBQyxjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBRCxhQUFBO0FBQUFBLGFBQUEsR0FBQUUs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