29c94e10f1b2e34f3103980de918a159
"use strict";

/* istanbul ignore next */
function cov_2l17pxdpj8() {
  var path = "/Users/sachin/Documents/md-sports-/src/app/api/purchases/optimized/route.ts";
  var hash = "ab3467d4ee5a2841896e41b3e9b0aaa26f5f065f";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/sachin/Documents/md-sports-/src/app/api/purchases/optimized/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 24,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 22
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 19
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 20
        }
      },
      "7": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 19
        }
      },
      "8": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 38
        }
      },
      "9": {
        start: {
          line: 26,
          column: 30
        },
        end: {
          line: 26,
          column: 89
        }
      },
      "10": {
        start: {
          line: 27,
          column: 13
        },
        end: {
          line: 27,
          column: 37
        }
      },
      "11": {
        start: {
          line: 28,
          column: 15
        },
        end: {
          line: 28,
          column: 47
        }
      },
      "12": {
        start: {
          line: 29,
          column: 30
        },
        end: {
          line: 29,
          column: 78
        }
      },
      "13": {
        start: {
          line: 31,
          column: 4
        },
        end: {
          line: 33,
          column: 6
        }
      },
      "14": {
        start: {
          line: 36,
          column: 18
        },
        end: {
          line: 40,
          column: 1
        }
      },
      "15": {
        start: {
          line: 42,
          column: 32
        },
        end: {
          line: 86,
          column: 1
        }
      },
      "16": {
        start: {
          line: 43,
          column: 63
        },
        end: {
          line: 43,
          column: 69
        }
      },
      "17": {
        start: {
          line: 44,
          column: 24
        },
        end: {
          line: 44,
          column: 26
        }
      },
      "18": {
        start: {
          line: 46,
          column: 4
        },
        end: {
          line: 63,
          column: 5
        }
      },
      "19": {
        start: {
          line: 47,
          column: 8
        },
        end: {
          line: 62,
          column: 10
        }
      },
      "20": {
        start: {
          line: 64,
          column: 4
        },
        end: {
          line: 66,
          column: 5
        }
      },
      "21": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 65,
          column: 36
        }
      },
      "22": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 69,
          column: 5
        }
      },
      "23": {
        start: {
          line: 68,
          column: 8
        },
        end: {
          line: 68,
          column: 54
        }
      },
      "24": {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 84,
          column: 5
        }
      },
      "25": {
        start: {
          line: 72,
          column: 8
        },
        end: {
          line: 75,
          column: 10
        }
      },
      "26": {
        start: {
          line: 76,
          column: 11
        },
        end: {
          line: 84,
          column: 5
        }
      },
      "27": {
        start: {
          line: 77,
          column: 8
        },
        end: {
          line: 79,
          column: 10
        }
      },
      "28": {
        start: {
          line: 80,
          column: 11
        },
        end: {
          line: 84,
          column: 5
        }
      },
      "29": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 83,
          column: 10
        }
      },
      "30": {
        start: {
          line: 85,
          column: 4
        },
        end: {
          line: 85,
          column: 23
        }
      },
      "31": {
        start: {
          line: 88,
          column: 33
        },
        end: {
          line: 129,
          column: 1
        }
      },
      "32": {
        start: {
          line: 89,
          column: 23
        },
        end: {
          line: 106,
          column: 5
        }
      },
      "33": {
        start: {
          line: 107,
          column: 4
        },
        end: {
          line: 127,
          column: 5
        }
      },
      "34": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 126,
          column: 10
        }
      },
      "35": {
        start: {
          line: 128,
          column: 4
        },
        end: {
          line: 128,
          column: 22
        }
      },
      "36": {
        start: {
          line: 131,
          column: 4
        },
        end: {
          line: 367,
          column: 5
        }
      },
      "37": {
        start: {
          line: 133,
          column: 22
        },
        end: {
          line: 135,
          column: 10
        }
      },
      "38": {
        start: {
          line: 136,
          column: 8
        },
        end: {
          line: 142,
          column: 9
        }
      },
      "39": {
        start: {
          line: 137,
          column: 12
        },
        end: {
          line: 141,
          column: 15
        }
      },
      "40": {
        start: {
          line: 143,
          column: 33
        },
        end: {
          line: 143,
          column: 53
        }
      },
      "41": {
        start: {
          line: 144,
          column: 23
        },
        end: {
          line: 144,
          column: 55
        }
      },
      "42": {
        start: {
          line: 145,
          column: 23
        },
        end: {
          line: 145,
          column: 49
        }
      },
      "43": {
        start: {
          line: 146,
          column: 27
        },
        end: {
          line: 146,
          column: 57
        }
      },
      "44": {
        start: {
          line: 147,
          column: 26
        },
        end: {
          line: 147,
          column: 55
        }
      },
      "45": {
        start: {
          line: 148,
          column: 24
        },
        end: {
          line: 148,
          column: 51
        }
      },
      "46": {
        start: {
          line: 149,
          column: 21
        },
        end: {
          line: 149,
          column: 62
        }
      },
      "47": {
        start: {
          line: 150,
          column: 22
        },
        end: {
          line: 150,
          column: 80
        }
      },
      "48": {
        start: {
          line: 151,
          column: 29
        },
        end: {
          line: 151,
          column: 72
        }
      },
      "49": {
        start: {
          line: 152,
          column: 28
        },
        end: {
          line: 152,
          column: 65
        }
      },
      "50": {
        start: {
          line: 153,
          column: 26
        },
        end: {
          line: 153,
          column: 66
        }
      },
      "51": {
        start: {
          line: 154,
          column: 34
        },
        end: {
          line: 154,
          column: 76
        }
      },
      "52": {
        start: {
          line: 155,
          column: 21
        },
        end: {
          line: 155,
          column: 39
        }
      },
      "53": {
        start: {
          line: 157,
          column: 25
        },
        end: {
          line: 168,
          column: 12
        }
      },
      "54": {
        start: {
          line: 170,
          column: 8
        },
        end: {
          line: 213,
          column: 9
        }
      },
      "55": {
        start: {
          line: 171,
          column: 12
        },
        end: {
          line: 212,
          column: 15
        }
      },
      "56": {
        start: {
          line: 172,
          column: 31
        },
        end: {
          line: 172,
          column: 70
        }
      },
      "57": {
        start: {
          line: 173,
          column: 16
        },
        end: {
          line: 175,
          column: 17
        }
      },
      "58": {
        start: {
          line: 174,
          column: 20
        },
        end: {
          line: 174,
          column: 61
        }
      },
      "59": {
        start: {
          line: 177,
          column: 56
        },
        end: {
          line: 205,
          column: 18
        }
      },
      "60": {
        start: {
          line: 206,
          column: 36
        },
        end: {
          line: 209,
          column: 30
        }
      },
      "61": {
        start: {
          line: 207,
          column: 49
        },
        end: {
          line: 207,
          column: 66
        }
      },
      "62": {
        start: {
          line: 208,
          column: 48
        },
        end: {
          line: 208,
          column: 56
        }
      },
      "63": {
        start: {
          line: 210,
          column: 16
        },
        end: {
          line: 210,
          column: 99
        }
      },
      "64": {
        start: {
          line: 211,
          column: 16
        },
        end: {
          line: 211,
          column: 62
        }
      },
      "65": {
        start: {
          line: 215,
          column: 8
        },
        end: {
          line: 259,
          column: 9
        }
      },
      "66": {
        start: {
          line: 216,
          column: 12
        },
        end: {
          line: 258,
          column: 15
        }
      },
      "67": {
        start: {
          line: 217,
          column: 31
        },
        end: {
          line: 217,
          column: 70
        }
      },
      "68": {
        start: {
          line: 218,
          column: 16
        },
        end: {
          line: 220,
          column: 17
        }
      },
      "69": {
        start: {
          line: 219,
          column: 20
        },
        end: {
          line: 219,
          column: 61
        }
      },
      "70": {
        start: {
          line: 221,
          column: 36
        },
        end: {
          line: 227,
          column: 18
        }
      },
      "71": {
        start: {
          line: 228,
          column: 64
        },
        end: {
          line: 247,
          column: 18
        }
      },
      "72": {
        start: {
          line: 248,
          column: 30
        },
        end: {
          line: 255,
          column: 17
        }
      },
      "73": {
        start: {
          line: 252,
          column: 24
        },
        end: {
          line: 252,
          column: 62
        }
      },
      "74": {
        start: {
          line: 253,
          column: 24
        },
        end: {
          line: 253,
          column: 35
        }
      },
      "75": {
        start: {
          line: 256,
          column: 16
        },
        end: {
          line: 256,
          column: 80
        }
      },
      "76": {
        start: {
          line: 257,
          column: 16
        },
        end: {
          line: 257,
          column: 56
        }
      },
      "77": {
        start: {
          line: 261,
          column: 8
        },
        end: {
          line: 305,
          column: 9
        }
      },
      "78": {
        start: {
          line: 262,
          column: 32
        },
        end: {
          line: 268,
          column: 14
        }
      },
      "79": {
        start: {
          line: 269,
          column: 30
        },
        end: {
          line: 275,
          column: 14
        }
      },
      "80": {
        start: {
          line: 277,
          column: 31
        },
        end: {
          line: 285,
          column: 13
        }
      },
      "81": {
        start: {
          line: 286,
          column: 28
        },
        end: {
          line: 294,
          column: 18
        }
      },
      "82": {
        start: {
          line: 286,
          column: 54
        },
        end: {
          line: 294,
          column: 17
        }
      },
      "83": {
        start: {
          line: 295,
          column: 31
        },
        end: {
          line: 298,
          column: 77
        }
      },
      "84": {
        start: {
          line: 298,
          column: 25
        },
        end: {
          line: 298,
          column: 65
        }
      },
      "85": {
        start: {
          line: 298,
          column: 42
        },
        end: {
          line: 298,
          column: 54
        }
      },
      "86": {
        start: {
          line: 299,
          column: 12
        },
        end: {
          line: 304,
          column: 15
        }
      },
      "87": {
        start: {
          line: 307,
          column: 8
        },
        end: {
          line: 358,
          column: 11
        }
      },
      "88": {
        start: {
          line: 308,
          column: 27
        },
        end: {
          line: 308,
          column: 66
        }
      },
      "89": {
        start: {
          line: 309,
          column: 12
        },
        end: {
          line: 311,
          column: 13
        }
      },
      "90": {
        start: {
          line: 310,
          column: 16
        },
        end: {
          line: 310,
          column: 57
        }
      },
      "91": {
        start: {
          line: 312,
          column: 32
        },
        end: {
          line: 318,
          column: 14
        }
      },
      "92": {
        start: {
          line: 320,
          column: 44
        },
        end: {
          line: 338,
          column: 14
        }
      },
      "93": {
        start: {
          line: 339,
          column: 31
        },
        end: {
          line: 339,
          column: 60
        }
      },
      "94": {
        start: {
          line: 340,
          column: 29
        },
        end: {
          line: 354,
          column: 13
        }
      },
      "95": {
        start: {
          line: 356,
          column: 12
        },
        end: {
          line: 356,
          column: 78
        }
      },
      "96": {
        start: {
          line: 357,
          column: 12
        },
        end: {
          line: 357,
          column: 55
        }
      },
      "97": {
        start: {
          line: 360,
          column: 8
        },
        end: {
          line: 360,
          column: 66
        }
      },
      "98": {
        start: {
          line: 361,
          column: 8
        },
        end: {
          line: 366,
          column: 11
        }
      },
      "99": {
        start: {
          line: 370,
          column: 4
        },
        end: {
          line: 475,
          column: 5
        }
      },
      "100": {
        start: {
          line: 371,
          column: 22
        },
        end: {
          line: 373,
          column: 10
        }
      },
      "101": {
        start: {
          line: 374,
          column: 8
        },
        end: {
          line: 380,
          column: 9
        }
      },
      "102": {
        start: {
          line: 375,
          column: 12
        },
        end: {
          line: 379,
          column: 15
        }
      },
      "103": {
        start: {
          line: 381,
          column: 21
        },
        end: {
          line: 381,
          column: 41
        }
      },
      "104": {
        start: {
          line: 382,
          column: 85
        },
        end: {
          line: 382,
          column: 89
        }
      },
      "105": {
        start: {
          line: 384,
          column: 8
        },
        end: {
          line: 390,
          column: 9
        }
      },
      "106": {
        start: {
          line: 385,
          column: 12
        },
        end: {
          line: 389,
          column: 15
        }
      },
      "107": {
        start: {
          line: 392,
          column: 28
        },
        end: {
          line: 394,
          column: 13
        }
      },
      "108": {
        start: {
          line: 393,
          column: 12
        },
        end: {
          line: 393,
          column: 56
        }
      },
      "109": {
        start: {
          line: 396,
          column: 23
        },
        end: {
          line: 453,
          column: 10
        }
      },
      "110": {
        start: {
          line: 398,
          column: 36
        },
        end: {
          line: 436,
          column: 14
        }
      },
      "111": {
        start: {
          line: 407,
          column: 51
        },
        end: {
          line: 412,
          column: 29
        }
      },
      "112": {
        start: {
          line: 438,
          column: 12
        },
        end: {
          line: 451,
          column: 13
        }
      },
      "113": {
        start: {
          line: 439,
          column: 16
        },
        end: {
          line: 450,
          column: 17
        }
      },
      "114": {
        start: {
          line: 440,
          column: 20
        },
        end: {
          line: 449,
          column: 23
        }
      },
      "115": {
        start: {
          line: 452,
          column: 12
        },
        end: {
          line: 452,
          column: 35
        }
      },
      "116": {
        start: {
          line: 455,
          column: 8
        },
        end: {
          line: 459,
          column: 11
        }
      },
      "117": {
        start: {
          line: 460,
          column: 8
        },
        end: {
          line: 466,
          column: 11
        }
      },
      "118": {
        start: {
          line: 468,
          column: 8
        },
        end: {
          line: 468,
          column: 65
        }
      },
      "119": {
        start: {
          line: 469,
          column: 8
        },
        end: {
          line: 474,
          column: 11
        }
      },
      "120": {
        start: {
          line: 478,
          column: 4
        },
        end: {
          line: 629,
          column: 5
        }
      },
      "121": {
        start: {
          line: 479,
          column: 22
        },
        end: {
          line: 481,
          column: 10
        }
      },
      "122": {
        start: {
          line: 482,
          column: 8
        },
        end: {
          line: 488,
          column: 9
        }
      },
      "123": {
        start: {
          line: 483,
          column: 12
        },
        end: {
          line: 487,
          column: 15
        }
      },
      "124": {
        start: {
          line: 489,
          column: 20
        },
        end: {
          line: 489,
          column: 40
        }
      },
      "125": {
        start: {
          line: 490,
          column: 19
        },
        end: {
          line: 490,
          column: 48
        }
      },
      "126": {
        start: {
          line: 491,
          column: 8
        },
        end: {
          line: 497,
          column: 9
        }
      },
      "127": {
        start: {
          line: 492,
          column: 12
        },
        end: {
          line: 496,
          column: 15
        }
      },
      "128": {
        start: {
          line: 498,
          column: 21
        },
        end: {
          line: 498,
          column: 41
        }
      },
      "129": {
        start: {
          line: 499,
          column: 74
        },
        end: {
          line: 499,
          column: 78
        }
      },
      "130": {
        start: {
          line: 501,
          column: 28
        },
        end: {
          line: 503,
          column: 25
        }
      },
      "131": {
        start: {
          line: 502,
          column: 12
        },
        end: {
          line: 502,
          column: 56
        }
      },
      "132": {
        start: {
          line: 504,
          column: 23
        },
        end: {
          line: 609,
          column: 10
        }
      },
      "133": {
        start: {
          line: 506,
          column: 35
        },
        end: {
          line: 513,
          column: 14
        }
      },
      "134": {
        start: {
          line: 514,
          column: 12
        },
        end: {
          line: 516,
          column: 13
        }
      },
      "135": {
        start: {
          line: 515,
          column: 16
        },
        end: {
          line: 515,
          column: 62
        }
      },
      "136": {
        start: {
          line: 518,
          column: 35
        },
        end: {
          line: 574,
          column: 14
        }
      },
      "137": {
        start: {
          line: 544,
          column: 55
        },
        end: {
          line: 549,
          column: 33
        }
      },
      "138": {
        start: {
          line: 576,
          column: 12
        },
        end: {
          line: 607,
          column: 13
        }
      },
      "139": {
        start: {
          line: 577,
          column: 39
        },
        end: {
          line: 577,
          column: 68
        }
      },
      "140": {
        start: {
          line: 578,
          column: 16
        },
        end: {
          line: 606,
          column: 17
        }
      },
      "141": {
        start: {
          line: 580,
          column: 20
        },
        end: {
          line: 591,
          column: 21
        }
      },
      "142": {
        start: {
          line: 581,
          column: 24
        },
        end: {
          line: 590,
          column: 27
        }
      },
      "143": {
        start: {
          line: 592,
          column: 23
        },
        end: {
          line: 606,
          column: 17
        }
      },
      "144": {
        start: {
          line: 594,
          column: 20
        },
        end: {
          line: 605,
          column: 21
        }
      },
      "145": {
        start: {
          line: 595,
          column: 24
        },
        end: {
          line: 604,
          column: 27
        }
      },
      "146": {
        start: {
          line: 608,
          column: 12
        },
        end: {
          line: 608,
          column: 34
        }
      },
      "147": {
        start: {
          line: 611,
          column: 8
        },
        end: {
          line: 615,
          column: 11
        }
      },
      "148": {
        start: {
          line: 616,
          column: 8
        },
        end: {
          line: 620,
          column: 11
        }
      },
      "149": {
        start: {
          line: 622,
          column: 8
        },
        end: {
          line: 622,
          column: 65
        }
      },
      "150": {
        start: {
          line: 623,
          column: 8
        },
        end: {
          line: 628,
          column: 11
        }
      },
      "151": {
        start: {
          line: 632,
          column: 4
        },
        end: {
          line: 706,
          column: 5
        }
      },
      "152": {
        start: {
          line: 633,
          column: 22
        },
        end: {
          line: 635,
          column: 10
        }
      },
      "153": {
        start: {
          line: 636,
          column: 8
        },
        end: {
          line: 642,
          column: 9
        }
      },
      "154": {
        start: {
          line: 637,
          column: 12
        },
        end: {
          line: 641,
          column: 15
        }
      },
      "155": {
        start: {
          line: 643,
          column: 20
        },
        end: {
          line: 643,
          column: 40
        }
      },
      "156": {
        start: {
          line: 644,
          column: 19
        },
        end: {
          line: 644,
          column: 48
        }
      },
      "157": {
        start: {
          line: 645,
          column: 8
        },
        end: {
          line: 651,
          column: 9
        }
      },
      "158": {
        start: {
          line: 646,
          column: 12
        },
        end: {
          line: 650,
          column: 15
        }
      },
      "159": {
        start: {
          line: 652,
          column: 23
        },
        end: {
          line: 687,
          column: 10
        }
      },
      "160": {
        start: {
          line: 654,
          column: 28
        },
        end: {
          line: 661,
          column: 14
        }
      },
      "161": {
        start: {
          line: 662,
          column: 12
        },
        end: {
          line: 664,
          column: 13
        }
      },
      "162": {
        start: {
          line: 663,
          column: 16
        },
        end: {
          line: 663,
          column: 62
        }
      },
      "163": {
        start: {
          line: 666,
          column: 12
        },
        end: {
          line: 679,
          column: 13
        }
      },
      "164": {
        start: {
          line: 667,
          column: 16
        },
        end: {
          line: 678,
          column: 17
        }
      },
      "165": {
        start: {
          line: 668,
          column: 20
        },
        end: {
          line: 677,
          column: 23
        }
      },
      "166": {
        start: {
          line: 681,
          column: 12
        },
        end: {
          line: 685,
          column: 15
        }
      },
      "167": {
        start: {
          line: 686,
          column: 12
        },
        end: {
          line: 686,
          column: 27
        }
      },
      "168": {
        start: {
          line: 689,
          column: 8
        },
        end: {
          line: 693,
          column: 11
        }
      },
      "169": {
        start: {
          line: 694,
          column: 8
        },
        end: {
          line: 697,
          column: 11
        }
      },
      "170": {
        start: {
          line: 699,
          column: 8
        },
        end: {
          line: 699,
          column: 65
        }
      },
      "171": {
        start: {
          line: 700,
          column: 8
        },
        end: {
          line: 705,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 12
          },
          end: {
            line: 12,
            column: 13
          }
        },
        loc: {
          start: {
            line: 12,
            column: 23
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 15,
            column: 10
          }
        },
        loc: {
          start: {
            line: 15,
            column: 20
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 10
          },
          end: {
            line: 18,
            column: 11
          }
        },
        loc: {
          start: {
            line: 18,
            column: 21
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 21,
            column: 9
          },
          end: {
            line: 21,
            column: 10
          }
        },
        loc: {
          start: {
            line: 21,
            column: 20
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "5": {
        name: "_interop_require_default",
        decl: {
          start: {
            line: 30,
            column: 9
          },
          end: {
            line: 30,
            column: 33
          }
        },
        loc: {
          start: {
            line: 30,
            column: 39
          },
          end: {
            line: 34,
            column: 1
          }
        },
        line: 30
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 42,
            column: 32
          },
          end: {
            line: 42,
            column: 33
          }
        },
        loc: {
          start: {
            line: 42,
            column: 42
          },
          end: {
            line: 86,
            column: 1
          }
        },
        line: 42
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 88,
            column: 33
          },
          end: {
            line: 88,
            column: 34
          }
        },
        loc: {
          start: {
            line: 88,
            column: 57
          },
          end: {
            line: 129,
            column: 1
          }
        },
        line: 88
      },
      "8": {
        name: "GET",
        decl: {
          start: {
            line: 130,
            column: 15
          },
          end: {
            line: 130,
            column: 18
          }
        },
        loc: {
          start: {
            line: 130,
            column: 28
          },
          end: {
            line: 368,
            column: 1
          }
        },
        line: 130
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 171,
            column: 75
          },
          end: {
            line: 171,
            column: 76
          }
        },
        loc: {
          start: {
            line: 171,
            column: 85
          },
          end: {
            line: 212,
            column: 13
          }
        },
        line: 171
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 207,
            column: 42
          },
          end: {
            line: 207,
            column: 43
          }
        },
        loc: {
          start: {
            line: 207,
            column: 49
          },
          end: {
            line: 207,
            column: 66
          }
        },
        line: 207
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 208,
            column: 41
          },
          end: {
            line: 208,
            column: 42
          }
        },
        loc: {
          start: {
            line: 208,
            column: 48
          },
          end: {
            line: 208,
            column: 56
          }
        },
        line: 208
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 216,
            column: 75
          },
          end: {
            line: 216,
            column: 76
          }
        },
        loc: {
          start: {
            line: 216,
            column: 85
          },
          end: {
            line: 258,
            column: 13
          }
        },
        line: 216
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 251,
            column: 57
          },
          end: {
            line: 251,
            column: 58
          }
        },
        loc: {
          start: {
            line: 251,
            column: 70
          },
          end: {
            line: 254,
            column: 21
          }
        },
        line: 251
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 286,
            column: 42
          },
          end: {
            line: 286,
            column: 43
          }
        },
        loc: {
          start: {
            line: 286,
            column: 54
          },
          end: {
            line: 294,
            column: 17
          }
        },
        line: 286
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 298,
            column: 18
          },
          end: {
            line: 298,
            column: 19
          }
        },
        loc: {
          start: {
            line: 298,
            column: 25
          },
          end: {
            line: 298,
            column: 65
          }
        },
        line: 298
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 298,
            column: 33
          },
          end: {
            line: 298,
            column: 34
          }
        },
        loc: {
          start: {
            line: 298,
            column: 42
          },
          end: {
            line: 298,
            column: 54
          }
        },
        line: 298
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 307,
            column: 71
          },
          end: {
            line: 307,
            column: 72
          }
        },
        loc: {
          start: {
            line: 307,
            column: 81
          },
          end: {
            line: 358,
            column: 9
          }
        },
        line: 307
      },
      "18": {
        name: "POST",
        decl: {
          start: {
            line: 369,
            column: 15
          },
          end: {
            line: 369,
            column: 19
          }
        },
        loc: {
          start: {
            line: 369,
            column: 29
          },
          end: {
            line: 476,
            column: 1
          }
        },
        line: 369
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 392,
            column: 41
          },
          end: {
            line: 392,
            column: 42
          }
        },
        loc: {
          start: {
            line: 392,
            column: 54
          },
          end: {
            line: 394,
            column: 9
          }
        },
        line: 392
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 396,
            column: 58
          },
          end: {
            line: 396,
            column: 59
          }
        },
        loc: {
          start: {
            line: 396,
            column: 70
          },
          end: {
            line: 453,
            column: 9
          }
        },
        line: 396
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 407,
            column: 42
          },
          end: {
            line: 407,
            column: 43
          }
        },
        loc: {
          start: {
            line: 407,
            column: 51
          },
          end: {
            line: 412,
            column: 29
          }
        },
        line: 407
      },
      "22": {
        name: "PUT",
        decl: {
          start: {
            line: 477,
            column: 15
          },
          end: {
            line: 477,
            column: 18
          }
        },
        loc: {
          start: {
            line: 477,
            column: 28
          },
          end: {
            line: 630,
            column: 1
          }
        },
        line: 477
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 501,
            column: 49
          },
          end: {
            line: 501,
            column: 50
          }
        },
        loc: {
          start: {
            line: 501,
            column: 62
          },
          end: {
            line: 503,
            column: 9
          }
        },
        line: 501
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 504,
            column: 58
          },
          end: {
            line: 504,
            column: 59
          }
        },
        loc: {
          start: {
            line: 504,
            column: 70
          },
          end: {
            line: 609,
            column: 9
          }
        },
        line: 504
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 544,
            column: 46
          },
          end: {
            line: 544,
            column: 47
          }
        },
        loc: {
          start: {
            line: 544,
            column: 55
          },
          end: {
            line: 549,
            column: 33
          }
        },
        line: 544
      },
      "26": {
        name: "DELETE",
        decl: {
          start: {
            line: 631,
            column: 15
          },
          end: {
            line: 631,
            column: 21
          }
        },
        loc: {
          start: {
            line: 631,
            column: 31
          },
          end: {
            line: 707,
            column: 1
          }
        },
        line: 631
      },
      "27": {
        name: "(anonymous_27)",
        decl: {
          start: {
            line: 652,
            column: 58
          },
          end: {
            line: 652,
            column: 59
          }
        },
        loc: {
          start: {
            line: 652,
            column: 70
          },
          end: {
            line: 687,
            column: 9
          }
        },
        line: 652
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 31,
            column: 11
          },
          end: {
            line: 33,
            column: 5
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 31,
            column: 35
          },
          end: {
            line: 31,
            column: 38
          }
        }, {
          start: {
            line: 31,
            column: 41
          },
          end: {
            line: 33,
            column: 5
          }
        }],
        line: 31
      },
      "1": {
        loc: {
          start: {
            line: 31,
            column: 11
          },
          end: {
            line: 31,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 31,
            column: 11
          },
          end: {
            line: 31,
            column: 14
          }
        }, {
          start: {
            line: 31,
            column: 18
          },
          end: {
            line: 31,
            column: 32
          }
        }],
        line: 31
      },
      "2": {
        loc: {
          start: {
            line: 46,
            column: 4
          },
          end: {
            line: 63,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 46,
            column: 4
          },
          end: {
            line: 63,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 46
      },
      "3": {
        loc: {
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 66,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 66,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 64
      },
      "4": {
        loc: {
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 69,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 69,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 67
      },
      "5": {
        loc: {
          start: {
            line: 71,
            column: 4
          },
          end: {
            line: 84,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 4
          },
          end: {
            line: 84,
            column: 5
          }
        }, {
          start: {
            line: 76,
            column: 11
          },
          end: {
            line: 84,
            column: 5
          }
        }],
        line: 71
      },
      "6": {
        loc: {
          start: {
            line: 71,
            column: 8
          },
          end: {
            line: 71,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 71,
            column: 8
          },
          end: {
            line: 71,
            column: 17
          }
        }, {
          start: {
            line: 71,
            column: 21
          },
          end: {
            line: 71,
            column: 28
          }
        }],
        line: 71
      },
      "7": {
        loc: {
          start: {
            line: 76,
            column: 11
          },
          end: {
            line: 84,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 76,
            column: 11
          },
          end: {
            line: 84,
            column: 5
          }
        }, {
          start: {
            line: 80,
            column: 11
          },
          end: {
            line: 84,
            column: 5
          }
        }],
        line: 76
      },
      "8": {
        loc: {
          start: {
            line: 80,
            column: 11
          },
          end: {
            line: 84,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 80,
            column: 11
          },
          end: {
            line: 84,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 80
      },
      "9": {
        loc: {
          start: {
            line: 88,
            column: 34
          },
          end: {
            line: 88,
            column: 54
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 88,
            column: 49
          },
          end: {
            line: 88,
            column: 54
          }
        }],
        line: 88
      },
      "10": {
        loc: {
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 127,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 127,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "11": {
        loc: {
          start: {
            line: 136,
            column: 8
          },
          end: {
            line: 142,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 8
          },
          end: {
            line: 142,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 136
      },
      "12": {
        loc: {
          start: {
            line: 144,
            column: 23
          },
          end: {
            line: 144,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 144,
            column: 23
          },
          end: {
            line: 144,
            column: 49
          }
        }, {
          start: {
            line: 144,
            column: 53
          },
          end: {
            line: 144,
            column: 55
          }
        }],
        line: 144
      },
      "13": {
        loc: {
          start: {
            line: 149,
            column: 30
          },
          end: {
            line: 149,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 149,
            column: 30
          },
          end: {
            line: 149,
            column: 54
          }
        }, {
          start: {
            line: 149,
            column: 58
          },
          end: {
            line: 149,
            column: 61
          }
        }],
        line: 149
      },
      "14": {
        loc: {
          start: {
            line: 150,
            column: 40
          },
          end: {
            line: 150,
            column: 73
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 150,
            column: 40
          },
          end: {
            line: 150,
            column: 65
          }
        }, {
          start: {
            line: 150,
            column: 69
          },
          end: {
            line: 150,
            column: 73
          }
        }],
        line: 150
      },
      "15": {
        loc: {
          start: {
            line: 170,
            column: 8
          },
          end: {
            line: 213,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 170,
            column: 8
          },
          end: {
            line: 213,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 170
      },
      "16": {
        loc: {
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 170,
            column: 39
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 170,
            column: 12
          },
          end: {
            line: 170,
            column: 29
          }
        }, {
          start: {
            line: 170,
            column: 33
          },
          end: {
            line: 170,
            column: 39
          }
        }],
        line: 170
      },
      "17": {
        loc: {
          start: {
            line: 173,
            column: 16
          },
          end: {
            line: 175,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 173,
            column: 16
          },
          end: {
            line: 175,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 173
      },
      "18": {
        loc: {
          start: {
            line: 215,
            column: 8
          },
          end: {
            line: 259,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 215,
            column: 8
          },
          end: {
            line: 259,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 215
      },
      "19": {
        loc: {
          start: {
            line: 218,
            column: 16
          },
          end: {
            line: 220,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 218,
            column: 16
          },
          end: {
            line: 220,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 218
      },
      "20": {
        loc: {
          start: {
            line: 250,
            column: 33
          },
          end: {
            line: 250,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 250,
            column: 33
          },
          end: {
            line: 250,
            column: 61
          }
        }, {
          start: {
            line: 250,
            column: 65
          },
          end: {
            line: 250,
            column: 66
          }
        }],
        line: 250
      },
      "21": {
        loc: {
          start: {
            line: 261,
            column: 8
          },
          end: {
            line: 305,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 261,
            column: 8
          },
          end: {
            line: 305,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 261
      },
      "22": {
        loc: {
          start: {
            line: 288,
            column: 20
          },
          end: {
            line: 288,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 288,
            column: 20
          },
          end: {
            line: 288,
            column: 43
          }
        }, {
          start: {
            line: 288,
            column: 47
          },
          end: {
            line: 288,
            column: 52
          }
        }],
        line: 288
      },
      "23": {
        loc: {
          start: {
            line: 290,
            column: 20
          },
          end: {
            line: 290,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 290,
            column: 20
          },
          end: {
            line: 290,
            column: 52
          }
        }, {
          start: {
            line: 290,
            column: 56
          },
          end: {
            line: 290,
            column: 59
          }
        }],
        line: 290
      },
      "24": {
        loc: {
          start: {
            line: 292,
            column: 20
          },
          end: {
            line: 292,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 292,
            column: 20
          },
          end: {
            line: 292,
            column: 53
          }
        }, {
          start: {
            line: 292,
            column: 57
          },
          end: {
            line: 292,
            column: 60
          }
        }],
        line: 292
      },
      "25": {
        loc: {
          start: {
            line: 309,
            column: 12
          },
          end: {
            line: 311,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 309,
            column: 12
          },
          end: {
            line: 311,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 309
      },
      "26": {
        loc: {
          start: {
            line: 363,
            column: 21
          },
          end: {
            line: 363,
            column: 100
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 363,
            column: 62
          },
          end: {
            line: 363,
            column: 75
          }
        }, {
          start: {
            line: 363,
            column: 78
          },
          end: {
            line: 363,
            column: 100
          }
        }],
        line: 363
      },
      "27": {
        loc: {
          start: {
            line: 374,
            column: 8
          },
          end: {
            line: 380,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 374,
            column: 8
          },
          end: {
            line: 380,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 374
      },
      "28": {
        loc: {
          start: {
            line: 382,
            column: 63
          },
          end: {
            line: 382,
            column: 80
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 382,
            column: 72
          },
          end: {
            line: 382,
            column: 80
          }
        }],
        line: 382
      },
      "29": {
        loc: {
          start: {
            line: 384,
            column: 8
          },
          end: {
            line: 390,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 384,
            column: 8
          },
          end: {
            line: 390,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 384
      },
      "30": {
        loc: {
          start: {
            line: 384,
            column: 12
          },
          end: {
            line: 384,
            column: 107
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 384,
            column: 12
          },
          end: {
            line: 384,
            column: 26
          }
        }, {
          start: {
            line: 384,
            column: 30
          },
          end: {
            line: 384,
            column: 41
          }
        }, {
          start: {
            line: 384,
            column: 45
          },
          end: {
            line: 384,
            column: 50
          }
        }, {
          start: {
            line: 384,
            column: 54
          },
          end: {
            line: 384,
            column: 60
          }
        }, {
          start: {
            line: 384,
            column: 64
          },
          end: {
            line: 384,
            column: 85
          }
        }, {
          start: {
            line: 384,
            column: 89
          },
          end: {
            line: 384,
            column: 107
          }
        }],
        line: 384
      },
      "31": {
        loc: {
          start: {
            line: 438,
            column: 12
          },
          end: {
            line: 451,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 438,
            column: 12
          },
          end: {
            line: 451,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 438
      },
      "32": {
        loc: {
          start: {
            line: 471,
            column: 21
          },
          end: {
            line: 471,
            column: 100
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 471,
            column: 62
          },
          end: {
            line: 471,
            column: 75
          }
        }, {
          start: {
            line: 471,
            column: 78
          },
          end: {
            line: 471,
            column: 100
          }
        }],
        line: 471
      },
      "33": {
        loc: {
          start: {
            line: 482,
            column: 8
          },
          end: {
            line: 488,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 482,
            column: 8
          },
          end: {
            line: 488,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 482
      },
      "34": {
        loc: {
          start: {
            line: 491,
            column: 8
          },
          end: {
            line: 497,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 491,
            column: 8
          },
          end: {
            line: 497,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 491
      },
      "35": {
        loc: {
          start: {
            line: 501,
            column: 28
          },
          end: {
            line: 503,
            column: 25
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 501,
            column: 36
          },
          end: {
            line: 503,
            column: 13
          }
        }, {
          start: {
            line: 503,
            column: 16
          },
          end: {
            line: 503,
            column: 25
          }
        }],
        line: 501
      },
      "36": {
        loc: {
          start: {
            line: 514,
            column: 12
          },
          end: {
            line: 516,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 514,
            column: 12
          },
          end: {
            line: 516,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 514
      },
      "37": {
        loc: {
          start: {
            line: 523,
            column: 23
          },
          end: {
            line: 525,
            column: 21
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 523,
            column: 23
          },
          end: {
            line: 523,
            column: 36
          }
        }, {
          start: {
            line: 523,
            column: 40
          },
          end: {
            line: 525,
            column: 21
          }
        }],
        line: 523
      },
      "38": {
        loc: {
          start: {
            line: 526,
            column: 23
          },
          end: {
            line: 528,
            column: 21
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 526,
            column: 23
          },
          end: {
            line: 526,
            column: 33
          }
        }, {
          start: {
            line: 526,
            column: 37
          },
          end: {
            line: 528,
            column: 21
          }
        }],
        line: 526
      },
      "39": {
        loc: {
          start: {
            line: 529,
            column: 23
          },
          end: {
            line: 531,
            column: 21
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 529,
            column: 23
          },
          end: {
            line: 529,
            column: 27
          }
        }, {
          start: {
            line: 529,
            column: 31
          },
          end: {
            line: 531,
            column: 21
          }
        }],
        line: 529
      },
      "40": {
        loc: {
          start: {
            line: 532,
            column: 23
          },
          end: {
            line: 534,
            column: 21
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 532,
            column: 23
          },
          end: {
            line: 532,
            column: 48
          }
        }, {
          start: {
            line: 532,
            column: 52
          },
          end: {
            line: 534,
            column: 21
          }
        }],
        line: 532
      },
      "41": {
        loc: {
          start: {
            line: 535,
            column: 23
          },
          end: {
            line: 537,
            column: 21
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 535,
            column: 23
          },
          end: {
            line: 535,
            column: 29
          }
        }, {
          start: {
            line: 535,
            column: 33
          },
          end: {
            line: 537,
            column: 21
          }
        }],
        line: 535
      },
      "42": {
        loc: {
          start: {
            line: 538,
            column: 23
          },
          end: {
            line: 540,
            column: 21
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 538,
            column: 23
          },
          end: {
            line: 538,
            column: 42
          }
        }, {
          start: {
            line: 538,
            column: 46
          },
          end: {
            line: 540,
            column: 21
          }
        }],
        line: 538
      },
      "43": {
        loc: {
          start: {
            line: 541,
            column: 23
          },
          end: {
            line: 551,
            column: 21
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 541,
            column: 23
          },
          end: {
            line: 541,
            column: 28
          }
        }, {
          start: {
            line: 541,
            column: 32
          },
          end: {
            line: 551,
            column: 21
          }
        }],
        line: 541
      },
      "44": {
        loc: {
          start: {
            line: 576,
            column: 12
          },
          end: {
            line: 607,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 576,
            column: 12
          },
          end: {
            line: 607,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 576
      },
      "45": {
        loc: {
          start: {
            line: 576,
            column: 16
          },
          end: {
            line: 576,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 576,
            column: 16
          },
          end: {
            line: 576,
            column: 22
          }
        }, {
          start: {
            line: 576,
            column: 26
          },
          end: {
            line: 576,
            column: 58
          }
        }],
        line: 576
      },
      "46": {
        loc: {
          start: {
            line: 577,
            column: 39
          },
          end: {
            line: 577,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 577,
            column: 39
          },
          end: {
            line: 577,
            column: 44
          }
        }, {
          start: {
            line: 577,
            column: 48
          },
          end: {
            line: 577,
            column: 68
          }
        }],
        line: 577
      },
      "47": {
        loc: {
          start: {
            line: 578,
            column: 16
          },
          end: {
            line: 606,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 578,
            column: 16
          },
          end: {
            line: 606,
            column: 17
          }
        }, {
          start: {
            line: 592,
            column: 23
          },
          end: {
            line: 606,
            column: 17
          }
        }],
        line: 578
      },
      "48": {
        loc: {
          start: {
            line: 578,
            column: 20
          },
          end: {
            line: 578,
            column: 73
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 578,
            column: 20
          },
          end: {
            line: 578,
            column: 37
          }
        }, {
          start: {
            line: 578,
            column: 41
          },
          end: {
            line: 578,
            column: 73
          }
        }],
        line: 578
      },
      "49": {
        loc: {
          start: {
            line: 592,
            column: 23
          },
          end: {
            line: 606,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 592,
            column: 23
          },
          end: {
            line: 606,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 592
      },
      "50": {
        loc: {
          start: {
            line: 592,
            column: 27
          },
          end: {
            line: 592,
            column: 80
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 592,
            column: 27
          },
          end: {
            line: 592,
            column: 44
          }
        }, {
          start: {
            line: 592,
            column: 48
          },
          end: {
            line: 592,
            column: 80
          }
        }],
        line: 592
      },
      "51": {
        loc: {
          start: {
            line: 625,
            column: 21
          },
          end: {
            line: 625,
            column: 100
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 625,
            column: 62
          },
          end: {
            line: 625,
            column: 75
          }
        }, {
          start: {
            line: 625,
            column: 78
          },
          end: {
            line: 625,
            column: 100
          }
        }],
        line: 625
      },
      "52": {
        loc: {
          start: {
            line: 636,
            column: 8
          },
          end: {
            line: 642,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 636,
            column: 8
          },
          end: {
            line: 642,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 636
      },
      "53": {
        loc: {
          start: {
            line: 645,
            column: 8
          },
          end: {
            line: 651,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 645,
            column: 8
          },
          end: {
            line: 651,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 645
      },
      "54": {
        loc: {
          start: {
            line: 662,
            column: 12
          },
          end: {
            line: 664,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 662,
            column: 12
          },
          end: {
            line: 664,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 662
      },
      "55": {
        loc: {
          start: {
            line: 666,
            column: 12
          },
          end: {
            line: 679,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 666,
            column: 12
          },
          end: {
            line: 679,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 666
      },
      "56": {
        loc: {
          start: {
            line: 702,
            column: 21
          },
          end: {
            line: 702,
            column: 100
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 702,
            column: 62
          },
          end: {
            line: 702,
            column: 75
          }
        }, {
          start: {
            line: 702,
            column: 78
          },
          end: {
            line: 702,
            column: 100
          }
        }],
        line: 702
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0,
      "153": 0,
      "154": 0,
      "155": 0,
      "156": 0,
      "157": 0,
      "158": 0,
      "159": 0,
      "160": 0,
      "161": 0,
      "162": 0,
      "163": 0,
      "164": 0,
      "165": 0,
      "166": 0,
      "167": 0,
      "168": 0,
      "169": 0,
      "170": 0,
      "171": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0],
      "29": [0, 0],
      "30": [0, 0, 0, 0, 0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0],
      "43": [0, 0],
      "44": [0, 0],
      "45": [0, 0],
      "46": [0, 0],
      "47": [0, 0],
      "48": [0, 0],
      "49": [0, 0],
      "50": [0, 0],
      "51": [0, 0],
      "52": [0, 0],
      "53": [0, 0],
      "54": [0, 0],
      "55": [0, 0],
      "56": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/sachin/Documents/md-sports-/src/app/api/purchases/optimized/route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport prisma from '@/lib/prisma';\nimport { getToken } from 'next-auth/jwt';\nimport { cacheService } from '@/lib/cache';\nimport { deduplicateRequest } from '@/lib/request-deduplication';\n\n// Cache configuration\nconst CACHE_TTL = {\n  LIST: 120, // 2 minutes for list queries\n  STATS: 300, // 5 minutes for statistics\n  SEARCH_SUGGESTIONS: 600, // 10 minutes for search suggestions\n};\n\n// Database query optimization helpers\nconst getOptimizedWhereClause = (params: {\n  search?: string;\n  status?: string;\n  supplierId?: string;\n  startDate?: string;\n  endDate?: string;\n}) => {\n  const { search, status, supplierId, startDate, endDate } = params;\n  const whereClause: any = {};\n\n  // Optimized search with indexed fields\n  if (search) {\n    whereClause.OR = [\n      {\n        invoiceNumber: {\n          contains: search,\n          mode: 'insensitive'\n        }\n      },\n      {\n        supplier: {\n          name: {\n            contains: search,\n            mode: 'insensitive'\n          }\n        }\n      }\n    ];\n  }\n\n  if (status) {\n    whereClause.status = status;\n  }\n\n  if (supplierId) {\n    whereClause.supplierId = parseInt(supplierId);\n  }\n\n  // Optimized date range queries\n  if (startDate && endDate) {\n    whereClause.date = {\n      gte: new Date(startDate),\n      lte: new Date(endDate)\n    };\n  } else if (startDate) {\n    whereClause.date = {\n      gte: new Date(startDate)\n    };\n  } else if (endDate) {\n    whereClause.date = {\n      lte: new Date(endDate)\n    };\n  }\n\n  return whereClause;\n};\n\n// Optimized select fields to reduce data transfer\nconst getOptimizedSelectFields = (includeItems = false) => {\n  const baseSelect = {\n    id: true,\n    invoiceNumber: true,\n    date: true,\n    totalAmount: true,\n    status: true,\n    supplierId: true,\n    createdAt: true,\n    updatedAt: true,\n    supplier: {\n      select: {\n        id: true,\n        name: true,\n        email: true,\n        phone: true\n      }\n    }\n  };\n\n  if (includeItems) {\n    return {\n      ...baseSelect,\n      items: {\n        select: {\n          id: true,\n          quantity: true,\n          unitPrice: true,\n          totalPrice: true,\n          productId: true,\n          product: {\n            select: {\n              id: true,\n              name: true,\n              sku: true\n            }\n          }\n        }\n      }\n    };\n  }\n\n  return baseSelect;\n};\n\n// GET /api/purchases/optimized - Optimized purchase invoices endpoint\nexport async function GET(request: NextRequest) {\n  try {\n    // Authentication check\n    const token = await getToken({ req: request });\n    if (!token) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const { searchParams } = new URL(request.url);\n    const search = searchParams.get('search') || '';\n    const status = searchParams.get('status');\n    const supplierId = searchParams.get('supplierId');\n    const startDate = searchParams.get('startDate');\n    const endDate = searchParams.get('endDate');\n    const page = parseInt(searchParams.get('page') || '1');\n    const limit = Math.min(parseInt(searchParams.get('limit') || '20'), 100); // Cap at 100\n    const includeItems = searchParams.get('includeItems') === 'true';\n    const export_data = searchParams.get('export') === 'true';\n    const statsOnly = searchParams.get('statsOnly') === 'true';\n    const searchSuggestions = searchParams.get('suggestions') === 'true';\n\n    const skip = (page - 1) * limit;\n\n    // Generate cache key\n    const cacheKey = `purchases-optimized-${JSON.stringify({\n      search, status, supplierId, startDate, endDate, page, limit, includeItems, statsOnly, searchSuggestions\n    })}`;\n\n    // Handle search suggestions\n    if (searchSuggestions && search) {\n      return deduplicateRequest(cacheKey, async () => {\n        const cached = await cacheService.get(cacheKey);\n        if (cached) {\n          return NextResponse.json(cached);\n        }\n\n        // Get unique invoice numbers and supplier names that match the search\n        const [invoiceNumbers, supplierNames] = await Promise.all([\n          prisma.purchaseInvoice.findMany({\n            where: {\n              invoiceNumber: {\n                contains: search,\n                mode: 'insensitive'\n              }\n            },\n            select: { invoiceNumber: true },\n            distinct: ['invoiceNumber'],\n            take: 5\n          }),\n          prisma.supplier.findMany({\n            where: {\n              name: {\n                contains: search,\n                mode: 'insensitive'\n              }\n            },\n            select: { name: true },\n            take: 5\n          })\n        ]);\n\n        const suggestions = [\n          ...invoiceNumbers.map(inv => inv.invoiceNumber),\n          ...supplierNames.map(sup => sup.name)\n        ].slice(0, 10);\n\n        await cacheService.set(cacheKey, suggestions, CACHE_TTL.SEARCH_SUGGESTIONS);\n        return NextResponse.json(suggestions);\n      });\n    }\n\n    // Handle statistics only\n    if (statsOnly) {\n      return deduplicateRequest(cacheKey, async () => {\n        const cached = await cacheService.get(cacheKey);\n        if (cached) {\n          return NextResponse.json(cached);\n        }\n\n        const whereClause = getOptimizedWhereClause({ search, status, supplierId, startDate, endDate });\n\n        const [totalCount, totalAmount, statusCounts] = await Promise.all([\n          prisma.purchaseInvoice.count({ where: whereClause }),\n          prisma.purchaseInvoice.aggregate({\n            where: whereClause,\n            _sum: { totalAmount: true }\n          }),\n          prisma.purchaseInvoice.groupBy({\n            by: ['status'],\n            where: whereClause,\n            _count: { status: true }\n          })\n        ]);\n\n        const stats = {\n          totalCount,\n          totalAmount: totalAmount._sum.totalAmount || 0,\n          statusBreakdown: statusCounts.reduce((acc, item) => {\n            acc[item.status] = item._count.status;\n            return acc;\n          }, {} as Record<string, number>)\n        };\n\n        await cacheService.set(cacheKey, stats, CACHE_TTL.STATS);\n        return NextResponse.json(stats);\n      });\n    }\n\n    // Handle export\n    if (export_data) {\n      const whereClause = getOptimizedWhereClause({ search, status, supplierId, startDate, endDate });\n\n      const purchases = await prisma.purchaseInvoice.findMany({\n        where: whereClause,\n        select: getOptimizedSelectFields(true),\n        orderBy: { date: 'desc' }\n      });\n\n      // Convert to CSV\n      const csvHeaders = [\n        'Invoice Number',\n        'Supplier',\n        'Date',\n        'Total Amount',\n        'Status',\n        'Items Count',\n        'Created At'\n      ];\n\n      const csvRows = purchases.map(purchase => [\n        purchase.invoiceNumber,\n        purchase.supplier?.name || 'N/A',\n        new Date(purchase.date).toLocaleDateString(),\n        purchase.totalAmount?.toString() || '0',\n        purchase.status,\n        purchase.items?.length.toString() || '0',\n        new Date(purchase.createdAt).toLocaleDateString()\n      ]);\n\n      const csvContent = [csvHeaders, ...csvRows]\n        .map(row => row.map(field => `\"${field}\"`).join(','))\n        .join('\\n');\n\n      return new NextResponse(csvContent, {\n        headers: {\n          'Content-Type': 'text/csv',\n          'Content-Disposition': `attachment; filename=\"purchase-invoices-${new Date().toISOString().split('T')[0]}.csv\"`\n        }\n      });\n    }\n\n    // Main list query with caching and deduplication\n    return deduplicateRequest(cacheKey, async () => {\n      const cached = await cacheService.get(cacheKey);\n      if (cached) {\n        return NextResponse.json(cached);\n      }\n\n      const whereClause = getOptimizedWhereClause({ search, status, supplierId, startDate, endDate });\n\n      // Use transaction for consistency and performance\n      const [purchases, totalCount] = await prisma.$transaction([\n        prisma.purchaseInvoice.findMany({\n          where: whereClause,\n          select: getOptimizedSelectFields(includeItems),\n          orderBy: [\n            { date: 'desc' },\n            { createdAt: 'desc' }\n          ],\n          skip,\n          take: limit\n        }),\n        prisma.purchaseInvoice.count({ where: whereClause })\n      ]);\n\n      const totalPages = Math.ceil(totalCount / limit);\n\n      const response = {\n        data: purchases,\n        pagination: {\n          page,\n          limit,\n          total: totalCount,\n          totalPages,\n          hasNextPage: page < totalPages,\n          hasPreviousPage: page > 1\n        },\n        meta: {\n          cached: false,\n          timestamp: new Date().toISOString()\n        }\n      };\n\n      // Cache the response\n      await cacheService.set(cacheKey, response, CACHE_TTL.LIST);\n\n      return NextResponse.json(response);\n    });\n\n  } catch (error) {\n    console.error('Error in optimized purchases API:', error);\n    return NextResponse.json(\n      {\n        error: 'Internal server error',\n        message: process.env.NODE_ENV === 'development' ? error.message : 'Something went wrong'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n// POST /api/purchases/optimized - Create purchase invoice with optimizations\nexport async function POST(request: NextRequest) {\n  try {\n    const token = await getToken({ req: request });\n    if (!token) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body = await request.json();\n    const {\n      invoiceNumber,\n      supplierId,\n      date,\n      items,\n      notes,\n      status = 'unpaid'\n    } = body;\n\n    // Validation\n    if (!invoiceNumber || !supplierId || !date || !items || !Array.isArray(items) || items.length === 0) {\n      return NextResponse.json(\n        { error: 'Missing required fields: invoiceNumber, supplierId, date, items' },\n        { status: 400 }\n      );\n    }\n\n    // Calculate total amount\n    const totalAmount = items.reduce((sum: number, item: any) => {\n      return sum + (item.quantity * item.unitPrice);\n    }, 0);\n\n    // Use transaction for data consistency\n    const result = await prisma.$transaction(async (tx) => {\n      // Create the purchase invoice\n      const purchaseInvoice = await tx.purchaseInvoice.create({\n        data: {\n          invoiceNumber,\n          supplierId: parseInt(supplierId),\n          date: new Date(date),\n          totalAmount,\n          status,\n          notes,\n          items: {\n            create: items.map((item: any) => ({\n              productId: item.productId,\n              quantity: item.quantity,\n              unitPrice: item.unitPrice,\n              totalPrice: item.quantity * item.unitPrice\n            }))\n          }\n        },\n        include: {\n          supplier: {\n            select: {\n              id: true,\n              name: true,\n              email: true,\n              phone: true\n            }\n          },\n          items: {\n            include: {\n              product: {\n                select: {\n                  id: true,\n                  name: true,\n                  sku: true\n                }\n              }\n            }\n          }\n        }\n      });\n\n      // Update inventory levels if status is paid\n      if (status === 'paid') {\n        for (const item of items) {\n          await tx.inventory.updateMany({\n            where: {\n              productId: item.productId\n            },\n            data: {\n              quantity: {\n                increment: item.quantity\n              }\n            }\n          });\n        }\n      }\n\n      return purchaseInvoice;\n    });\n\n    // Clear related caches\n    await Promise.all([\n      cacheService.clear('purchases-optimized'),\n      cacheService.clear('purchase-stats'),\n      cacheService.clear('inventory')\n    ]);\n\n    return NextResponse.json({\n      success: true,\n      data: result,\n      message: 'Purchase invoice created successfully'\n    }, { status: 201 });\n\n  } catch (error) {\n    console.error('Error creating purchase invoice:', error);\n    return NextResponse.json(\n      {\n        error: 'Failed to create purchase invoice',\n        message: process.env.NODE_ENV === 'development' ? error.message : 'Something went wrong'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n// PUT /api/purchases/optimized/[id] - Update purchase invoice\nexport async function PUT(request: NextRequest) {\n  try {\n    const token = await getToken({ req: request });\n    if (!token) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const url = new URL(request.url);\n    const id = url.pathname.split('/').pop();\n\n    if (!id) {\n      return NextResponse.json({ error: 'Invoice ID is required' }, { status: 400 });\n    }\n\n    const body = await request.json();\n    const {\n      invoiceNumber,\n      supplierId,\n      date,\n      items,\n      notes,\n      status\n    } = body;\n\n    // Calculate total amount if items are provided\n    const totalAmount = items ? items.reduce((sum: number, item: any) => {\n      return sum + (item.quantity * item.unitPrice);\n    }, 0) : undefined;\n\n    const result = await prisma.$transaction(async (tx) => {\n      // Get current invoice for comparison\n      const currentInvoice = await tx.purchaseInvoice.findUnique({\n        where: { id: parseInt(id) },\n        include: { items: true }\n      });\n\n      if (!currentInvoice) {\n        throw new Error('Purchase invoice not found');\n      }\n\n      // Update the purchase invoice\n      const updatedInvoice = await tx.purchaseInvoice.update({\n        where: { id: parseInt(id) },\n        data: {\n          ...(invoiceNumber && { invoiceNumber }),\n          ...(supplierId && { supplierId: parseInt(supplierId) }),\n          ...(date && { date: new Date(date) }),\n          ...(totalAmount !== undefined && { totalAmount }),\n          ...(status && { status }),\n          ...(notes !== undefined && { notes }),\n          ...(items && {\n            items: {\n              deleteMany: {},\n              create: items.map((item: any) => ({\n                productId: item.productId,\n                quantity: item.quantity,\n                unitPrice: item.unitPrice,\n                totalPrice: item.quantity * item.unitPrice\n              }))\n            }\n          })\n        },\n        include: {\n          supplier: {\n            select: {\n              id: true,\n              name: true,\n              email: true,\n              phone: true\n            }\n          },\n          items: {\n            include: {\n              product: {\n                select: {\n                  id: true,\n                  name: true,\n                  sku: true\n                }\n              }\n            }\n          }\n        }\n      });\n\n      // Handle inventory updates if status changed to/from paid\n      if (status && status !== currentInvoice.status) {\n        const itemsToProcess = items || currentInvoice.items;\n\n        if (status === 'paid' && currentInvoice.status !== 'paid') {\n          // Add to inventory\n          for (const item of itemsToProcess) {\n            await tx.inventory.updateMany({\n              where: { productId: item.productId },\n              data: {\n                quantity: { increment: item.quantity }\n              }\n            });\n          }\n        } else if (status !== 'paid' && currentInvoice.status === 'paid') {\n          // Remove from inventory\n          for (const item of itemsToProcess) {\n            await tx.inventory.updateMany({\n              where: { productId: item.productId },\n              data: {\n                quantity: { decrement: item.quantity }\n              }\n            });\n          }\n        }\n      }\n\n      return updatedInvoice;\n    });\n\n    // Clear related caches\n    await Promise.all([\n      cacheService.clear('purchases-optimized'),\n      cacheService.clear('purchase-stats'),\n      cacheService.clear('inventory')\n    ]);\n\n    return NextResponse.json({\n      success: true,\n      data: result,\n      message: 'Purchase invoice updated successfully'\n    });\n\n  } catch (error) {\n    console.error('Error updating purchase invoice:', error);\n    return NextResponse.json(\n      {\n        error: 'Failed to update purchase invoice',\n        message: process.env.NODE_ENV === 'development' ? error.message : 'Something went wrong'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n// DELETE /api/purchases/optimized/[id] - Delete purchase invoice\nexport async function DELETE(request: NextRequest) {\n  try {\n    const token = await getToken({ req: request });\n    if (!token) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const url = new URL(request.url);\n    const id = url.pathname.split('/').pop();\n\n    if (!id) {\n      return NextResponse.json({ error: 'Invoice ID is required' }, { status: 400 });\n    }\n\n    const result = await prisma.$transaction(async (tx) => {\n      // Get invoice details before deletion\n      const invoice = await tx.purchaseInvoice.findUnique({\n        where: { id: parseInt(id) },\n        include: { items: true }\n      });\n\n      if (!invoice) {\n        throw new Error('Purchase invoice not found');\n      }\n\n      // If invoice was paid, adjust inventory\n      if (invoice.status === 'paid') {\n        for (const item of invoice.items) {\n          await tx.inventory.updateMany({\n            where: { productId: item.productId },\n            data: {\n              quantity: { decrement: item.quantity }\n            }\n          });\n        }\n      }\n\n      // Delete the invoice (items will be deleted due to cascade)\n      await tx.purchaseInvoice.delete({\n        where: { id: parseInt(id) }\n      });\n\n      return invoice;\n    });\n\n    // Clear related caches\n    await Promise.all([\n      cacheService.clear('purchases-optimized'),\n      cacheService.clear('purchase-stats'),\n      cacheService.clear('inventory')\n    ]);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Purchase invoice deleted successfully'\n    });\n\n  } catch (error) {\n    console.error('Error deleting purchase invoice:', error);\n    return NextResponse.json(\n      {\n        error: 'Failed to delete purchase invoice',\n        message: process.env.NODE_ENV === 'development' ? error.message : 'Something went wrong'\n      },\n      { status: 500 }\n    );\n  }\n}"],
      names: ["DELETE", "GET", "POST", "PUT", "CACHE_TTL", "LIST", "STATS", "SEARCH_SUGGESTIONS", "getOptimizedWhereClause", "params", "search", "status", "supplierId", "startDate", "endDate", "whereClause", "OR", "invoiceNumber", "contains", "mode", "supplier", "name", "parseInt", "date", "gte", "Date", "lte", "getOptimizedSelectFields", "includeItems", "baseSelect", "id", "totalAmount", "createdAt", "updatedAt", "select", "email", "phone", "items", "quantity", "unitPrice", "totalPrice", "productId", "product", "sku", "request", "token", "getToken", "req", "NextResponse", "json", "error", "searchParams", "URL", "url", "get", "page", "limit", "Math", "min", "export_data", "statsOnly", "searchSuggestions", "skip", "cacheKey", "JSON", "stringify", "deduplicateRequest", "cached", "cacheService", "invoiceNumbers", "supplierNames", "Promise", "all", "prisma", "purchaseInvoice", "findMany", "where", "distinct", "take", "suggestions", "map", "inv", "sup", "slice", "set", "totalCount", "statusCounts", "count", "aggregate", "_sum", "groupBy", "by", "_count", "stats", "statusBreakdown", "reduce", "acc", "item", "purchases", "orderBy", "csvHeaders", "csvRows", "purchase", "toLocaleDateString", "toString", "length", "csvContent", "row", "field", "join", "headers", "toISOString", "split", "$transaction", "totalPages", "ceil", "response", "data", "pagination", "total", "hasNextPage", "hasPreviousPage", "meta", "timestamp", "console", "message", "process", "env", "NODE_ENV", "body", "notes", "Array", "isArray", "sum", "result", "tx", "create", "include", "inventory", "updateMany", "increment", "clear", "success", "pathname", "pop", "undefined", "currentInvoice", "findUnique", "Error", "updatedInvoice", "update", "deleteMany", "itemsToProcess", "decrement", "invoice", "delete"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ab3467d4ee5a2841896e41b3e9b0aaa26f5f065f"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2l17pxdpj8 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2l17pxdpj8();
cov_2l17pxdpj8().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_2l17pxdpj8().f[0]++;
  cov_2l17pxdpj8().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: all[name]
    });
  }
}
/* istanbul ignore next */
cov_2l17pxdpj8().s[3]++;
_export(exports, {
  DELETE: function () {
    /* istanbul ignore next */
    cov_2l17pxdpj8().f[1]++;
    cov_2l17pxdpj8().s[4]++;
    return DELETE;
  },
  GET: function () {
    /* istanbul ignore next */
    cov_2l17pxdpj8().f[2]++;
    cov_2l17pxdpj8().s[5]++;
    return GET;
  },
  POST: function () {
    /* istanbul ignore next */
    cov_2l17pxdpj8().f[3]++;
    cov_2l17pxdpj8().s[6]++;
    return POST;
  },
  PUT: function () {
    /* istanbul ignore next */
    cov_2l17pxdpj8().f[4]++;
    cov_2l17pxdpj8().s[7]++;
    return PUT;
  }
});
const _server =
/* istanbul ignore next */
(cov_2l17pxdpj8().s[8]++, require("next/server"));
const _prisma =
/* istanbul ignore next */
(/*#__PURE__*/cov_2l17pxdpj8().s[9]++, _interop_require_default(require("../../../../lib/prisma")));
const _jwt =
/* istanbul ignore next */
(cov_2l17pxdpj8().s[10]++, require("next-auth/jwt"));
const _cache =
/* istanbul ignore next */
(cov_2l17pxdpj8().s[11]++, require("../../../../lib/cache"));
const _requestdeduplication =
/* istanbul ignore next */
(cov_2l17pxdpj8().s[12]++, require("../../../../lib/request-deduplication"));
function _interop_require_default(obj) {
  /* istanbul ignore next */
  cov_2l17pxdpj8().f[5]++;
  cov_2l17pxdpj8().s[13]++;
  return /* istanbul ignore next */(cov_2l17pxdpj8().b[1][0]++, obj) &&
  /* istanbul ignore next */
  (cov_2l17pxdpj8().b[1][1]++, obj.__esModule) ?
  /* istanbul ignore next */
  (cov_2l17pxdpj8().b[0][0]++, obj) :
  /* istanbul ignore next */
  (cov_2l17pxdpj8().b[0][1]++, {
    default: obj
  });
}
// Cache configuration
const CACHE_TTL =
/* istanbul ignore next */
(cov_2l17pxdpj8().s[14]++, {
  LIST: 120,
  STATS: 300,
  SEARCH_SUGGESTIONS: 600
});
// Database query optimization helpers
/* istanbul ignore next */
cov_2l17pxdpj8().s[15]++;
const getOptimizedWhereClause = params => {
  /* istanbul ignore next */
  cov_2l17pxdpj8().f[6]++;
  const {
    search,
    status,
    supplierId,
    startDate,
    endDate
  } =
  /* istanbul ignore next */
  (cov_2l17pxdpj8().s[16]++, params);
  const whereClause =
  /* istanbul ignore next */
  (cov_2l17pxdpj8().s[17]++, {});
  // Optimized search with indexed fields
  /* istanbul ignore next */
  cov_2l17pxdpj8().s[18]++;
  if (search) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().b[2][0]++;
    cov_2l17pxdpj8().s[19]++;
    whereClause.OR = [{
      invoiceNumber: {
        contains: search,
        mode: "insensitive"
      }
    }, {
      supplier: {
        name: {
          contains: search,
          mode: "insensitive"
        }
      }
    }];
  } else
  /* istanbul ignore next */
  {
    cov_2l17pxdpj8().b[2][1]++;
  }
  cov_2l17pxdpj8().s[20]++;
  if (status) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().b[3][0]++;
    cov_2l17pxdpj8().s[21]++;
    whereClause.status = status;
  } else
  /* istanbul ignore next */
  {
    cov_2l17pxdpj8().b[3][1]++;
  }
  cov_2l17pxdpj8().s[22]++;
  if (supplierId) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().b[4][0]++;
    cov_2l17pxdpj8().s[23]++;
    whereClause.supplierId = parseInt(supplierId);
  } else
  /* istanbul ignore next */
  {
    cov_2l17pxdpj8().b[4][1]++;
  }
  // Optimized date range queries
  cov_2l17pxdpj8().s[24]++;
  if (
  /* istanbul ignore next */
  (cov_2l17pxdpj8().b[6][0]++, startDate) &&
  /* istanbul ignore next */
  (cov_2l17pxdpj8().b[6][1]++, endDate)) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().b[5][0]++;
    cov_2l17pxdpj8().s[25]++;
    whereClause.date = {
      gte: new Date(startDate),
      lte: new Date(endDate)
    };
  } else {
    /* istanbul ignore next */
    cov_2l17pxdpj8().b[5][1]++;
    cov_2l17pxdpj8().s[26]++;
    if (startDate) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[7][0]++;
      cov_2l17pxdpj8().s[27]++;
      whereClause.date = {
        gte: new Date(startDate)
      };
    } else {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[7][1]++;
      cov_2l17pxdpj8().s[28]++;
      if (endDate) {
        /* istanbul ignore next */
        cov_2l17pxdpj8().b[8][0]++;
        cov_2l17pxdpj8().s[29]++;
        whereClause.date = {
          lte: new Date(endDate)
        };
      } else
      /* istanbul ignore next */
      {
        cov_2l17pxdpj8().b[8][1]++;
      }
    }
  }
  /* istanbul ignore next */
  cov_2l17pxdpj8().s[30]++;
  return whereClause;
};
// Optimized select fields to reduce data transfer
/* istanbul ignore next */
cov_2l17pxdpj8().s[31]++;
const getOptimizedSelectFields = (includeItems =
/* istanbul ignore next */
(cov_2l17pxdpj8().b[9][0]++, false)) => {
  /* istanbul ignore next */
  cov_2l17pxdpj8().f[7]++;
  const baseSelect =
  /* istanbul ignore next */
  (cov_2l17pxdpj8().s[32]++, {
    id: true,
    invoiceNumber: true,
    date: true,
    totalAmount: true,
    status: true,
    supplierId: true,
    createdAt: true,
    updatedAt: true,
    supplier: {
      select: {
        id: true,
        name: true,
        email: true,
        phone: true
      }
    }
  });
  /* istanbul ignore next */
  cov_2l17pxdpj8().s[33]++;
  if (includeItems) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().b[10][0]++;
    cov_2l17pxdpj8().s[34]++;
    return {
      ...baseSelect,
      items: {
        select: {
          id: true,
          quantity: true,
          unitPrice: true,
          totalPrice: true,
          productId: true,
          product: {
            select: {
              id: true,
              name: true,
              sku: true
            }
          }
        }
      }
    };
  } else
  /* istanbul ignore next */
  {
    cov_2l17pxdpj8().b[10][1]++;
  }
  cov_2l17pxdpj8().s[35]++;
  return baseSelect;
};
async function GET(request) {
  /* istanbul ignore next */
  cov_2l17pxdpj8().f[8]++;
  cov_2l17pxdpj8().s[36]++;
  try {
    // Authentication check
    const token =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[37]++, await (0, _jwt.getToken)({
      req: request
    }));
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[38]++;
    if (!token) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[11][0]++;
      cov_2l17pxdpj8().s[39]++;
      return _server.NextResponse.json({
        error: "Unauthorized"
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[11][1]++;
    }
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[40]++, new URL(request.url));
    const search =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[41]++,
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[12][0]++, searchParams.get("search")) ||
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[12][1]++, ""));
    const status =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[42]++, searchParams.get("status"));
    const supplierId =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[43]++, searchParams.get("supplierId"));
    const startDate =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[44]++, searchParams.get("startDate"));
    const endDate =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[45]++, searchParams.get("endDate"));
    const page =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[46]++, parseInt(
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[13][0]++, searchParams.get("page")) ||
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[13][1]++, "1")));
    const limit =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[47]++, Math.min(parseInt(
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[14][0]++, searchParams.get("limit")) ||
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[14][1]++, "20")), 100)); // Cap at 100
    const includeItems =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[48]++, searchParams.get("includeItems") === "true");
    const export_data =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[49]++, searchParams.get("export") === "true");
    const statsOnly =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[50]++, searchParams.get("statsOnly") === "true");
    const searchSuggestions =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[51]++, searchParams.get("suggestions") === "true");
    const skip =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[52]++, (page - 1) * limit);
    // Generate cache key
    const cacheKey =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[53]++, `purchases-optimized-${JSON.stringify({
      search,
      status,
      supplierId,
      startDate,
      endDate,
      page,
      limit,
      includeItems,
      statsOnly,
      searchSuggestions
    })}`);
    // Handle search suggestions
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[54]++;
    if (
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[16][0]++, searchSuggestions) &&
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[16][1]++, search)) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[15][0]++;
      cov_2l17pxdpj8().s[55]++;
      return (0, _requestdeduplication.deduplicateRequest)(cacheKey, async () => {
        /* istanbul ignore next */
        cov_2l17pxdpj8().f[9]++;
        const cached =
        /* istanbul ignore next */
        (cov_2l17pxdpj8().s[56]++, await _cache.cacheService.get(cacheKey));
        /* istanbul ignore next */
        cov_2l17pxdpj8().s[57]++;
        if (cached) {
          /* istanbul ignore next */
          cov_2l17pxdpj8().b[17][0]++;
          cov_2l17pxdpj8().s[58]++;
          return _server.NextResponse.json(cached);
        } else
        /* istanbul ignore next */
        {
          cov_2l17pxdpj8().b[17][1]++;
        }
        // Get unique invoice numbers and supplier names that match the search
        const [invoiceNumbers, supplierNames] =
        /* istanbul ignore next */
        (cov_2l17pxdpj8().s[59]++, await Promise.all([_prisma.default.purchaseInvoice.findMany({
          where: {
            invoiceNumber: {
              contains: search,
              mode: "insensitive"
            }
          },
          select: {
            invoiceNumber: true
          },
          distinct: ["invoiceNumber"],
          take: 5
        }), _prisma.default.supplier.findMany({
          where: {
            name: {
              contains: search,
              mode: "insensitive"
            }
          },
          select: {
            name: true
          },
          take: 5
        })]));
        const suggestions =
        /* istanbul ignore next */
        (cov_2l17pxdpj8().s[60]++, [...invoiceNumbers.map(inv => {
          /* istanbul ignore next */
          cov_2l17pxdpj8().f[10]++;
          cov_2l17pxdpj8().s[61]++;
          return inv.invoiceNumber;
        }), ...supplierNames.map(sup => {
          /* istanbul ignore next */
          cov_2l17pxdpj8().f[11]++;
          cov_2l17pxdpj8().s[62]++;
          return sup.name;
        })].slice(0, 10));
        /* istanbul ignore next */
        cov_2l17pxdpj8().s[63]++;
        await _cache.cacheService.set(cacheKey, suggestions, CACHE_TTL.SEARCH_SUGGESTIONS);
        /* istanbul ignore next */
        cov_2l17pxdpj8().s[64]++;
        return _server.NextResponse.json(suggestions);
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[15][1]++;
    }
    // Handle statistics only
    cov_2l17pxdpj8().s[65]++;
    if (statsOnly) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[18][0]++;
      cov_2l17pxdpj8().s[66]++;
      return (0, _requestdeduplication.deduplicateRequest)(cacheKey, async () => {
        /* istanbul ignore next */
        cov_2l17pxdpj8().f[12]++;
        const cached =
        /* istanbul ignore next */
        (cov_2l17pxdpj8().s[67]++, await _cache.cacheService.get(cacheKey));
        /* istanbul ignore next */
        cov_2l17pxdpj8().s[68]++;
        if (cached) {
          /* istanbul ignore next */
          cov_2l17pxdpj8().b[19][0]++;
          cov_2l17pxdpj8().s[69]++;
          return _server.NextResponse.json(cached);
        } else
        /* istanbul ignore next */
        {
          cov_2l17pxdpj8().b[19][1]++;
        }
        const whereClause =
        /* istanbul ignore next */
        (cov_2l17pxdpj8().s[70]++, getOptimizedWhereClause({
          search,
          status,
          supplierId,
          startDate,
          endDate
        }));
        const [totalCount, totalAmount, statusCounts] =
        /* istanbul ignore next */
        (cov_2l17pxdpj8().s[71]++, await Promise.all([_prisma.default.purchaseInvoice.count({
          where: whereClause
        }), _prisma.default.purchaseInvoice.aggregate({
          where: whereClause,
          _sum: {
            totalAmount: true
          }
        }), _prisma.default.purchaseInvoice.groupBy({
          by: ["status"],
          where: whereClause,
          _count: {
            status: true
          }
        })]));
        const stats =
        /* istanbul ignore next */
        (cov_2l17pxdpj8().s[72]++, {
          totalCount,
          totalAmount:
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[20][0]++, totalAmount._sum.totalAmount) ||
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[20][1]++, 0),
          statusBreakdown: statusCounts.reduce((acc, item) => {
            /* istanbul ignore next */
            cov_2l17pxdpj8().f[13]++;
            cov_2l17pxdpj8().s[73]++;
            acc[item.status] = item._count.status;
            /* istanbul ignore next */
            cov_2l17pxdpj8().s[74]++;
            return acc;
          }, {})
        });
        /* istanbul ignore next */
        cov_2l17pxdpj8().s[75]++;
        await _cache.cacheService.set(cacheKey, stats, CACHE_TTL.STATS);
        /* istanbul ignore next */
        cov_2l17pxdpj8().s[76]++;
        return _server.NextResponse.json(stats);
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[18][1]++;
    }
    // Handle export
    cov_2l17pxdpj8().s[77]++;
    if (export_data) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[21][0]++;
      const whereClause =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[78]++, getOptimizedWhereClause({
        search,
        status,
        supplierId,
        startDate,
        endDate
      }));
      const purchases =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[79]++, await _prisma.default.purchaseInvoice.findMany({
        where: whereClause,
        select: getOptimizedSelectFields(true),
        orderBy: {
          date: "desc"
        }
      }));
      // Convert to CSV
      const csvHeaders =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[80]++, ["Invoice Number", "Supplier", "Date", "Total Amount", "Status", "Items Count", "Created At"]);
      const csvRows =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[81]++, purchases.map(purchase => {
        /* istanbul ignore next */
        cov_2l17pxdpj8().f[14]++;
        cov_2l17pxdpj8().s[82]++;
        return [purchase.invoiceNumber,
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[22][0]++, purchase.supplier?.name) ||
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[22][1]++, "N/A"), new Date(purchase.date).toLocaleDateString(),
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[23][0]++, purchase.totalAmount?.toString()) ||
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[23][1]++, "0"), purchase.status,
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[24][0]++, purchase.items?.length.toString()) ||
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[24][1]++, "0"), new Date(purchase.createdAt).toLocaleDateString()];
      }));
      const csvContent =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[83]++, [csvHeaders, ...csvRows].map(row => {
        /* istanbul ignore next */
        cov_2l17pxdpj8().f[15]++;
        cov_2l17pxdpj8().s[84]++;
        return row.map(field => {
          /* istanbul ignore next */
          cov_2l17pxdpj8().f[16]++;
          cov_2l17pxdpj8().s[85]++;
          return `"${field}"`;
        }).join(",");
      }).join("\n"));
      /* istanbul ignore next */
      cov_2l17pxdpj8().s[86]++;
      return new _server.NextResponse(csvContent, {
        headers: {
          "Content-Type": "text/csv",
          "Content-Disposition": `attachment; filename="purchase-invoices-${new Date().toISOString().split("T")[0]}.csv"`
        }
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[21][1]++;
    }
    // Main list query with caching and deduplication
    cov_2l17pxdpj8().s[87]++;
    return (0, _requestdeduplication.deduplicateRequest)(cacheKey, async () => {
      /* istanbul ignore next */
      cov_2l17pxdpj8().f[17]++;
      const cached =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[88]++, await _cache.cacheService.get(cacheKey));
      /* istanbul ignore next */
      cov_2l17pxdpj8().s[89]++;
      if (cached) {
        /* istanbul ignore next */
        cov_2l17pxdpj8().b[25][0]++;
        cov_2l17pxdpj8().s[90]++;
        return _server.NextResponse.json(cached);
      } else
      /* istanbul ignore next */
      {
        cov_2l17pxdpj8().b[25][1]++;
      }
      const whereClause =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[91]++, getOptimizedWhereClause({
        search,
        status,
        supplierId,
        startDate,
        endDate
      }));
      // Use transaction for consistency and performance
      const [purchases, totalCount] =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[92]++, await _prisma.default.$transaction([_prisma.default.purchaseInvoice.findMany({
        where: whereClause,
        select: getOptimizedSelectFields(includeItems),
        orderBy: [{
          date: "desc"
        }, {
          createdAt: "desc"
        }],
        skip,
        take: limit
      }), _prisma.default.purchaseInvoice.count({
        where: whereClause
      })]));
      const totalPages =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[93]++, Math.ceil(totalCount / limit));
      const response =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[94]++, {
        data: purchases,
        pagination: {
          page,
          limit,
          total: totalCount,
          totalPages,
          hasNextPage: page < totalPages,
          hasPreviousPage: page > 1
        },
        meta: {
          cached: false,
          timestamp: new Date().toISOString()
        }
      });
      // Cache the response
      /* istanbul ignore next */
      cov_2l17pxdpj8().s[95]++;
      await _cache.cacheService.set(cacheKey, response, CACHE_TTL.LIST);
      /* istanbul ignore next */
      cov_2l17pxdpj8().s[96]++;
      return _server.NextResponse.json(response);
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[97]++;
    console.error("Error in optimized purchases API:", error);
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[98]++;
    return _server.NextResponse.json({
      error: "Internal server error",
      message: process.env.NODE_ENV === "development" ?
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[26][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[26][1]++, "Something went wrong")
    }, {
      status: 500
    });
  }
}
async function POST(request) {
  /* istanbul ignore next */
  cov_2l17pxdpj8().f[18]++;
  cov_2l17pxdpj8().s[99]++;
  try {
    const token =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[100]++, await (0, _jwt.getToken)({
      req: request
    }));
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[101]++;
    if (!token) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[27][0]++;
      cov_2l17pxdpj8().s[102]++;
      return _server.NextResponse.json({
        error: "Unauthorized"
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[27][1]++;
    }
    const body =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[103]++, await request.json());
    const {
      invoiceNumber,
      supplierId,
      date,
      items,
      notes,
      status =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[28][0]++, "unpaid")
    } =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[104]++, body);
    // Validation
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[105]++;
    if (
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[30][0]++, !invoiceNumber) ||
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[30][1]++, !supplierId) ||
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[30][2]++, !date) ||
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[30][3]++, !items) ||
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[30][4]++, !Array.isArray(items)) ||
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[30][5]++, items.length === 0)) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[29][0]++;
      cov_2l17pxdpj8().s[106]++;
      return _server.NextResponse.json({
        error: "Missing required fields: invoiceNumber, supplierId, date, items"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[29][1]++;
    }
    // Calculate total amount
    const totalAmount =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[107]++, items.reduce((sum, item) => {
      /* istanbul ignore next */
      cov_2l17pxdpj8().f[19]++;
      cov_2l17pxdpj8().s[108]++;
      return sum + item.quantity * item.unitPrice;
    }, 0));
    // Use transaction for data consistency
    const result =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[109]++, await _prisma.default.$transaction(async tx => {
      /* istanbul ignore next */
      cov_2l17pxdpj8().f[20]++;
      // Create the purchase invoice
      const purchaseInvoice =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[110]++, await tx.purchaseInvoice.create({
        data: {
          invoiceNumber,
          supplierId: parseInt(supplierId),
          date: new Date(date),
          totalAmount,
          status,
          notes,
          items: {
            create: items.map(item => {
              /* istanbul ignore next */
              cov_2l17pxdpj8().f[21]++;
              cov_2l17pxdpj8().s[111]++;
              return {
                productId: item.productId,
                quantity: item.quantity,
                unitPrice: item.unitPrice,
                totalPrice: item.quantity * item.unitPrice
              };
            })
          }
        },
        include: {
          supplier: {
            select: {
              id: true,
              name: true,
              email: true,
              phone: true
            }
          },
          items: {
            include: {
              product: {
                select: {
                  id: true,
                  name: true,
                  sku: true
                }
              }
            }
          }
        }
      }));
      // Update inventory levels if status is paid
      /* istanbul ignore next */
      cov_2l17pxdpj8().s[112]++;
      if (status === "paid") {
        /* istanbul ignore next */
        cov_2l17pxdpj8().b[31][0]++;
        cov_2l17pxdpj8().s[113]++;
        for (const item of items) {
          /* istanbul ignore next */
          cov_2l17pxdpj8().s[114]++;
          await tx.inventory.updateMany({
            where: {
              productId: item.productId
            },
            data: {
              quantity: {
                increment: item.quantity
              }
            }
          });
        }
      } else
      /* istanbul ignore next */
      {
        cov_2l17pxdpj8().b[31][1]++;
      }
      cov_2l17pxdpj8().s[115]++;
      return purchaseInvoice;
    }));
    // Clear related caches
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[116]++;
    await Promise.all([_cache.cacheService.clear("purchases-optimized"), _cache.cacheService.clear("purchase-stats"), _cache.cacheService.clear("inventory")]);
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[117]++;
    return _server.NextResponse.json({
      success: true,
      data: result,
      message: "Purchase invoice created successfully"
    }, {
      status: 201
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[118]++;
    console.error("Error creating purchase invoice:", error);
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[119]++;
    return _server.NextResponse.json({
      error: "Failed to create purchase invoice",
      message: process.env.NODE_ENV === "development" ?
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[32][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[32][1]++, "Something went wrong")
    }, {
      status: 500
    });
  }
}
async function PUT(request) {
  /* istanbul ignore next */
  cov_2l17pxdpj8().f[22]++;
  cov_2l17pxdpj8().s[120]++;
  try {
    const token =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[121]++, await (0, _jwt.getToken)({
      req: request
    }));
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[122]++;
    if (!token) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[33][0]++;
      cov_2l17pxdpj8().s[123]++;
      return _server.NextResponse.json({
        error: "Unauthorized"
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[33][1]++;
    }
    const url =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[124]++, new URL(request.url));
    const id =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[125]++, url.pathname.split("/").pop());
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[126]++;
    if (!id) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[34][0]++;
      cov_2l17pxdpj8().s[127]++;
      return _server.NextResponse.json({
        error: "Invoice ID is required"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[34][1]++;
    }
    const body =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[128]++, await request.json());
    const {
      invoiceNumber,
      supplierId,
      date,
      items,
      notes,
      status
    } =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[129]++, body);
    // Calculate total amount if items are provided
    const totalAmount =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[130]++, items ?
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[35][0]++, items.reduce((sum, item) => {
      /* istanbul ignore next */
      cov_2l17pxdpj8().f[23]++;
      cov_2l17pxdpj8().s[131]++;
      return sum + item.quantity * item.unitPrice;
    }, 0)) :
    /* istanbul ignore next */
    (cov_2l17pxdpj8().b[35][1]++, undefined));
    const result =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[132]++, await _prisma.default.$transaction(async tx => {
      /* istanbul ignore next */
      cov_2l17pxdpj8().f[24]++;
      // Get current invoice for comparison
      const currentInvoice =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[133]++, await tx.purchaseInvoice.findUnique({
        where: {
          id: parseInt(id)
        },
        include: {
          items: true
        }
      }));
      /* istanbul ignore next */
      cov_2l17pxdpj8().s[134]++;
      if (!currentInvoice) {
        /* istanbul ignore next */
        cov_2l17pxdpj8().b[36][0]++;
        cov_2l17pxdpj8().s[135]++;
        throw new Error("Purchase invoice not found");
      } else
      /* istanbul ignore next */
      {
        cov_2l17pxdpj8().b[36][1]++;
      }
      // Update the purchase invoice
      const updatedInvoice =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[136]++, await tx.purchaseInvoice.update({
        where: {
          id: parseInt(id)
        },
        data: {
          ...(
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[37][0]++, invoiceNumber) &&
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[37][1]++, {
            invoiceNumber
          })),
          ...(
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[38][0]++, supplierId) &&
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[38][1]++, {
            supplierId: parseInt(supplierId)
          })),
          ...(
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[39][0]++, date) &&
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[39][1]++, {
            date: new Date(date)
          })),
          ...(
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[40][0]++, totalAmount !== undefined) &&
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[40][1]++, {
            totalAmount
          })),
          ...(
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[41][0]++, status) &&
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[41][1]++, {
            status
          })),
          ...(
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[42][0]++, notes !== undefined) &&
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[42][1]++, {
            notes
          })),
          ...(
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[43][0]++, items) &&
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[43][1]++, {
            items: {
              deleteMany: {},
              create: items.map(item => {
                /* istanbul ignore next */
                cov_2l17pxdpj8().f[25]++;
                cov_2l17pxdpj8().s[137]++;
                return {
                  productId: item.productId,
                  quantity: item.quantity,
                  unitPrice: item.unitPrice,
                  totalPrice: item.quantity * item.unitPrice
                };
              })
            }
          }))
        },
        include: {
          supplier: {
            select: {
              id: true,
              name: true,
              email: true,
              phone: true
            }
          },
          items: {
            include: {
              product: {
                select: {
                  id: true,
                  name: true,
                  sku: true
                }
              }
            }
          }
        }
      }));
      // Handle inventory updates if status changed to/from paid
      /* istanbul ignore next */
      cov_2l17pxdpj8().s[138]++;
      if (
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[45][0]++, status) &&
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[45][1]++, status !== currentInvoice.status)) {
        /* istanbul ignore next */
        cov_2l17pxdpj8().b[44][0]++;
        const itemsToProcess =
        /* istanbul ignore next */
        (cov_2l17pxdpj8().s[139]++,
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[46][0]++, items) ||
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[46][1]++, currentInvoice.items));
        /* istanbul ignore next */
        cov_2l17pxdpj8().s[140]++;
        if (
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[48][0]++, status === "paid") &&
        /* istanbul ignore next */
        (cov_2l17pxdpj8().b[48][1]++, currentInvoice.status !== "paid")) {
          /* istanbul ignore next */
          cov_2l17pxdpj8().b[47][0]++;
          cov_2l17pxdpj8().s[141]++;
          // Add to inventory
          for (const item of itemsToProcess) {
            /* istanbul ignore next */
            cov_2l17pxdpj8().s[142]++;
            await tx.inventory.updateMany({
              where: {
                productId: item.productId
              },
              data: {
                quantity: {
                  increment: item.quantity
                }
              }
            });
          }
        } else {
          /* istanbul ignore next */
          cov_2l17pxdpj8().b[47][1]++;
          cov_2l17pxdpj8().s[143]++;
          if (
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[50][0]++, status !== "paid") &&
          /* istanbul ignore next */
          (cov_2l17pxdpj8().b[50][1]++, currentInvoice.status === "paid")) {
            /* istanbul ignore next */
            cov_2l17pxdpj8().b[49][0]++;
            cov_2l17pxdpj8().s[144]++;
            // Remove from inventory
            for (const item of itemsToProcess) {
              /* istanbul ignore next */
              cov_2l17pxdpj8().s[145]++;
              await tx.inventory.updateMany({
                where: {
                  productId: item.productId
                },
                data: {
                  quantity: {
                    decrement: item.quantity
                  }
                }
              });
            }
          } else
          /* istanbul ignore next */
          {
            cov_2l17pxdpj8().b[49][1]++;
          }
        }
      } else
      /* istanbul ignore next */
      {
        cov_2l17pxdpj8().b[44][1]++;
      }
      cov_2l17pxdpj8().s[146]++;
      return updatedInvoice;
    }));
    // Clear related caches
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[147]++;
    await Promise.all([_cache.cacheService.clear("purchases-optimized"), _cache.cacheService.clear("purchase-stats"), _cache.cacheService.clear("inventory")]);
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[148]++;
    return _server.NextResponse.json({
      success: true,
      data: result,
      message: "Purchase invoice updated successfully"
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[149]++;
    console.error("Error updating purchase invoice:", error);
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[150]++;
    return _server.NextResponse.json({
      error: "Failed to update purchase invoice",
      message: process.env.NODE_ENV === "development" ?
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[51][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[51][1]++, "Something went wrong")
    }, {
      status: 500
    });
  }
}
async function DELETE(request) {
  /* istanbul ignore next */
  cov_2l17pxdpj8().f[26]++;
  cov_2l17pxdpj8().s[151]++;
  try {
    const token =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[152]++, await (0, _jwt.getToken)({
      req: request
    }));
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[153]++;
    if (!token) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[52][0]++;
      cov_2l17pxdpj8().s[154]++;
      return _server.NextResponse.json({
        error: "Unauthorized"
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[52][1]++;
    }
    const url =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[155]++, new URL(request.url));
    const id =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[156]++, url.pathname.split("/").pop());
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[157]++;
    if (!id) {
      /* istanbul ignore next */
      cov_2l17pxdpj8().b[53][0]++;
      cov_2l17pxdpj8().s[158]++;
      return _server.NextResponse.json({
        error: "Invoice ID is required"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2l17pxdpj8().b[53][1]++;
    }
    const result =
    /* istanbul ignore next */
    (cov_2l17pxdpj8().s[159]++, await _prisma.default.$transaction(async tx => {
      /* istanbul ignore next */
      cov_2l17pxdpj8().f[27]++;
      // Get invoice details before deletion
      const invoice =
      /* istanbul ignore next */
      (cov_2l17pxdpj8().s[160]++, await tx.purchaseInvoice.findUnique({
        where: {
          id: parseInt(id)
        },
        include: {
          items: true
        }
      }));
      /* istanbul ignore next */
      cov_2l17pxdpj8().s[161]++;
      if (!invoice) {
        /* istanbul ignore next */
        cov_2l17pxdpj8().b[54][0]++;
        cov_2l17pxdpj8().s[162]++;
        throw new Error("Purchase invoice not found");
      } else
      /* istanbul ignore next */
      {
        cov_2l17pxdpj8().b[54][1]++;
      }
      // If invoice was paid, adjust inventory
      cov_2l17pxdpj8().s[163]++;
      if (invoice.status === "paid") {
        /* istanbul ignore next */
        cov_2l17pxdpj8().b[55][0]++;
        cov_2l17pxdpj8().s[164]++;
        for (const item of invoice.items) {
          /* istanbul ignore next */
          cov_2l17pxdpj8().s[165]++;
          await tx.inventory.updateMany({
            where: {
              productId: item.productId
            },
            data: {
              quantity: {
                decrement: item.quantity
              }
            }
          });
        }
      } else
      /* istanbul ignore next */
      {
        cov_2l17pxdpj8().b[55][1]++;
      }
      // Delete the invoice (items will be deleted due to cascade)
      cov_2l17pxdpj8().s[166]++;
      await tx.purchaseInvoice.delete({
        where: {
          id: parseInt(id)
        }
      });
      /* istanbul ignore next */
      cov_2l17pxdpj8().s[167]++;
      return invoice;
    }));
    // Clear related caches
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[168]++;
    await Promise.all([_cache.cacheService.clear("purchases-optimized"), _cache.cacheService.clear("purchase-stats"), _cache.cacheService.clear("inventory")]);
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[169]++;
    return _server.NextResponse.json({
      success: true,
      message: "Purchase invoice deleted successfully"
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[170]++;
    console.error("Error deleting purchase invoice:", error);
    /* istanbul ignore next */
    cov_2l17pxdpj8().s[171]++;
    return _server.NextResponse.json({
      error: "Failed to delete purchase invoice",
      message: process.env.NODE_ENV === "development" ?
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[56][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2l17pxdpj8().b[56][1]++, "Something went wrong")
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUxFVEUiLCJjb3ZfMmwxN3B4ZHBqOCIsImYiLCJzIiwiR0VUIiwiUE9TVCIsIlBVVCIsIkNBQ0hFX1RUTCIsIkxJU1QiLCJTVEFUUyIsIlNFQVJDSF9TVUdHRVNUSU9OUyIsImdldE9wdGltaXplZFdoZXJlQ2xhdXNlIiwicGFyYW1zIiwic2VhcmNoIiwic3RhdHVzIiwic3VwcGxpZXJJZCIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ3aGVyZUNsYXVzZSIsImIiLCJPUiIsImludm9pY2VOdW1iZXIiLCJjb250YWlucyIsIm1vZGUiLCJzdXBwbGllciIsIm5hbWUiLCJwYXJzZUludCIsImRhdGUiLCJndGUiLCJEYXRlIiwibHRlIiwiZ2V0T3B0aW1pemVkU2VsZWN0RmllbGRzIiwiaW5jbHVkZUl0ZW1zIiwiYmFzZVNlbGVjdCIsImlkIiwidG90YWxBbW91bnQiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJzZWxlY3QiLCJlbWFpbCIsInBob25lIiwiaXRlbXMiLCJxdWFudGl0eSIsInVuaXRQcmljZSIsInRvdGFsUHJpY2UiLCJwcm9kdWN0SWQiLCJwcm9kdWN0Iiwic2t1IiwicmVxdWVzdCIsInRva2VuIiwiX2p3dCIsImdldFRva2VuIiwicmVxIiwiX3NlcnZlciIsIk5leHRSZXNwb25zZSIsImpzb24iLCJlcnJvciIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImdldCIsInBhZ2UiLCJsaW1pdCIsIk1hdGgiLCJtaW4iLCJleHBvcnRfZGF0YSIsInN0YXRzT25seSIsInNlYXJjaFN1Z2dlc3Rpb25zIiwic2tpcCIsImNhY2hlS2V5IiwiSlNPTiIsInN0cmluZ2lmeSIsIl9yZXF1ZXN0ZGVkdXBsaWNhdGlvbiIsImRlZHVwbGljYXRlUmVxdWVzdCIsImNhY2hlZCIsIl9jYWNoZSIsImNhY2hlU2VydmljZSIsImludm9pY2VOdW1iZXJzIiwic3VwcGxpZXJOYW1lcyIsIlByb21pc2UiLCJhbGwiLCJfcHJpc21hIiwiZGVmYXVsdCIsInB1cmNoYXNlSW52b2ljZSIsImZpbmRNYW55Iiwid2hlcmUiLCJkaXN0aW5jdCIsInRha2UiLCJzdWdnZXN0aW9ucyIsIm1hcCIsImludiIsInN1cCIsInNsaWNlIiwic2V0IiwidG90YWxDb3VudCIsInN0YXR1c0NvdW50cyIsImNvdW50IiwiYWdncmVnYXRlIiwiX3N1bSIsImdyb3VwQnkiLCJieSIsIl9jb3VudCIsInN0YXRzIiwic3RhdHVzQnJlYWtkb3duIiwicmVkdWNlIiwiYWNjIiwiaXRlbSIsInB1cmNoYXNlcyIsIm9yZGVyQnkiLCJjc3ZIZWFkZXJzIiwiY3N2Um93cyIsInB1cmNoYXNlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwidG9TdHJpbmciLCJsZW5ndGgiLCJjc3ZDb250ZW50Iiwicm93IiwiZmllbGQiLCJqb2luIiwiaGVhZGVycyIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCIkdHJhbnNhY3Rpb24iLCJ0b3RhbFBhZ2VzIiwiY2VpbCIsInJlc3BvbnNlIiwiZGF0YSIsInBhZ2luYXRpb24iLCJ0b3RhbCIsImhhc05leHRQYWdlIiwiaGFzUHJldmlvdXNQYWdlIiwibWV0YSIsInRpbWVzdGFtcCIsImNvbnNvbGUiLCJtZXNzYWdlIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiYm9keSIsIm5vdGVzIiwiQXJyYXkiLCJpc0FycmF5Iiwic3VtIiwicmVzdWx0IiwidHgiLCJjcmVhdGUiLCJpbmNsdWRlIiwiaW52ZW50b3J5IiwidXBkYXRlTWFueSIsImluY3JlbWVudCIsImNsZWFyIiwic3VjY2VzcyIsInBhdGhuYW1lIiwicG9wIiwidW5kZWZpbmVkIiwiY3VycmVudEludm9pY2UiLCJmaW5kVW5pcXVlIiwiRXJyb3IiLCJ1cGRhdGVkSW52b2ljZSIsInVwZGF0ZSIsImRlbGV0ZU1hbnkiLCJpdGVtc1RvUHJvY2VzcyIsImRlY3JlbWVudCIsImludm9pY2UiLCJkZWxldGUiXSwic291cmNlcyI6WyIvVXNlcnMvc2FjaGluL0RvY3VtZW50cy9tZC1zcG9ydHMtL3NyYy9hcHAvYXBpL3B1cmNoYXNlcy9vcHRpbWl6ZWQvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvcHJpc21hJztcbmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnbmV4dC1hdXRoL2p3dCc7XG5pbXBvcnQgeyBjYWNoZVNlcnZpY2UgfSBmcm9tICdAL2xpYi9jYWNoZSc7XG5pbXBvcnQgeyBkZWR1cGxpY2F0ZVJlcXVlc3QgfSBmcm9tICdAL2xpYi9yZXF1ZXN0LWRlZHVwbGljYXRpb24nO1xuXG4vLyBDYWNoZSBjb25maWd1cmF0aW9uXG5jb25zdCBDQUNIRV9UVEwgPSB7XG4gIExJU1Q6IDEyMCwgLy8gMiBtaW51dGVzIGZvciBsaXN0IHF1ZXJpZXNcbiAgU1RBVFM6IDMwMCwgLy8gNSBtaW51dGVzIGZvciBzdGF0aXN0aWNzXG4gIFNFQVJDSF9TVUdHRVNUSU9OUzogNjAwLCAvLyAxMCBtaW51dGVzIGZvciBzZWFyY2ggc3VnZ2VzdGlvbnNcbn07XG5cbi8vIERhdGFiYXNlIHF1ZXJ5IG9wdGltaXphdGlvbiBoZWxwZXJzXG5jb25zdCBnZXRPcHRpbWl6ZWRXaGVyZUNsYXVzZSA9IChwYXJhbXM6IHtcbiAgc2VhcmNoPzogc3RyaW5nO1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIHN1cHBsaWVySWQ/OiBzdHJpbmc7XG4gIHN0YXJ0RGF0ZT86IHN0cmluZztcbiAgZW5kRGF0ZT86IHN0cmluZztcbn0pID0+IHtcbiAgY29uc3QgeyBzZWFyY2gsIHN0YXR1cywgc3VwcGxpZXJJZCwgc3RhcnREYXRlLCBlbmREYXRlIH0gPSBwYXJhbXM7XG4gIGNvbnN0IHdoZXJlQ2xhdXNlOiBhbnkgPSB7fTtcblxuICAvLyBPcHRpbWl6ZWQgc2VhcmNoIHdpdGggaW5kZXhlZCBmaWVsZHNcbiAgaWYgKHNlYXJjaCkge1xuICAgIHdoZXJlQ2xhdXNlLk9SID0gW1xuICAgICAge1xuICAgICAgICBpbnZvaWNlTnVtYmVyOiB7XG4gICAgICAgICAgY29udGFpbnM6IHNlYXJjaCxcbiAgICAgICAgICBtb2RlOiAnaW5zZW5zaXRpdmUnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHN1cHBsaWVyOiB7XG4gICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgY29udGFpbnM6IHNlYXJjaCxcbiAgICAgICAgICAgIG1vZGU6ICdpbnNlbnNpdGl2ZSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICB9XG5cbiAgaWYgKHN0YXR1cykge1xuICAgIHdoZXJlQ2xhdXNlLnN0YXR1cyA9IHN0YXR1cztcbiAgfVxuXG4gIGlmIChzdXBwbGllcklkKSB7XG4gICAgd2hlcmVDbGF1c2Uuc3VwcGxpZXJJZCA9IHBhcnNlSW50KHN1cHBsaWVySWQpO1xuICB9XG5cbiAgLy8gT3B0aW1pemVkIGRhdGUgcmFuZ2UgcXVlcmllc1xuICBpZiAoc3RhcnREYXRlICYmIGVuZERhdGUpIHtcbiAgICB3aGVyZUNsYXVzZS5kYXRlID0ge1xuICAgICAgZ3RlOiBuZXcgRGF0ZShzdGFydERhdGUpLFxuICAgICAgbHRlOiBuZXcgRGF0ZShlbmREYXRlKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoc3RhcnREYXRlKSB7XG4gICAgd2hlcmVDbGF1c2UuZGF0ZSA9IHtcbiAgICAgIGd0ZTogbmV3IERhdGUoc3RhcnREYXRlKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoZW5kRGF0ZSkge1xuICAgIHdoZXJlQ2xhdXNlLmRhdGUgPSB7XG4gICAgICBsdGU6IG5ldyBEYXRlKGVuZERhdGUpXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB3aGVyZUNsYXVzZTtcbn07XG5cbi8vIE9wdGltaXplZCBzZWxlY3QgZmllbGRzIHRvIHJlZHVjZSBkYXRhIHRyYW5zZmVyXG5jb25zdCBnZXRPcHRpbWl6ZWRTZWxlY3RGaWVsZHMgPSAoaW5jbHVkZUl0ZW1zID0gZmFsc2UpID0+IHtcbiAgY29uc3QgYmFzZVNlbGVjdCA9IHtcbiAgICBpZDogdHJ1ZSxcbiAgICBpbnZvaWNlTnVtYmVyOiB0cnVlLFxuICAgIGRhdGU6IHRydWUsXG4gICAgdG90YWxBbW91bnQ6IHRydWUsXG4gICAgc3RhdHVzOiB0cnVlLFxuICAgIHN1cHBsaWVySWQ6IHRydWUsXG4gICAgY3JlYXRlZEF0OiB0cnVlLFxuICAgIHVwZGF0ZWRBdDogdHJ1ZSxcbiAgICBzdXBwbGllcjoge1xuICAgICAgc2VsZWN0OiB7XG4gICAgICAgIGlkOiB0cnVlLFxuICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgcGhvbmU6IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgaWYgKGluY2x1ZGVJdGVtcykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5iYXNlU2VsZWN0LFxuICAgICAgaXRlbXM6IHtcbiAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgcXVhbnRpdHk6IHRydWUsXG4gICAgICAgICAgdW5pdFByaWNlOiB0cnVlLFxuICAgICAgICAgIHRvdGFsUHJpY2U6IHRydWUsXG4gICAgICAgICAgcHJvZHVjdElkOiB0cnVlLFxuICAgICAgICAgIHByb2R1Y3Q6IHtcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgc2t1OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBiYXNlU2VsZWN0O1xufTtcblxuLy8gR0VUIC9hcGkvcHVyY2hhc2VzL29wdGltaXplZCAtIE9wdGltaXplZCBwdXJjaGFzZSBpbnZvaWNlcyBlbmRwb2ludFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIEF1dGhlbnRpY2F0aW9uIGNoZWNrXG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRUb2tlbih7IHJlcTogcmVxdWVzdCB9KTtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoUGFyYW1zLmdldCgnc2VhcmNoJykgfHwgJyc7XG4gICAgY29uc3Qgc3RhdHVzID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhdHVzJyk7XG4gICAgY29uc3Qgc3VwcGxpZXJJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3N1cHBsaWVySWQnKTtcbiAgICBjb25zdCBzdGFydERhdGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdGFydERhdGUnKTtcbiAgICBjb25zdCBlbmREYXRlID0gc2VhcmNoUGFyYW1zLmdldCgnZW5kRGF0ZScpO1xuICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdwYWdlJykgfHwgJzEnKTtcbiAgICBjb25zdCBsaW1pdCA9IE1hdGgubWluKHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzIwJyksIDEwMCk7IC8vIENhcCBhdCAxMDBcbiAgICBjb25zdCBpbmNsdWRlSXRlbXMgPSBzZWFyY2hQYXJhbXMuZ2V0KCdpbmNsdWRlSXRlbXMnKSA9PT0gJ3RydWUnO1xuICAgIGNvbnN0IGV4cG9ydF9kYXRhID0gc2VhcmNoUGFyYW1zLmdldCgnZXhwb3J0JykgPT09ICd0cnVlJztcbiAgICBjb25zdCBzdGF0c09ubHkgPSBzZWFyY2hQYXJhbXMuZ2V0KCdzdGF0c09ubHknKSA9PT0gJ3RydWUnO1xuICAgIGNvbnN0IHNlYXJjaFN1Z2dlc3Rpb25zID0gc2VhcmNoUGFyYW1zLmdldCgnc3VnZ2VzdGlvbnMnKSA9PT0gJ3RydWUnO1xuXG4gICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcblxuICAgIC8vIEdlbmVyYXRlIGNhY2hlIGtleVxuICAgIGNvbnN0IGNhY2hlS2V5ID0gYHB1cmNoYXNlcy1vcHRpbWl6ZWQtJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICBzZWFyY2gsIHN0YXR1cywgc3VwcGxpZXJJZCwgc3RhcnREYXRlLCBlbmREYXRlLCBwYWdlLCBsaW1pdCwgaW5jbHVkZUl0ZW1zLCBzdGF0c09ubHksIHNlYXJjaFN1Z2dlc3Rpb25zXG4gICAgfSl9YDtcblxuICAgIC8vIEhhbmRsZSBzZWFyY2ggc3VnZ2VzdGlvbnNcbiAgICBpZiAoc2VhcmNoU3VnZ2VzdGlvbnMgJiYgc2VhcmNoKSB7XG4gICAgICByZXR1cm4gZGVkdXBsaWNhdGVSZXF1ZXN0KGNhY2hlS2V5LCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IGNhY2hlU2VydmljZS5nZXQoY2FjaGVLZXkpO1xuICAgICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGNhY2hlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdW5pcXVlIGludm9pY2UgbnVtYmVycyBhbmQgc3VwcGxpZXIgbmFtZXMgdGhhdCBtYXRjaCB0aGUgc2VhcmNoXG4gICAgICAgIGNvbnN0IFtpbnZvaWNlTnVtYmVycywgc3VwcGxpZXJOYW1lc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgcHJpc21hLnB1cmNoYXNlSW52b2ljZS5maW5kTWFueSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICBpbnZvaWNlTnVtYmVyOiB7XG4gICAgICAgICAgICAgICAgY29udGFpbnM6IHNlYXJjaCxcbiAgICAgICAgICAgICAgICBtb2RlOiAnaW5zZW5zaXRpdmUnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3Q6IHsgaW52b2ljZU51bWJlcjogdHJ1ZSB9LFxuICAgICAgICAgICAgZGlzdGluY3Q6IFsnaW52b2ljZU51bWJlciddLFxuICAgICAgICAgICAgdGFrZTogNVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHByaXNtYS5zdXBwbGllci5maW5kTWFueSh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICAgICAgY29udGFpbnM6IHNlYXJjaCxcbiAgICAgICAgICAgICAgICBtb2RlOiAnaW5zZW5zaXRpdmUnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3Q6IHsgbmFtZTogdHJ1ZSB9LFxuICAgICAgICAgICAgdGFrZTogNVxuICAgICAgICAgIH0pXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gW1xuICAgICAgICAgIC4uLmludm9pY2VOdW1iZXJzLm1hcChpbnYgPT4gaW52Lmludm9pY2VOdW1iZXIpLFxuICAgICAgICAgIC4uLnN1cHBsaWVyTmFtZXMubWFwKHN1cCA9PiBzdXAubmFtZSlcbiAgICAgICAgXS5zbGljZSgwLCAxMCk7XG5cbiAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLnNldChjYWNoZUtleSwgc3VnZ2VzdGlvbnMsIENBQ0hFX1RUTC5TRUFSQ0hfU1VHR0VTVElPTlMpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oc3VnZ2VzdGlvbnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHN0YXRpc3RpY3Mgb25seVxuICAgIGlmIChzdGF0c09ubHkpIHtcbiAgICAgIHJldHVybiBkZWR1cGxpY2F0ZVJlcXVlc3QoY2FjaGVLZXksIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgY2FjaGVkID0gYXdhaXQgY2FjaGVTZXJ2aWNlLmdldChjYWNoZUtleSk7XG4gICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oY2FjaGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdoZXJlQ2xhdXNlID0gZ2V0T3B0aW1pemVkV2hlcmVDbGF1c2UoeyBzZWFyY2gsIHN0YXR1cywgc3VwcGxpZXJJZCwgc3RhcnREYXRlLCBlbmREYXRlIH0pO1xuXG4gICAgICAgIGNvbnN0IFt0b3RhbENvdW50LCB0b3RhbEFtb3VudCwgc3RhdHVzQ291bnRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICBwcmlzbWEucHVyY2hhc2VJbnZvaWNlLmNvdW50KHsgd2hlcmU6IHdoZXJlQ2xhdXNlIH0pLFxuICAgICAgICAgIHByaXNtYS5wdXJjaGFzZUludm9pY2UuYWdncmVnYXRlKHtcbiAgICAgICAgICAgIHdoZXJlOiB3aGVyZUNsYXVzZSxcbiAgICAgICAgICAgIF9zdW06IHsgdG90YWxBbW91bnQ6IHRydWUgfVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHByaXNtYS5wdXJjaGFzZUludm9pY2UuZ3JvdXBCeSh7XG4gICAgICAgICAgICBieTogWydzdGF0dXMnXSxcbiAgICAgICAgICAgIHdoZXJlOiB3aGVyZUNsYXVzZSxcbiAgICAgICAgICAgIF9jb3VudDogeyBzdGF0dXM6IHRydWUgfVxuICAgICAgICAgIH0pXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0IHN0YXRzID0ge1xuICAgICAgICAgIHRvdGFsQ291bnQsXG4gICAgICAgICAgdG90YWxBbW91bnQ6IHRvdGFsQW1vdW50Ll9zdW0udG90YWxBbW91bnQgfHwgMCxcbiAgICAgICAgICBzdGF0dXNCcmVha2Rvd246IHN0YXR1c0NvdW50cy5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xuICAgICAgICAgICAgYWNjW2l0ZW0uc3RhdHVzXSA9IGl0ZW0uX2NvdW50LnN0YXR1cztcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPilcbiAgICAgICAgfTtcblxuICAgICAgICBhd2FpdCBjYWNoZVNlcnZpY2Uuc2V0KGNhY2hlS2V5LCBzdGF0cywgQ0FDSEVfVFRMLlNUQVRTKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHN0YXRzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBleHBvcnRcbiAgICBpZiAoZXhwb3J0X2RhdGEpIHtcbiAgICAgIGNvbnN0IHdoZXJlQ2xhdXNlID0gZ2V0T3B0aW1pemVkV2hlcmVDbGF1c2UoeyBzZWFyY2gsIHN0YXR1cywgc3VwcGxpZXJJZCwgc3RhcnREYXRlLCBlbmREYXRlIH0pO1xuXG4gICAgICBjb25zdCBwdXJjaGFzZXMgPSBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHdoZXJlQ2xhdXNlLFxuICAgICAgICBzZWxlY3Q6IGdldE9wdGltaXplZFNlbGVjdEZpZWxkcyh0cnVlKSxcbiAgICAgICAgb3JkZXJCeTogeyBkYXRlOiAnZGVzYycgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENvbnZlcnQgdG8gQ1NWXG4gICAgICBjb25zdCBjc3ZIZWFkZXJzID0gW1xuICAgICAgICAnSW52b2ljZSBOdW1iZXInLFxuICAgICAgICAnU3VwcGxpZXInLFxuICAgICAgICAnRGF0ZScsXG4gICAgICAgICdUb3RhbCBBbW91bnQnLFxuICAgICAgICAnU3RhdHVzJyxcbiAgICAgICAgJ0l0ZW1zIENvdW50JyxcbiAgICAgICAgJ0NyZWF0ZWQgQXQnXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBjc3ZSb3dzID0gcHVyY2hhc2VzLm1hcChwdXJjaGFzZSA9PiBbXG4gICAgICAgIHB1cmNoYXNlLmludm9pY2VOdW1iZXIsXG4gICAgICAgIHB1cmNoYXNlLnN1cHBsaWVyPy5uYW1lIHx8ICdOL0EnLFxuICAgICAgICBuZXcgRGF0ZShwdXJjaGFzZS5kYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoKSxcbiAgICAgICAgcHVyY2hhc2UudG90YWxBbW91bnQ/LnRvU3RyaW5nKCkgfHwgJzAnLFxuICAgICAgICBwdXJjaGFzZS5zdGF0dXMsXG4gICAgICAgIHB1cmNoYXNlLml0ZW1zPy5sZW5ndGgudG9TdHJpbmcoKSB8fCAnMCcsXG4gICAgICAgIG5ldyBEYXRlKHB1cmNoYXNlLmNyZWF0ZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKClcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCBjc3ZDb250ZW50ID0gW2NzdkhlYWRlcnMsIC4uLmNzdlJvd3NdXG4gICAgICAgIC5tYXAocm93ID0+IHJvdy5tYXAoZmllbGQgPT4gYFwiJHtmaWVsZH1cImApLmpvaW4oJywnKSlcbiAgICAgICAgLmpvaW4oJ1xcbicpO1xuXG4gICAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShjc3ZDb250ZW50LCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvY3N2JyxcbiAgICAgICAgICAnQ29udGVudC1EaXNwb3NpdGlvbic6IGBhdHRhY2htZW50OyBmaWxlbmFtZT1cInB1cmNoYXNlLWludm9pY2VzLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF19LmNzdlwiYFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBNYWluIGxpc3QgcXVlcnkgd2l0aCBjYWNoaW5nIGFuZCBkZWR1cGxpY2F0aW9uXG4gICAgcmV0dXJuIGRlZHVwbGljYXRlUmVxdWVzdChjYWNoZUtleSwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2FjaGVkID0gYXdhaXQgY2FjaGVTZXJ2aWNlLmdldChjYWNoZUtleSk7XG4gICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihjYWNoZWQpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB3aGVyZUNsYXVzZSA9IGdldE9wdGltaXplZFdoZXJlQ2xhdXNlKHsgc2VhcmNoLCBzdGF0dXMsIHN1cHBsaWVySWQsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9KTtcblxuICAgICAgLy8gVXNlIHRyYW5zYWN0aW9uIGZvciBjb25zaXN0ZW5jeSBhbmQgcGVyZm9ybWFuY2VcbiAgICAgIGNvbnN0IFtwdXJjaGFzZXMsIHRvdGFsQ291bnRdID0gYXdhaXQgcHJpc21hLiR0cmFuc2FjdGlvbihbXG4gICAgICAgIHByaXNtYS5wdXJjaGFzZUludm9pY2UuZmluZE1hbnkoe1xuICAgICAgICAgIHdoZXJlOiB3aGVyZUNsYXVzZSxcbiAgICAgICAgICBzZWxlY3Q6IGdldE9wdGltaXplZFNlbGVjdEZpZWxkcyhpbmNsdWRlSXRlbXMpLFxuICAgICAgICAgIG9yZGVyQnk6IFtcbiAgICAgICAgICAgIHsgZGF0ZTogJ2Rlc2MnIH0sXG4gICAgICAgICAgICB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIHNraXAsXG4gICAgICAgICAgdGFrZTogbGltaXRcbiAgICAgICAgfSksXG4gICAgICAgIHByaXNtYS5wdXJjaGFzZUludm9pY2UuY291bnQoeyB3aGVyZTogd2hlcmVDbGF1c2UgfSlcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKHRvdGFsQ291bnQgLyBsaW1pdCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiBwdXJjaGFzZXMsXG4gICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgIHRvdGFsOiB0b3RhbENvdW50LFxuICAgICAgICAgIHRvdGFsUGFnZXMsXG4gICAgICAgICAgaGFzTmV4dFBhZ2U6IHBhZ2UgPCB0b3RhbFBhZ2VzLFxuICAgICAgICAgIGhhc1ByZXZpb3VzUGFnZTogcGFnZSA+IDFcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGNhY2hlZDogZmFsc2UsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQ2FjaGUgdGhlIHJlc3BvbnNlXG4gICAgICBhd2FpdCBjYWNoZVNlcnZpY2Uuc2V0KGNhY2hlS2V5LCByZXNwb25zZSwgQ0FDSEVfVFRMLkxJU1QpO1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gb3B0aW1pemVkIHB1cmNoYXNlcyBBUEk6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGVycm9yLm1lc3NhZ2UgOiAnU29tZXRoaW5nIHdlbnQgd3JvbmcnXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBQT1NUIC9hcGkvcHVyY2hhc2VzL29wdGltaXplZCAtIENyZWF0ZSBwdXJjaGFzZSBpbnZvaWNlIHdpdGggb3B0aW1pemF0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldFRva2VuKHsgcmVxOiByZXF1ZXN0IH0pO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICBjb25zdCB7XG4gICAgICBpbnZvaWNlTnVtYmVyLFxuICAgICAgc3VwcGxpZXJJZCxcbiAgICAgIGRhdGUsXG4gICAgICBpdGVtcyxcbiAgICAgIG5vdGVzLFxuICAgICAgc3RhdHVzID0gJ3VucGFpZCdcbiAgICB9ID0gYm9keTtcblxuICAgIC8vIFZhbGlkYXRpb25cbiAgICBpZiAoIWludm9pY2VOdW1iZXIgfHwgIXN1cHBsaWVySWQgfHwgIWRhdGUgfHwgIWl0ZW1zIHx8ICFBcnJheS5pc0FycmF5KGl0ZW1zKSB8fCBpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzOiBpbnZvaWNlTnVtYmVyLCBzdXBwbGllcklkLCBkYXRlLCBpdGVtcycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBhbW91bnRcbiAgICBjb25zdCB0b3RhbEFtb3VudCA9IGl0ZW1zLnJlZHVjZSgoc3VtOiBudW1iZXIsIGl0ZW06IGFueSkgPT4ge1xuICAgICAgcmV0dXJuIHN1bSArIChpdGVtLnF1YW50aXR5ICogaXRlbS51bml0UHJpY2UpO1xuICAgIH0sIDApO1xuXG4gICAgLy8gVXNlIHRyYW5zYWN0aW9uIGZvciBkYXRhIGNvbnNpc3RlbmN5XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLiR0cmFuc2FjdGlvbihhc3luYyAodHgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSB0aGUgcHVyY2hhc2UgaW52b2ljZVxuICAgICAgY29uc3QgcHVyY2hhc2VJbnZvaWNlID0gYXdhaXQgdHgucHVyY2hhc2VJbnZvaWNlLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBpbnZvaWNlTnVtYmVyLFxuICAgICAgICAgIHN1cHBsaWVySWQ6IHBhcnNlSW50KHN1cHBsaWVySWQpLFxuICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKGRhdGUpLFxuICAgICAgICAgIHRvdGFsQW1vdW50LFxuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBub3RlcyxcbiAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgY3JlYXRlOiBpdGVtcy5tYXAoKGl0ZW06IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHksXG4gICAgICAgICAgICAgIHVuaXRQcmljZTogaXRlbS51bml0UHJpY2UsXG4gICAgICAgICAgICAgIHRvdGFsUHJpY2U6IGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnVuaXRQcmljZVxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgc3VwcGxpZXI6IHtcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgICAgICAgIHBob25lOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBwcm9kdWN0OiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICBza3U6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBVcGRhdGUgaW52ZW50b3J5IGxldmVscyBpZiBzdGF0dXMgaXMgcGFpZFxuICAgICAgaWYgKHN0YXR1cyA9PT0gJ3BhaWQnKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgIGF3YWl0IHR4LmludmVudG9yeS51cGRhdGVNYW55KHtcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgIHByb2R1Y3RJZDogaXRlbS5wcm9kdWN0SWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHF1YW50aXR5OiB7XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50OiBpdGVtLnF1YW50aXR5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHVyY2hhc2VJbnZvaWNlO1xuICAgIH0pO1xuXG4gICAgLy8gQ2xlYXIgcmVsYXRlZCBjYWNoZXNcbiAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBjYWNoZVNlcnZpY2UuY2xlYXIoJ3B1cmNoYXNlcy1vcHRpbWl6ZWQnKSxcbiAgICAgIGNhY2hlU2VydmljZS5jbGVhcigncHVyY2hhc2Utc3RhdHMnKSxcbiAgICAgIGNhY2hlU2VydmljZS5jbGVhcignaW52ZW50b3J5JylcbiAgICBdKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogcmVzdWx0LFxuICAgICAgbWVzc2FnZTogJ1B1cmNoYXNlIGludm9pY2UgY3JlYXRlZCBzdWNjZXNzZnVsbHknXG4gICAgfSwgeyBzdGF0dXM6IDIwMSB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHB1cmNoYXNlIGludm9pY2U6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gY3JlYXRlIHB1cmNoYXNlIGludm9pY2UnLFxuICAgICAgICBtZXNzYWdlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGVycm9yLm1lc3NhZ2UgOiAnU29tZXRoaW5nIHdlbnQgd3JvbmcnXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBQVVQgL2FwaS9wdXJjaGFzZXMvb3B0aW1pemVkL1tpZF0gLSBVcGRhdGUgcHVyY2hhc2UgaW52b2ljZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VG9rZW4oeyByZXE6IHJlcXVlc3QgfSk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgY29uc3QgaWQgPSB1cmwucGF0aG5hbWUuc3BsaXQoJy8nKS5wb3AoKTtcblxuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52b2ljZSBJRCBpcyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgY29uc3Qge1xuICAgICAgaW52b2ljZU51bWJlcixcbiAgICAgIHN1cHBsaWVySWQsXG4gICAgICBkYXRlLFxuICAgICAgaXRlbXMsXG4gICAgICBub3RlcyxcbiAgICAgIHN0YXR1c1xuICAgIH0gPSBib2R5O1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRvdGFsIGFtb3VudCBpZiBpdGVtcyBhcmUgcHJvdmlkZWRcbiAgICBjb25zdCB0b3RhbEFtb3VudCA9IGl0ZW1zID8gaXRlbXMucmVkdWNlKChzdW06IG51bWJlciwgaXRlbTogYW55KSA9PiB7XG4gICAgICByZXR1cm4gc3VtICsgKGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnVuaXRQcmljZSk7XG4gICAgfSwgMCkgOiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgaW52b2ljZSBmb3IgY29tcGFyaXNvblxuICAgICAgY29uc3QgY3VycmVudEludm9pY2UgPSBhd2FpdCB0eC5wdXJjaGFzZUludm9pY2UuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBwYXJzZUludChpZCkgfSxcbiAgICAgICAgaW5jbHVkZTogeyBpdGVtczogdHJ1ZSB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKCFjdXJyZW50SW52b2ljZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1B1cmNoYXNlIGludm9pY2Ugbm90IGZvdW5kJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcHVyY2hhc2UgaW52b2ljZVxuICAgICAgY29uc3QgdXBkYXRlZEludm9pY2UgPSBhd2FpdCB0eC5wdXJjaGFzZUludm9pY2UudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHBhcnNlSW50KGlkKSB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLi4uKGludm9pY2VOdW1iZXIgJiYgeyBpbnZvaWNlTnVtYmVyIH0pLFxuICAgICAgICAgIC4uLihzdXBwbGllcklkICYmIHsgc3VwcGxpZXJJZDogcGFyc2VJbnQoc3VwcGxpZXJJZCkgfSksXG4gICAgICAgICAgLi4uKGRhdGUgJiYgeyBkYXRlOiBuZXcgRGF0ZShkYXRlKSB9KSxcbiAgICAgICAgICAuLi4odG90YWxBbW91bnQgIT09IHVuZGVmaW5lZCAmJiB7IHRvdGFsQW1vdW50IH0pLFxuICAgICAgICAgIC4uLihzdGF0dXMgJiYgeyBzdGF0dXMgfSksXG4gICAgICAgICAgLi4uKG5vdGVzICE9PSB1bmRlZmluZWQgJiYgeyBub3RlcyB9KSxcbiAgICAgICAgICAuLi4oaXRlbXMgJiYge1xuICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgZGVsZXRlTWFueToge30sXG4gICAgICAgICAgICAgIGNyZWF0ZTogaXRlbXMubWFwKChpdGVtOiBhbnkpID0+ICh7XG4gICAgICAgICAgICAgICAgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSxcbiAgICAgICAgICAgICAgICB1bml0UHJpY2U6IGl0ZW0udW5pdFByaWNlLFxuICAgICAgICAgICAgICAgIHRvdGFsUHJpY2U6IGl0ZW0ucXVhbnRpdHkgKiBpdGVtLnVuaXRQcmljZVxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgc3VwcGxpZXI6IHtcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgICAgICAgIHBob25lOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBwcm9kdWN0OiB7XG4gICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICBza3U6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBIYW5kbGUgaW52ZW50b3J5IHVwZGF0ZXMgaWYgc3RhdHVzIGNoYW5nZWQgdG8vZnJvbSBwYWlkXG4gICAgICBpZiAoc3RhdHVzICYmIHN0YXR1cyAhPT0gY3VycmVudEludm9pY2Uuc3RhdHVzKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zVG9Qcm9jZXNzID0gaXRlbXMgfHwgY3VycmVudEludm9pY2UuaXRlbXM7XG5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ3BhaWQnICYmIGN1cnJlbnRJbnZvaWNlLnN0YXR1cyAhPT0gJ3BhaWQnKSB7XG4gICAgICAgICAgLy8gQWRkIHRvIGludmVudG9yeVxuICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtc1RvUHJvY2Vzcykge1xuICAgICAgICAgICAgYXdhaXQgdHguaW52ZW50b3J5LnVwZGF0ZU1hbnkoe1xuICAgICAgICAgICAgICB3aGVyZTogeyBwcm9kdWN0SWQ6IGl0ZW0ucHJvZHVjdElkIH0sXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBxdWFudGl0eTogeyBpbmNyZW1lbnQ6IGl0ZW0ucXVhbnRpdHkgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzICE9PSAncGFpZCcgJiYgY3VycmVudEludm9pY2Uuc3RhdHVzID09PSAncGFpZCcpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBpbnZlbnRvcnlcbiAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXNUb1Byb2Nlc3MpIHtcbiAgICAgICAgICAgIGF3YWl0IHR4LmludmVudG9yeS51cGRhdGVNYW55KHtcbiAgICAgICAgICAgICAgd2hlcmU6IHsgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZCB9LFxuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcXVhbnRpdHk6IHsgZGVjcmVtZW50OiBpdGVtLnF1YW50aXR5IH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRhdGVkSW52b2ljZTtcbiAgICB9KTtcblxuICAgIC8vIENsZWFyIHJlbGF0ZWQgY2FjaGVzXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgY2FjaGVTZXJ2aWNlLmNsZWFyKCdwdXJjaGFzZXMtb3B0aW1pemVkJyksXG4gICAgICBjYWNoZVNlcnZpY2UuY2xlYXIoJ3B1cmNoYXNlLXN0YXRzJyksXG4gICAgICBjYWNoZVNlcnZpY2UuY2xlYXIoJ2ludmVudG9yeScpXG4gICAgXSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHJlc3VsdCxcbiAgICAgIG1lc3NhZ2U6ICdQdXJjaGFzZSBpbnZvaWNlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcHVyY2hhc2UgaW52b2ljZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgcHVyY2hhc2UgaW52b2ljZScsXG4gICAgICAgIG1lc3NhZ2U6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3IubWVzc2FnZSA6ICdTb21ldGhpbmcgd2VudCB3cm9uZydcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbi8vIERFTEVURSAvYXBpL3B1cmNoYXNlcy9vcHRpbWl6ZWQvW2lkXSAtIERlbGV0ZSBwdXJjaGFzZSBpbnZvaWNlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRUb2tlbih7IHJlcTogcmVxdWVzdCB9KTtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCBpZCA9IHVybC5wYXRobmFtZS5zcGxpdCgnLycpLnBvcCgpO1xuXG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZvaWNlIElEIGlzIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oYXN5bmMgKHR4KSA9PiB7XG4gICAgICAvLyBHZXQgaW52b2ljZSBkZXRhaWxzIGJlZm9yZSBkZWxldGlvblxuICAgICAgY29uc3QgaW52b2ljZSA9IGF3YWl0IHR4LnB1cmNoYXNlSW52b2ljZS5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHBhcnNlSW50KGlkKSB9LFxuICAgICAgICBpbmNsdWRlOiB7IGl0ZW1zOiB0cnVlIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWludm9pY2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQdXJjaGFzZSBpbnZvaWNlIG5vdCBmb3VuZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpbnZvaWNlIHdhcyBwYWlkLCBhZGp1c3QgaW52ZW50b3J5XG4gICAgICBpZiAoaW52b2ljZS5zdGF0dXMgPT09ICdwYWlkJykge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaW52b2ljZS5pdGVtcykge1xuICAgICAgICAgIGF3YWl0IHR4LmludmVudG9yeS51cGRhdGVNYW55KHtcbiAgICAgICAgICAgIHdoZXJlOiB7IHByb2R1Y3RJZDogaXRlbS5wcm9kdWN0SWQgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgcXVhbnRpdHk6IHsgZGVjcmVtZW50OiBpdGVtLnF1YW50aXR5IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBEZWxldGUgdGhlIGludm9pY2UgKGl0ZW1zIHdpbGwgYmUgZGVsZXRlZCBkdWUgdG8gY2FzY2FkZSlcbiAgICAgIGF3YWl0IHR4LnB1cmNoYXNlSW52b2ljZS5kZWxldGUoe1xuICAgICAgICB3aGVyZTogeyBpZDogcGFyc2VJbnQoaWQpIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gaW52b2ljZTtcbiAgICB9KTtcblxuICAgIC8vIENsZWFyIHJlbGF0ZWQgY2FjaGVzXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgY2FjaGVTZXJ2aWNlLmNsZWFyKCdwdXJjaGFzZXMtb3B0aW1pemVkJyksXG4gICAgICBjYWNoZVNlcnZpY2UuY2xlYXIoJ3B1cmNoYXNlLXN0YXRzJyksXG4gICAgICBjYWNoZVNlcnZpY2UuY2xlYXIoJ2ludmVudG9yeScpXG4gICAgXSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdQdXJjaGFzZSBpbnZvaWNlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgcHVyY2hhc2UgaW52b2ljZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgcHVyY2hhc2UgaW52b2ljZScsXG4gICAgICAgIG1lc3NhZ2U6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3IubWVzc2FnZSA6ICdTb21ldGhpbmcgd2VudCB3cm9uZydcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUE2a0JzQkEsTUFBTSxXQUFBQSxDQUFBO0lBQUE7SUFBQUMsY0FBQSxHQUFBQyxDQUFBO0lBQUFELGNBQUEsR0FBQUUsQ0FBQTtXQUFOSCxNQUFBOztFQXZkQUksR0FBRyxXQUFBQSxDQUFBO0lBQUE7SUFBQUgsY0FBQSxHQUFBQyxDQUFBO0lBQUFELGNBQUEsR0FBQUUsQ0FBQTtXQUFIQyxHQUFBOztFQW9OQUMsSUFBSSxXQUFBQSxDQUFBO0lBQUE7SUFBQUosY0FBQSxHQUFBQyxDQUFBO0lBQUFELGNBQUEsR0FBQUUsQ0FBQTtXQUFKRSxJQUFBOztFQXNIQUMsR0FBRyxXQUFBQSxDQUFBO0lBQUE7SUFBQUwsY0FBQSxHQUFBQyxDQUFBO0lBQUFELGNBQUEsR0FBQUUsQ0FBQTtXQUFIRyxHQUFBOzs7OztrQ0FoY29COzs7d0VBQ3ZCOzs7bUNBQ007OzttQ0FDSTs7O21DQUNNOzs7Ozs7Ozs7Ozs7Ozs7QUFFbkM7QUFDQSxNQUFNQyxTQUFBO0FBQUE7QUFBQSxDQUFBTixjQUFBLEdBQUFFLENBQUEsUUFBWTtFQUNoQkssSUFBQSxFQUFNO0VBQ05DLEtBQUEsRUFBTztFQUNQQyxrQkFBQSxFQUFvQjtBQUN0QjtBQUVBO0FBQUE7QUFBQVQsY0FBQSxHQUFBRSxDQUFBO0FBQ0EsTUFBTVEsdUJBQUEsR0FBMkJDLE1BQUE7RUFBQTtFQUFBWCxjQUFBLEdBQUFDLENBQUE7RUFPL0IsTUFBTTtJQUFFVyxNQUFNO0lBQUVDLE1BQU07SUFBRUMsVUFBVTtJQUFFQyxTQUFTO0lBQUVDO0VBQU8sQ0FBRTtFQUFBO0VBQUEsQ0FBQWhCLGNBQUEsR0FBQUUsQ0FBQSxRQUFHUyxNQUFBO0VBQzNELE1BQU1NLFdBQUE7RUFBQTtFQUFBLENBQUFqQixjQUFBLEdBQUFFLENBQUEsUUFBbUIsQ0FBQztFQUUxQjtFQUFBO0VBQUFGLGNBQUEsR0FBQUUsQ0FBQTtFQUNBLElBQUlVLE1BQUEsRUFBUTtJQUFBO0lBQUFaLGNBQUEsR0FBQWtCLENBQUE7SUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtJQUNWZSxXQUFBLENBQVlFLEVBQUUsR0FBRyxDQUNmO01BQ0VDLGFBQUEsRUFBZTtRQUNiQyxRQUFBLEVBQVVULE1BQUE7UUFDVlUsSUFBQSxFQUFNO01BQ1I7SUFDRixHQUNBO01BQ0VDLFFBQUEsRUFBVTtRQUNSQyxJQUFBLEVBQU07VUFDSkgsUUFBQSxFQUFVVCxNQUFBO1VBQ1ZVLElBQUEsRUFBTTtRQUNSO01BQ0Y7SUFDRixFQUNEO0VBQ0g7RUFBQTtFQUFBO0lBQUF0QixjQUFBLEdBQUFrQixDQUFBO0VBQUE7RUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtFQUVBLElBQUlXLE1BQUEsRUFBUTtJQUFBO0lBQUFiLGNBQUEsR0FBQWtCLENBQUE7SUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtJQUNWZSxXQUFBLENBQVlKLE1BQU0sR0FBR0EsTUFBQTtFQUN2QjtFQUFBO0VBQUE7SUFBQWIsY0FBQSxHQUFBa0IsQ0FBQTtFQUFBO0VBQUFsQixjQUFBLEdBQUFFLENBQUE7RUFFQSxJQUFJWSxVQUFBLEVBQVk7SUFBQTtJQUFBZCxjQUFBLEdBQUFrQixDQUFBO0lBQUFsQixjQUFBLEdBQUFFLENBQUE7SUFDZGUsV0FBQSxDQUFZSCxVQUFVLEdBQUdXLFFBQUEsQ0FBU1gsVUFBQTtFQUNwQztFQUFBO0VBQUE7SUFBQWQsY0FBQSxHQUFBa0IsQ0FBQTtFQUFBO0VBRUE7RUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtFQUNBO0VBQUk7RUFBQSxDQUFBRixjQUFBLEdBQUFrQixDQUFBLFVBQUFILFNBQUE7RUFBQTtFQUFBLENBQUFmLGNBQUEsR0FBQWtCLENBQUEsVUFBYUYsT0FBQSxHQUFTO0lBQUE7SUFBQWhCLGNBQUEsR0FBQWtCLENBQUE7SUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtJQUN4QmUsV0FBQSxDQUFZUyxJQUFJLEdBQUc7TUFDakJDLEdBQUEsRUFBSyxJQUFJQyxJQUFBLENBQUtiLFNBQUE7TUFDZGMsR0FBQSxFQUFLLElBQUlELElBQUEsQ0FBS1osT0FBQTtJQUNoQjtFQUNGLE9BQU87SUFBQTtJQUFBaEIsY0FBQSxHQUFBa0IsQ0FBQTtJQUFBbEIsY0FBQSxHQUFBRSxDQUFBO0lBQUEsSUFBSWEsU0FBQSxFQUFXO01BQUE7TUFBQWYsY0FBQSxHQUFBa0IsQ0FBQTtNQUFBbEIsY0FBQSxHQUFBRSxDQUFBO01BQ3BCZSxXQUFBLENBQVlTLElBQUksR0FBRztRQUNqQkMsR0FBQSxFQUFLLElBQUlDLElBQUEsQ0FBS2IsU0FBQTtNQUNoQjtJQUNGLE9BQU87TUFBQTtNQUFBZixjQUFBLEdBQUFrQixDQUFBO01BQUFsQixjQUFBLEdBQUFFLENBQUE7TUFBQSxJQUFJYyxPQUFBLEVBQVM7UUFBQTtRQUFBaEIsY0FBQSxHQUFBa0IsQ0FBQTtRQUFBbEIsY0FBQSxHQUFBRSxDQUFBO1FBQ2xCZSxXQUFBLENBQVlTLElBQUksR0FBRztVQUNqQkcsR0FBQSxFQUFLLElBQUlELElBQUEsQ0FBS1osT0FBQTtRQUNoQjtNQUNGO01BQUE7TUFBQTtRQUFBaEIsY0FBQSxHQUFBa0IsQ0FBQTtNQUFBO0lBQUE7RUFBQTtFQUFBO0VBQUFsQixjQUFBLEdBQUFFLENBQUE7RUFFQSxPQUFPZSxXQUFBO0FBQ1Q7QUFFQTtBQUFBO0FBQUFqQixjQUFBLEdBQUFFLENBQUE7QUFDQSxNQUFNNEIsd0JBQUEsR0FBMkJBLENBQUNDLFlBQUE7QUFBQTtBQUFBLENBQUEvQixjQUFBLEdBQUFrQixDQUFBLFVBQWUsS0FBSztFQUFBO0VBQUFsQixjQUFBLEdBQUFDLENBQUE7RUFDcEQsTUFBTStCLFVBQUE7RUFBQTtFQUFBLENBQUFoQyxjQUFBLEdBQUFFLENBQUEsUUFBYTtJQUNqQitCLEVBQUEsRUFBSTtJQUNKYixhQUFBLEVBQWU7SUFDZk0sSUFBQSxFQUFNO0lBQ05RLFdBQUEsRUFBYTtJQUNickIsTUFBQSxFQUFRO0lBQ1JDLFVBQUEsRUFBWTtJQUNacUIsU0FBQSxFQUFXO0lBQ1hDLFNBQUEsRUFBVztJQUNYYixRQUFBLEVBQVU7TUFDUmMsTUFBQSxFQUFRO1FBQ05KLEVBQUEsRUFBSTtRQUNKVCxJQUFBLEVBQU07UUFDTmMsS0FBQSxFQUFPO1FBQ1BDLEtBQUEsRUFBTztNQUNUO0lBQ0Y7RUFDRjtFQUFBO0VBQUF2QyxjQUFBLEdBQUFFLENBQUE7RUFFQSxJQUFJNkIsWUFBQSxFQUFjO0lBQUE7SUFBQS9CLGNBQUEsR0FBQWtCLENBQUE7SUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtJQUNoQixPQUFPO01BQ0wsR0FBRzhCLFVBQVU7TUFDYlEsS0FBQSxFQUFPO1FBQ0xILE1BQUEsRUFBUTtVQUNOSixFQUFBLEVBQUk7VUFDSlEsUUFBQSxFQUFVO1VBQ1ZDLFNBQUEsRUFBVztVQUNYQyxVQUFBLEVBQVk7VUFDWkMsU0FBQSxFQUFXO1VBQ1hDLE9BQUEsRUFBUztZQUNQUixNQUFBLEVBQVE7Y0FDTkosRUFBQSxFQUFJO2NBQ0pULElBQUEsRUFBTTtjQUNOc0IsR0FBQSxFQUFLO1lBQ1A7VUFDRjtRQUNGO01BQ0Y7SUFDRjtFQUNGO0VBQUE7RUFBQTtJQUFBOUMsY0FBQSxHQUFBa0IsQ0FBQTtFQUFBO0VBQUFsQixjQUFBLEdBQUFFLENBQUE7RUFFQSxPQUFPOEIsVUFBQTtBQUNUO0FBR08sZUFBZTdCLElBQUk0QyxPQUFvQjtFQUFBO0VBQUEvQyxjQUFBLEdBQUFDLENBQUE7RUFBQUQsY0FBQSxHQUFBRSxDQUFBO0VBQzVDLElBQUk7SUFDRjtJQUNBLE1BQU04QyxLQUFBO0lBQUE7SUFBQSxDQUFBaEQsY0FBQSxHQUFBRSxDQUFBLFFBQVEsTUFBTSxJQUFBK0MsSUFBQSxDQUFBQyxRQUFRLEVBQUM7TUFBRUMsR0FBQSxFQUFLSjtJQUFRO0lBQUE7SUFBQS9DLGNBQUEsR0FBQUUsQ0FBQTtJQUM1QyxJQUFJLENBQUM4QyxLQUFBLEVBQU87TUFBQTtNQUFBaEQsY0FBQSxHQUFBa0IsQ0FBQTtNQUFBbEIsY0FBQSxHQUFBRSxDQUFBO01BQ1YsT0FBT2tELE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQUM7UUFBRUMsS0FBQSxFQUFPO01BQWUsR0FBRztRQUFFMUMsTUFBQSxFQUFRO01BQUk7SUFDcEU7SUFBQTtJQUFBO01BQUFiLGNBQUEsR0FBQWtCLENBQUE7SUFBQTtJQUVBLE1BQU07TUFBRXNDO0lBQVksQ0FBRTtJQUFBO0lBQUEsQ0FBQXhELGNBQUEsR0FBQUUsQ0FBQSxRQUFHLElBQUl1RCxHQUFBLENBQUlWLE9BQUEsQ0FBUVcsR0FBRztJQUM1QyxNQUFNOUMsTUFBQTtJQUFBO0lBQUEsQ0FBQVosY0FBQSxHQUFBRSxDQUFBO0lBQVM7SUFBQSxDQUFBRixjQUFBLEdBQUFrQixDQUFBLFdBQUFzQyxZQUFBLENBQWFHLEdBQUcsQ0FBQztJQUFBO0lBQUEsQ0FBQTNELGNBQUEsR0FBQWtCLENBQUEsV0FBYTtJQUM3QyxNQUFNTCxNQUFBO0lBQUE7SUFBQSxDQUFBYixjQUFBLEdBQUFFLENBQUEsUUFBU3NELFlBQUEsQ0FBYUcsR0FBRyxDQUFDO0lBQ2hDLE1BQU03QyxVQUFBO0lBQUE7SUFBQSxDQUFBZCxjQUFBLEdBQUFFLENBQUEsUUFBYXNELFlBQUEsQ0FBYUcsR0FBRyxDQUFDO0lBQ3BDLE1BQU01QyxTQUFBO0lBQUE7SUFBQSxDQUFBZixjQUFBLEdBQUFFLENBQUEsUUFBWXNELFlBQUEsQ0FBYUcsR0FBRyxDQUFDO0lBQ25DLE1BQU0zQyxPQUFBO0lBQUE7SUFBQSxDQUFBaEIsY0FBQSxHQUFBRSxDQUFBLFFBQVVzRCxZQUFBLENBQWFHLEdBQUcsQ0FBQztJQUNqQyxNQUFNQyxJQUFBO0lBQUE7SUFBQSxDQUFBNUQsY0FBQSxHQUFBRSxDQUFBLFFBQU91QixRQUFBO0lBQVM7SUFBQSxDQUFBekIsY0FBQSxHQUFBa0IsQ0FBQSxXQUFBc0MsWUFBQSxDQUFhRyxHQUFHLENBQUM7SUFBQTtJQUFBLENBQUEzRCxjQUFBLEdBQUFrQixDQUFBLFdBQVc7SUFDbEQsTUFBTTJDLEtBQUE7SUFBQTtJQUFBLENBQUE3RCxjQUFBLEdBQUFFLENBQUEsUUFBUTRELElBQUEsQ0FBS0MsR0FBRyxDQUFDdEMsUUFBQTtJQUFTO0lBQUEsQ0FBQXpCLGNBQUEsR0FBQWtCLENBQUEsV0FBQXNDLFlBQUEsQ0FBYUcsR0FBRyxDQUFDO0lBQUE7SUFBQSxDQUFBM0QsY0FBQSxHQUFBa0IsQ0FBQSxXQUFZLFFBQU8sT0FBTTtJQUMxRSxNQUFNYSxZQUFBO0lBQUE7SUFBQSxDQUFBL0IsY0FBQSxHQUFBRSxDQUFBLFFBQWVzRCxZQUFBLENBQWFHLEdBQUcsQ0FBQyxvQkFBb0I7SUFDMUQsTUFBTUssV0FBQTtJQUFBO0lBQUEsQ0FBQWhFLGNBQUEsR0FBQUUsQ0FBQSxRQUFjc0QsWUFBQSxDQUFhRyxHQUFHLENBQUMsY0FBYztJQUNuRCxNQUFNTSxTQUFBO0lBQUE7SUFBQSxDQUFBakUsY0FBQSxHQUFBRSxDQUFBLFFBQVlzRCxZQUFBLENBQWFHLEdBQUcsQ0FBQyxpQkFBaUI7SUFDcEQsTUFBTU8saUJBQUE7SUFBQTtJQUFBLENBQUFsRSxjQUFBLEdBQUFFLENBQUEsUUFBb0JzRCxZQUFBLENBQWFHLEdBQUcsQ0FBQyxtQkFBbUI7SUFFOUQsTUFBTVEsSUFBQTtJQUFBO0lBQUEsQ0FBQW5FLGNBQUEsR0FBQUUsQ0FBQSxRQUFPLENBQUMwRCxJQUFBLEdBQU8sS0FBS0MsS0FBQTtJQUUxQjtJQUNBLE1BQU1PLFFBQUE7SUFBQTtJQUFBLENBQUFwRSxjQUFBLEdBQUFFLENBQUEsUUFBVyx1QkFBdUJtRSxJQUFBLENBQUtDLFNBQVMsQ0FBQztNQUNyRDFELE1BQUE7TUFBUUMsTUFBQTtNQUFRQyxVQUFBO01BQVlDLFNBQUE7TUFBV0MsT0FBQTtNQUFTNEMsSUFBQTtNQUFNQyxLQUFBO01BQU85QixZQUFBO01BQWNrQyxTQUFBO01BQVdDO0lBQ3hGLElBQUk7SUFFSjtJQUFBO0lBQUFsRSxjQUFBLEdBQUFFLENBQUE7SUFDQTtJQUFJO0lBQUEsQ0FBQUYsY0FBQSxHQUFBa0IsQ0FBQSxXQUFBZ0QsaUJBQUE7SUFBQTtJQUFBLENBQUFsRSxjQUFBLEdBQUFrQixDQUFBLFdBQXFCTixNQUFBLEdBQVE7TUFBQTtNQUFBWixjQUFBLEdBQUFrQixDQUFBO01BQUFsQixjQUFBLEdBQUFFLENBQUE7TUFDL0IsT0FBTyxJQUFBcUUscUJBQUEsQ0FBQUMsa0JBQWtCLEVBQUNKLFFBQUEsRUFBVTtRQUFBO1FBQUFwRSxjQUFBLEdBQUFDLENBQUE7UUFDbEMsTUFBTXdFLE1BQUE7UUFBQTtRQUFBLENBQUF6RSxjQUFBLEdBQUFFLENBQUEsUUFBUyxNQUFNd0UsTUFBQSxDQUFBQyxZQUFZLENBQUNoQixHQUFHLENBQUNTLFFBQUE7UUFBQTtRQUFBcEUsY0FBQSxHQUFBRSxDQUFBO1FBQ3RDLElBQUl1RSxNQUFBLEVBQVE7VUFBQTtVQUFBekUsY0FBQSxHQUFBa0IsQ0FBQTtVQUFBbEIsY0FBQSxHQUFBRSxDQUFBO1VBQ1YsT0FBT2tELE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQUNtQixNQUFBO1FBQzNCO1FBQUE7UUFBQTtVQUFBekUsY0FBQSxHQUFBa0IsQ0FBQTtRQUFBO1FBRUE7UUFDQSxNQUFNLENBQUMwRCxjQUFBLEVBQWdCQyxhQUFBLENBQWM7UUFBQTtRQUFBLENBQUE3RSxjQUFBLEdBQUFFLENBQUEsUUFBRyxNQUFNNEUsT0FBQSxDQUFRQyxHQUFHLENBQUMsQ0FDeERDLE9BQUEsQ0FBQUMsT0FBTSxDQUFDQyxlQUFlLENBQUNDLFFBQVEsQ0FBQztVQUM5QkMsS0FBQSxFQUFPO1lBQ0xoRSxhQUFBLEVBQWU7Y0FDYkMsUUFBQSxFQUFVVCxNQUFBO2NBQ1ZVLElBQUEsRUFBTTtZQUNSO1VBQ0Y7VUFDQWUsTUFBQSxFQUFRO1lBQUVqQixhQUFBLEVBQWU7VUFBSztVQUM5QmlFLFFBQUEsRUFBVSxDQUFDLGdCQUFnQjtVQUMzQkMsSUFBQSxFQUFNO1FBQ1IsSUFDQU4sT0FBQSxDQUFBQyxPQUFNLENBQUMxRCxRQUFRLENBQUM0RCxRQUFRLENBQUM7VUFDdkJDLEtBQUEsRUFBTztZQUNMNUQsSUFBQSxFQUFNO2NBQ0pILFFBQUEsRUFBVVQsTUFBQTtjQUNWVSxJQUFBLEVBQU07WUFDUjtVQUNGO1VBQ0FlLE1BQUEsRUFBUTtZQUFFYixJQUFBLEVBQU07VUFBSztVQUNyQjhELElBQUEsRUFBTTtRQUNSLEdBQ0Q7UUFFRCxNQUFNQyxXQUFBO1FBQUE7UUFBQSxDQUFBdkYsY0FBQSxHQUFBRSxDQUFBLFFBQWMsQyxHQUNmMEUsY0FBQSxDQUFlWSxHQUFHLENBQUNDLEdBQUEsSUFBTztVQUFBO1VBQUF6RixjQUFBLEdBQUFDLENBQUE7VUFBQUQsY0FBQSxHQUFBRSxDQUFBO1VBQUEsT0FBQXVGLEdBQUEsQ0FBSXJFLGFBQWE7UUFBYixDQUFhLEcsR0FDM0N5RCxhQUFBLENBQWNXLEdBQUcsQ0FBQ0UsR0FBQSxJQUFPO1VBQUE7VUFBQTFGLGNBQUEsR0FBQUMsQ0FBQTtVQUFBRCxjQUFBLEdBQUFFLENBQUE7VUFBQSxPQUFBd0YsR0FBQSxDQUFJbEUsSUFBSTtRQUFKLENBQUksRUFDckMsQ0FBQ21FLEtBQUssQ0FBQyxHQUFHO1FBQUE7UUFBQTNGLGNBQUEsR0FBQUUsQ0FBQTtRQUVYLE1BQU13RSxNQUFBLENBQUFDLFlBQVksQ0FBQ2lCLEdBQUcsQ0FBQ3hCLFFBQUEsRUFBVW1CLFdBQUEsRUFBYWpGLFNBQUEsQ0FBVUcsa0JBQWtCO1FBQUE7UUFBQVQsY0FBQSxHQUFBRSxDQUFBO1FBQzFFLE9BQU9rRCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUFDaUMsV0FBQTtNQUMzQjtJQUNGO0lBQUE7SUFBQTtNQUFBdkYsY0FBQSxHQUFBa0IsQ0FBQTtJQUFBO0lBRUE7SUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtJQUNBLElBQUkrRCxTQUFBLEVBQVc7TUFBQTtNQUFBakUsY0FBQSxHQUFBa0IsQ0FBQTtNQUFBbEIsY0FBQSxHQUFBRSxDQUFBO01BQ2IsT0FBTyxJQUFBcUUscUJBQUEsQ0FBQUMsa0JBQWtCLEVBQUNKLFFBQUEsRUFBVTtRQUFBO1FBQUFwRSxjQUFBLEdBQUFDLENBQUE7UUFDbEMsTUFBTXdFLE1BQUE7UUFBQTtRQUFBLENBQUF6RSxjQUFBLEdBQUFFLENBQUEsUUFBUyxNQUFNd0UsTUFBQSxDQUFBQyxZQUFZLENBQUNoQixHQUFHLENBQUNTLFFBQUE7UUFBQTtRQUFBcEUsY0FBQSxHQUFBRSxDQUFBO1FBQ3RDLElBQUl1RSxNQUFBLEVBQVE7VUFBQTtVQUFBekUsY0FBQSxHQUFBa0IsQ0FBQTtVQUFBbEIsY0FBQSxHQUFBRSxDQUFBO1VBQ1YsT0FBT2tELE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQUNtQixNQUFBO1FBQzNCO1FBQUE7UUFBQTtVQUFBekUsY0FBQSxHQUFBa0IsQ0FBQTtRQUFBO1FBRUEsTUFBTUQsV0FBQTtRQUFBO1FBQUEsQ0FBQWpCLGNBQUEsR0FBQUUsQ0FBQSxRQUFjUSx1QkFBQSxDQUF3QjtVQUFFRSxNQUFBO1VBQVFDLE1BQUE7VUFBUUMsVUFBQTtVQUFZQyxTQUFBO1VBQVdDO1FBQVE7UUFFN0YsTUFBTSxDQUFDNkUsVUFBQSxFQUFZM0QsV0FBQSxFQUFhNEQsWUFBQSxDQUFhO1FBQUE7UUFBQSxDQUFBOUYsY0FBQSxHQUFBRSxDQUFBLFFBQUcsTUFBTTRFLE9BQUEsQ0FBUUMsR0FBRyxDQUFDLENBQ2hFQyxPQUFBLENBQUFDLE9BQU0sQ0FBQ0MsZUFBZSxDQUFDYSxLQUFLLENBQUM7VUFBRVgsS0FBQSxFQUFPbkU7UUFBWSxJQUNsRCtELE9BQUEsQ0FBQUMsT0FBTSxDQUFDQyxlQUFlLENBQUNjLFNBQVMsQ0FBQztVQUMvQlosS0FBQSxFQUFPbkUsV0FBQTtVQUNQZ0YsSUFBQSxFQUFNO1lBQUUvRCxXQUFBLEVBQWE7VUFBSztRQUM1QixJQUNBOEMsT0FBQSxDQUFBQyxPQUFNLENBQUNDLGVBQWUsQ0FBQ2dCLE9BQU8sQ0FBQztVQUM3QkMsRUFBQSxFQUFJLENBQUMsU0FBUztVQUNkZixLQUFBLEVBQU9uRSxXQUFBO1VBQ1BtRixNQUFBLEVBQVE7WUFBRXZGLE1BQUEsRUFBUTtVQUFLO1FBQ3pCLEdBQ0Q7UUFFRCxNQUFNd0YsS0FBQTtRQUFBO1FBQUEsQ0FBQXJHLGNBQUEsR0FBQUUsQ0FBQSxRQUFRO1VBQ1oyRixVQUFBO1VBQ0EzRCxXQUFBO1VBQWE7VUFBQSxDQUFBbEMsY0FBQSxHQUFBa0IsQ0FBQSxXQUFBZ0IsV0FBQSxDQUFZK0QsSUFBSSxDQUFDL0QsV0FBVztVQUFBO1VBQUEsQ0FBQWxDLGNBQUEsR0FBQWtCLENBQUEsV0FBSTtVQUM3Q29GLGVBQUEsRUFBaUJSLFlBQUEsQ0FBYVMsTUFBTSxDQUFDLENBQUNDLEdBQUEsRUFBS0MsSUFBQTtZQUFBO1lBQUF6RyxjQUFBLEdBQUFDLENBQUE7WUFBQUQsY0FBQSxHQUFBRSxDQUFBO1lBQ3pDc0csR0FBRyxDQUFDQyxJQUFBLENBQUs1RixNQUFNLENBQUMsR0FBRzRGLElBQUEsQ0FBS0wsTUFBTSxDQUFDdkYsTUFBTTtZQUFBO1lBQUFiLGNBQUEsR0FBQUUsQ0FBQTtZQUNyQyxPQUFPc0csR0FBQTtVQUNULEdBQUcsQ0FBQztRQUNOO1FBQUE7UUFBQXhHLGNBQUEsR0FBQUUsQ0FBQTtRQUVBLE1BQU13RSxNQUFBLENBQUFDLFlBQVksQ0FBQ2lCLEdBQUcsQ0FBQ3hCLFFBQUEsRUFBVWlDLEtBQUEsRUFBTy9GLFNBQUEsQ0FBVUUsS0FBSztRQUFBO1FBQUFSLGNBQUEsR0FBQUUsQ0FBQTtRQUN2RCxPQUFPa0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQytDLEtBQUE7TUFDM0I7SUFDRjtJQUFBO0lBQUE7TUFBQXJHLGNBQUEsR0FBQWtCLENBQUE7SUFBQTtJQUVBO0lBQUFsQixjQUFBLEdBQUFFLENBQUE7SUFDQSxJQUFJOEQsV0FBQSxFQUFhO01BQUE7TUFBQWhFLGNBQUEsR0FBQWtCLENBQUE7TUFDZixNQUFNRCxXQUFBO01BQUE7TUFBQSxDQUFBakIsY0FBQSxHQUFBRSxDQUFBLFFBQWNRLHVCQUFBLENBQXdCO1FBQUVFLE1BQUE7UUFBUUMsTUFBQTtRQUFRQyxVQUFBO1FBQVlDLFNBQUE7UUFBV0M7TUFBUTtNQUU3RixNQUFNMEYsU0FBQTtNQUFBO01BQUEsQ0FBQTFHLGNBQUEsR0FBQUUsQ0FBQSxRQUFZLE1BQU04RSxPQUFBLENBQUFDLE9BQU0sQ0FBQ0MsZUFBZSxDQUFDQyxRQUFRLENBQUM7UUFDdERDLEtBQUEsRUFBT25FLFdBQUE7UUFDUG9CLE1BQUEsRUFBUVAsd0JBQUEsQ0FBeUI7UUFDakM2RSxPQUFBLEVBQVM7VUFBRWpGLElBQUEsRUFBTTtRQUFPO01BQzFCO01BRUE7TUFDQSxNQUFNa0YsVUFBQTtNQUFBO01BQUEsQ0FBQTVHLGNBQUEsR0FBQUUsQ0FBQSxRQUFhLENBQ2pCLGtCQUNBLFlBQ0EsUUFDQSxnQkFDQSxVQUNBLGVBQ0EsYUFDRDtNQUVELE1BQU0yRyxPQUFBO01BQUE7TUFBQSxDQUFBN0csY0FBQSxHQUFBRSxDQUFBLFFBQVV3RyxTQUFBLENBQVVsQixHQUFHLENBQUNzQixRQUFBLElBQVk7UUFBQTtRQUFBOUcsY0FBQSxHQUFBQyxDQUFBO1FBQUFELGNBQUEsR0FBQUUsQ0FBQTtRQUFBLFFBQ3hDNEcsUUFBQSxDQUFTMUYsYUFBYTtRQUN0QjtRQUFBLENBQUFwQixjQUFBLEdBQUFrQixDQUFBLFdBQUE0RixRQUFBLENBQVN2RixRQUFRLEVBQUVDLElBQUE7UUFBQTtRQUFBLENBQUF4QixjQUFBLEdBQUFrQixDQUFBLFdBQVEsUUFDM0IsSUFBSVUsSUFBQSxDQUFLa0YsUUFBQSxDQUFTcEYsSUFBSSxFQUFFcUYsa0JBQWtCO1FBQzFDO1FBQUEsQ0FBQS9HLGNBQUEsR0FBQWtCLENBQUEsV0FBQTRGLFFBQUEsQ0FBUzVFLFdBQVcsRUFBRThFLFFBQUE7UUFBQTtRQUFBLENBQUFoSCxjQUFBLEdBQUFrQixDQUFBLFdBQWMsTUFDcEM0RixRQUFBLENBQVNqRyxNQUFNO1FBQ2Y7UUFBQSxDQUFBYixjQUFBLEdBQUFrQixDQUFBLFdBQUE0RixRQUFBLENBQVN0RSxLQUFLLEVBQUV5RSxNQUFBLENBQU9ELFFBQUE7UUFBQTtRQUFBLENBQUFoSCxjQUFBLEdBQUFrQixDQUFBLFdBQWMsTUFDckMsSUFBSVUsSUFBQSxDQUFLa0YsUUFBQSxDQUFTM0UsU0FBUyxFQUFFNEUsa0JBQWtCLEdBQ2hEO09BQUE7TUFFRCxNQUFNRyxVQUFBO01BQUE7TUFBQSxDQUFBbEgsY0FBQSxHQUFBRSxDQUFBLFFBQWEsQ0FBQzBHLFVBQUEsRSxHQUFlQyxPQUFBLENBQVEsQ0FDeENyQixHQUFHLENBQUMyQixHQUFBLElBQU87UUFBQTtRQUFBbkgsY0FBQSxHQUFBQyxDQUFBO1FBQUFELGNBQUEsR0FBQUUsQ0FBQTtRQUFBLE9BQUFpSCxHQUFBLENBQUkzQixHQUFHLENBQUM0QixLQUFBLElBQVM7VUFBQTtVQUFBcEgsY0FBQSxHQUFBQyxDQUFBO1VBQUFELGNBQUEsR0FBQUUsQ0FBQTtVQUFBLFdBQUlrSCxLQUFBLEdBQVE7UUFBRCxDQUFDLEVBQUVDLElBQUksQ0FBQztNQUFBLEdBQy9DQSxJQUFJLENBQUM7TUFBQTtNQUFBckgsY0FBQSxHQUFBRSxDQUFBO01BRVIsT0FBTyxJQUFJa0QsT0FBQSxDQUFBQyxZQUFZLENBQUM2RCxVQUFBLEVBQVk7UUFDbENJLE9BQUEsRUFBUztVQUNQLGdCQUFnQjtVQUNoQix1QkFBdUIsMkNBQTJDLElBQUkxRixJQUFBLEdBQU8yRixXQUFXLEdBQUdDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUMxRztNQUNGO0lBQ0Y7SUFBQTtJQUFBO01BQUF4SCxjQUFBLEdBQUFrQixDQUFBO0lBQUE7SUFFQTtJQUFBbEIsY0FBQSxHQUFBRSxDQUFBO0lBQ0EsT0FBTyxJQUFBcUUscUJBQUEsQ0FBQUMsa0JBQWtCLEVBQUNKLFFBQUEsRUFBVTtNQUFBO01BQUFwRSxjQUFBLEdBQUFDLENBQUE7TUFDbEMsTUFBTXdFLE1BQUE7TUFBQTtNQUFBLENBQUF6RSxjQUFBLEdBQUFFLENBQUEsUUFBUyxNQUFNd0UsTUFBQSxDQUFBQyxZQUFZLENBQUNoQixHQUFHLENBQUNTLFFBQUE7TUFBQTtNQUFBcEUsY0FBQSxHQUFBRSxDQUFBO01BQ3RDLElBQUl1RSxNQUFBLEVBQVE7UUFBQTtRQUFBekUsY0FBQSxHQUFBa0IsQ0FBQTtRQUFBbEIsY0FBQSxHQUFBRSxDQUFBO1FBQ1YsT0FBT2tELE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQUNtQixNQUFBO01BQzNCO01BQUE7TUFBQTtRQUFBekUsY0FBQSxHQUFBa0IsQ0FBQTtNQUFBO01BRUEsTUFBTUQsV0FBQTtNQUFBO01BQUEsQ0FBQWpCLGNBQUEsR0FBQUUsQ0FBQSxRQUFjUSx1QkFBQSxDQUF3QjtRQUFFRSxNQUFBO1FBQVFDLE1BQUE7UUFBUUMsVUFBQTtRQUFZQyxTQUFBO1FBQVdDO01BQVE7TUFFN0Y7TUFDQSxNQUFNLENBQUMwRixTQUFBLEVBQVdiLFVBQUEsQ0FBVztNQUFBO01BQUEsQ0FBQTdGLGNBQUEsR0FBQUUsQ0FBQSxRQUFHLE1BQU04RSxPQUFBLENBQUFDLE9BQU0sQ0FBQ3dDLFlBQVksQ0FBQyxDQUN4RHpDLE9BQUEsQ0FBQUMsT0FBTSxDQUFDQyxlQUFlLENBQUNDLFFBQVEsQ0FBQztRQUM5QkMsS0FBQSxFQUFPbkUsV0FBQTtRQUNQb0IsTUFBQSxFQUFRUCx3QkFBQSxDQUF5QkMsWUFBQTtRQUNqQzRFLE9BQUEsRUFBUyxDQUNQO1VBQUVqRixJQUFBLEVBQU07UUFBTyxHQUNmO1VBQUVTLFNBQUEsRUFBVztRQUFPLEVBQ3JCO1FBQ0RnQyxJQUFBO1FBQ0FtQixJQUFBLEVBQU16QjtNQUNSLElBQ0FtQixPQUFBLENBQUFDLE9BQU0sQ0FBQ0MsZUFBZSxDQUFDYSxLQUFLLENBQUM7UUFBRVgsS0FBQSxFQUFPbkU7TUFBWSxHQUNuRDtNQUVELE1BQU15RyxVQUFBO01BQUE7TUFBQSxDQUFBMUgsY0FBQSxHQUFBRSxDQUFBLFFBQWE0RCxJQUFBLENBQUs2RCxJQUFJLENBQUM5QixVQUFBLEdBQWFoQyxLQUFBO01BRTFDLE1BQU0rRCxRQUFBO01BQUE7TUFBQSxDQUFBNUgsY0FBQSxHQUFBRSxDQUFBLFFBQVc7UUFDZjJILElBQUEsRUFBTW5CLFNBQUE7UUFDTm9CLFVBQUEsRUFBWTtVQUNWbEUsSUFBQTtVQUNBQyxLQUFBO1VBQ0FrRSxLQUFBLEVBQU9sQyxVQUFBO1VBQ1A2QixVQUFBO1VBQ0FNLFdBQUEsRUFBYXBFLElBQUEsR0FBTzhELFVBQUE7VUFDcEJPLGVBQUEsRUFBaUJyRSxJQUFBLEdBQU87UUFDMUI7UUFDQXNFLElBQUEsRUFBTTtVQUNKekQsTUFBQSxFQUFRO1VBQ1IwRCxTQUFBLEVBQVcsSUFBSXZHLElBQUEsR0FBTzJGLFdBQVc7UUFDbkM7TUFDRjtNQUVBO01BQUE7TUFBQXZILGNBQUEsR0FBQUUsQ0FBQTtNQUNBLE1BQU13RSxNQUFBLENBQUFDLFlBQVksQ0FBQ2lCLEdBQUcsQ0FBQ3hCLFFBQUEsRUFBVXdELFFBQUEsRUFBVXRILFNBQUEsQ0FBVUMsSUFBSTtNQUFBO01BQUFQLGNBQUEsR0FBQUUsQ0FBQTtNQUV6RCxPQUFPa0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQ3NFLFFBQUE7SUFDM0I7RUFFRixFQUFFLE9BQU9yRSxLQUFBLEVBQU87SUFBQTtJQUFBdkQsY0FBQSxHQUFBRSxDQUFBO0lBQ2RrSSxPQUFBLENBQVE3RSxLQUFLLENBQUMscUNBQXFDQSxLQUFBO0lBQUE7SUFBQXZELGNBQUEsR0FBQUUsQ0FBQTtJQUNuRCxPQUFPa0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FDdEI7TUFDRUMsS0FBQSxFQUFPO01BQ1A4RSxPQUFBLEVBQVNDLE9BQUEsQ0FBUUMsR0FBRyxDQUFDQyxRQUFRLEtBQUs7TUFBQTtNQUFBLENBQUF4SSxjQUFBLEdBQUFrQixDQUFBLFdBQWdCcUMsS0FBQSxDQUFNOEUsT0FBTztNQUFBO01BQUEsQ0FBQXJJLGNBQUEsR0FBQWtCLENBQUEsV0FBRztJQUNwRSxHQUNBO01BQUVMLE1BQUEsRUFBUTtJQUFJO0VBRWxCO0FBQ0Y7QUFHTyxlQUFlVCxLQUFLMkMsT0FBb0I7RUFBQTtFQUFBL0MsY0FBQSxHQUFBQyxDQUFBO0VBQUFELGNBQUEsR0FBQUUsQ0FBQTtFQUM3QyxJQUFJO0lBQ0YsTUFBTThDLEtBQUE7SUFBQTtJQUFBLENBQUFoRCxjQUFBLEdBQUFFLENBQUEsU0FBUSxNQUFNLElBQUErQyxJQUFBLENBQUFDLFFBQVEsRUFBQztNQUFFQyxHQUFBLEVBQUtKO0lBQVE7SUFBQTtJQUFBL0MsY0FBQSxHQUFBRSxDQUFBO0lBQzVDLElBQUksQ0FBQzhDLEtBQUEsRUFBTztNQUFBO01BQUFoRCxjQUFBLEdBQUFrQixDQUFBO01BQUFsQixjQUFBLEdBQUFFLENBQUE7TUFDVixPQUFPa0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQztRQUFFQyxLQUFBLEVBQU87TUFBZSxHQUFHO1FBQUUxQyxNQUFBLEVBQVE7TUFBSTtJQUNwRTtJQUFBO0lBQUE7TUFBQWIsY0FBQSxHQUFBa0IsQ0FBQTtJQUFBO0lBRUEsTUFBTXVILElBQUE7SUFBQTtJQUFBLENBQUF6SSxjQUFBLEdBQUFFLENBQUEsU0FBTyxNQUFNNkMsT0FBQSxDQUFRTyxJQUFJO0lBQy9CLE1BQU07TUFDSmxDLGFBQWE7TUFDYk4sVUFBVTtNQUNWWSxJQUFJO01BQ0pjLEtBQUs7TUFDTGtHLEtBQUs7TUFDTDdILE1BQUE7TUFBQTtNQUFBLENBQUFiLGNBQUEsR0FBQWtCLENBQUEsV0FBUyxRQUFRO0lBQUEsQ0FDbEI7SUFBQTtJQUFBLENBQUFsQixjQUFBLEdBQUFFLENBQUEsU0FBR3VJLElBQUE7SUFFSjtJQUFBO0lBQUF6SSxjQUFBLEdBQUFFLENBQUE7SUFDQTtJQUFJO0lBQUEsQ0FBQUYsY0FBQSxHQUFBa0IsQ0FBQSxZQUFDRSxhQUFBO0lBQUE7SUFBQSxDQUFBcEIsY0FBQSxHQUFBa0IsQ0FBQSxXQUFpQixDQUFDSixVQUFBO0lBQUE7SUFBQSxDQUFBZCxjQUFBLEdBQUFrQixDQUFBLFdBQWMsQ0FBQ1EsSUFBQTtJQUFBO0lBQUEsQ0FBQTFCLGNBQUEsR0FBQWtCLENBQUEsV0FBUSxDQUFDc0IsS0FBQTtJQUFBO0lBQUEsQ0FBQXhDLGNBQUEsR0FBQWtCLENBQUEsV0FBUyxDQUFDeUgsS0FBQSxDQUFNQyxPQUFPLENBQUNwRyxLQUFBO0lBQUE7SUFBQSxDQUFBeEMsY0FBQSxHQUFBa0IsQ0FBQSxXQUFVc0IsS0FBQSxDQUFNeUUsTUFBTSxLQUFLLElBQUc7TUFBQTtNQUFBakgsY0FBQSxHQUFBa0IsQ0FBQTtNQUFBbEIsY0FBQSxHQUFBRSxDQUFBO01BQ25HLE9BQU9rRCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUN0QjtRQUFFQyxLQUFBLEVBQU87TUFBa0UsR0FDM0U7UUFBRTFDLE1BQUEsRUFBUTtNQUFJO0lBRWxCO0lBQUE7SUFBQTtNQUFBYixjQUFBLEdBQUFrQixDQUFBO0lBQUE7SUFFQTtJQUNBLE1BQU1nQixXQUFBO0lBQUE7SUFBQSxDQUFBbEMsY0FBQSxHQUFBRSxDQUFBLFNBQWNzQyxLQUFBLENBQU0rRCxNQUFNLENBQUMsQ0FBQ3NDLEdBQUEsRUFBYXBDLElBQUE7TUFBQTtNQUFBekcsY0FBQSxHQUFBQyxDQUFBO01BQUFELGNBQUEsR0FBQUUsQ0FBQTtNQUM3QyxPQUFPMkksR0FBQSxHQUFPcEMsSUFBQSxDQUFLaEUsUUFBUSxHQUFHZ0UsSUFBQSxDQUFLL0QsU0FBUztJQUM5QyxHQUFHO0lBRUg7SUFDQSxNQUFNb0csTUFBQTtJQUFBO0lBQUEsQ0FBQTlJLGNBQUEsR0FBQUUsQ0FBQSxTQUFTLE1BQU04RSxPQUFBLENBQUFDLE9BQU0sQ0FBQ3dDLFlBQVksQ0FBQyxNQUFPc0IsRUFBQTtNQUFBO01BQUEvSSxjQUFBLEdBQUFDLENBQUE7TUFDOUM7TUFDQSxNQUFNaUYsZUFBQTtNQUFBO01BQUEsQ0FBQWxGLGNBQUEsR0FBQUUsQ0FBQSxTQUFrQixNQUFNNkksRUFBQSxDQUFHN0QsZUFBZSxDQUFDOEQsTUFBTSxDQUFDO1FBQ3REbkIsSUFBQSxFQUFNO1VBQ0p6RyxhQUFBO1VBQ0FOLFVBQUEsRUFBWVcsUUFBQSxDQUFTWCxVQUFBO1VBQ3JCWSxJQUFBLEVBQU0sSUFBSUUsSUFBQSxDQUFLRixJQUFBO1VBQ2ZRLFdBQUE7VUFDQXJCLE1BQUE7VUFDQTZILEtBQUE7VUFDQWxHLEtBQUEsRUFBTztZQUNMd0csTUFBQSxFQUFReEcsS0FBQSxDQUFNZ0QsR0FBRyxDQUFFaUIsSUFBQSxJQUFlO2NBQUE7Y0FBQXpHLGNBQUEsR0FBQUMsQ0FBQTtjQUFBRCxjQUFBLEdBQUFFLENBQUE7Y0FBQTtnQkFDaEMwQyxTQUFBLEVBQVc2RCxJQUFBLENBQUs3RCxTQUFTO2dCQUN6QkgsUUFBQSxFQUFVZ0UsSUFBQSxDQUFLaEUsUUFBUTtnQkFDdkJDLFNBQUEsRUFBVytELElBQUEsQ0FBSy9ELFNBQVM7Z0JBQ3pCQyxVQUFBLEVBQVk4RCxJQUFBLENBQUtoRSxRQUFRLEdBQUdnRSxJQUFBLENBQUsvRDtjQUNuQztZQUFBO1VBQ0Y7UUFDRjtRQUNBdUcsT0FBQSxFQUFTO1VBQ1AxSCxRQUFBLEVBQVU7WUFDUmMsTUFBQSxFQUFRO2NBQ05KLEVBQUEsRUFBSTtjQUNKVCxJQUFBLEVBQU07Y0FDTmMsS0FBQSxFQUFPO2NBQ1BDLEtBQUEsRUFBTztZQUNUO1VBQ0Y7VUFDQUMsS0FBQSxFQUFPO1lBQ0x5RyxPQUFBLEVBQVM7Y0FDUHBHLE9BQUEsRUFBUztnQkFDUFIsTUFBQSxFQUFRO2tCQUNOSixFQUFBLEVBQUk7a0JBQ0pULElBQUEsRUFBTTtrQkFDTnNCLEdBQUEsRUFBSztnQkFDUDtjQUNGO1lBQ0Y7VUFDRjtRQUNGO01BQ0Y7TUFFQTtNQUFBO01BQUE5QyxjQUFBLEdBQUFFLENBQUE7TUFDQSxJQUFJVyxNQUFBLEtBQVcsUUFBUTtRQUFBO1FBQUFiLGNBQUEsR0FBQWtCLENBQUE7UUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtRQUNyQixLQUFLLE1BQU11RyxJQUFBLElBQVFqRSxLQUFBLEVBQU87VUFBQTtVQUFBeEMsY0FBQSxHQUFBRSxDQUFBO1VBQ3hCLE1BQU02SSxFQUFBLENBQUdHLFNBQVMsQ0FBQ0MsVUFBVSxDQUFDO1lBQzVCL0QsS0FBQSxFQUFPO2NBQ0x4QyxTQUFBLEVBQVc2RCxJQUFBLENBQUs3RDtZQUNsQjtZQUNBaUYsSUFBQSxFQUFNO2NBQ0pwRixRQUFBLEVBQVU7Z0JBQ1IyRyxTQUFBLEVBQVczQyxJQUFBLENBQUtoRTtjQUNsQjtZQUNGO1VBQ0Y7UUFDRjtNQUNGO01BQUE7TUFBQTtRQUFBekMsY0FBQSxHQUFBa0IsQ0FBQTtNQUFBO01BQUFsQixjQUFBLEdBQUFFLENBQUE7TUFFQSxPQUFPZ0YsZUFBQTtJQUNUO0lBRUE7SUFBQTtJQUFBbEYsY0FBQSxHQUFBRSxDQUFBO0lBQ0EsTUFBTTRFLE9BQUEsQ0FBUUMsR0FBRyxDQUFDLENBQ2hCTCxNQUFBLENBQUFDLFlBQVksQ0FBQzBFLEtBQUssQ0FBQyx3QkFDbkIzRSxNQUFBLENBQUFDLFlBQVksQ0FBQzBFLEtBQUssQ0FBQyxtQkFDbkIzRSxNQUFBLENBQUFDLFlBQVksQ0FBQzBFLEtBQUssQ0FBQyxhQUNwQjtJQUFBO0lBQUFySixjQUFBLEdBQUFFLENBQUE7SUFFRCxPQUFPa0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQztNQUN2QmdHLE9BQUEsRUFBUztNQUNUekIsSUFBQSxFQUFNaUIsTUFBQTtNQUNOVCxPQUFBLEVBQVM7SUFDWCxHQUFHO01BQUV4SCxNQUFBLEVBQVE7SUFBSTtFQUVuQixFQUFFLE9BQU8wQyxLQUFBLEVBQU87SUFBQTtJQUFBdkQsY0FBQSxHQUFBRSxDQUFBO0lBQ2RrSSxPQUFBLENBQVE3RSxLQUFLLENBQUMsb0NBQW9DQSxLQUFBO0lBQUE7SUFBQXZELGNBQUEsR0FBQUUsQ0FBQTtJQUNsRCxPQUFPa0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FDdEI7TUFDRUMsS0FBQSxFQUFPO01BQ1A4RSxPQUFBLEVBQVNDLE9BQUEsQ0FBUUMsR0FBRyxDQUFDQyxRQUFRLEtBQUs7TUFBQTtNQUFBLENBQUF4SSxjQUFBLEdBQUFrQixDQUFBLFdBQWdCcUMsS0FBQSxDQUFNOEUsT0FBTztNQUFBO01BQUEsQ0FBQXJJLGNBQUEsR0FBQWtCLENBQUEsV0FBRztJQUNwRSxHQUNBO01BQUVMLE1BQUEsRUFBUTtJQUFJO0VBRWxCO0FBQ0Y7QUFHTyxlQUFlUixJQUFJMEMsT0FBb0I7RUFBQTtFQUFBL0MsY0FBQSxHQUFBQyxDQUFBO0VBQUFELGNBQUEsR0FBQUUsQ0FBQTtFQUM1QyxJQUFJO0lBQ0YsTUFBTThDLEtBQUE7SUFBQTtJQUFBLENBQUFoRCxjQUFBLEdBQUFFLENBQUEsU0FBUSxNQUFNLElBQUErQyxJQUFBLENBQUFDLFFBQVEsRUFBQztNQUFFQyxHQUFBLEVBQUtKO0lBQVE7SUFBQTtJQUFBL0MsY0FBQSxHQUFBRSxDQUFBO0lBQzVDLElBQUksQ0FBQzhDLEtBQUEsRUFBTztNQUFBO01BQUFoRCxjQUFBLEdBQUFrQixDQUFBO01BQUFsQixjQUFBLEdBQUFFLENBQUE7TUFDVixPQUFPa0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQztRQUFFQyxLQUFBLEVBQU87TUFBZSxHQUFHO1FBQUUxQyxNQUFBLEVBQVE7TUFBSTtJQUNwRTtJQUFBO0lBQUE7TUFBQWIsY0FBQSxHQUFBa0IsQ0FBQTtJQUFBO0lBRUEsTUFBTXdDLEdBQUE7SUFBQTtJQUFBLENBQUExRCxjQUFBLEdBQUFFLENBQUEsU0FBTSxJQUFJdUQsR0FBQSxDQUFJVixPQUFBLENBQVFXLEdBQUc7SUFDL0IsTUFBTXpCLEVBQUE7SUFBQTtJQUFBLENBQUFqQyxjQUFBLEdBQUFFLENBQUEsU0FBS3dELEdBQUEsQ0FBSTZGLFFBQVEsQ0FBQy9CLEtBQUssQ0FBQyxLQUFLZ0MsR0FBRztJQUFBO0lBQUF4SixjQUFBLEdBQUFFLENBQUE7SUFFdEMsSUFBSSxDQUFDK0IsRUFBQSxFQUFJO01BQUE7TUFBQWpDLGNBQUEsR0FBQWtCLENBQUE7TUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtNQUNQLE9BQU9rRCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUFDO1FBQUVDLEtBQUEsRUFBTztNQUF5QixHQUFHO1FBQUUxQyxNQUFBLEVBQVE7TUFBSTtJQUM5RTtJQUFBO0lBQUE7TUFBQWIsY0FBQSxHQUFBa0IsQ0FBQTtJQUFBO0lBRUEsTUFBTXVILElBQUE7SUFBQTtJQUFBLENBQUF6SSxjQUFBLEdBQUFFLENBQUEsU0FBTyxNQUFNNkMsT0FBQSxDQUFRTyxJQUFJO0lBQy9CLE1BQU07TUFDSmxDLGFBQWE7TUFDYk4sVUFBVTtNQUNWWSxJQUFJO01BQ0pjLEtBQUs7TUFDTGtHLEtBQUs7TUFDTDdIO0lBQU0sQ0FDUDtJQUFBO0lBQUEsQ0FBQWIsY0FBQSxHQUFBRSxDQUFBLFNBQUd1SSxJQUFBO0lBRUo7SUFDQSxNQUFNdkcsV0FBQTtJQUFBO0lBQUEsQ0FBQWxDLGNBQUEsR0FBQUUsQ0FBQSxTQUFjc0MsS0FBQTtJQUFBO0lBQUEsQ0FBQXhDLGNBQUEsR0FBQWtCLENBQUEsV0FBUXNCLEtBQUEsQ0FBTStELE1BQU0sQ0FBQyxDQUFDc0MsR0FBQSxFQUFhcEMsSUFBQTtNQUFBO01BQUF6RyxjQUFBLEdBQUFDLENBQUE7TUFBQUQsY0FBQSxHQUFBRSxDQUFBO01BQ3JELE9BQU8ySSxHQUFBLEdBQU9wQyxJQUFBLENBQUtoRSxRQUFRLEdBQUdnRSxJQUFBLENBQUsvRCxTQUFTO0lBQzlDLEdBQUc7SUFBQTtJQUFBLENBQUExQyxjQUFBLEdBQUFrQixDQUFBLFdBQUt1SSxTQUFBO0lBRVIsTUFBTVgsTUFBQTtJQUFBO0lBQUEsQ0FBQTlJLGNBQUEsR0FBQUUsQ0FBQSxTQUFTLE1BQU04RSxPQUFBLENBQUFDLE9BQU0sQ0FBQ3dDLFlBQVksQ0FBQyxNQUFPc0IsRUFBQTtNQUFBO01BQUEvSSxjQUFBLEdBQUFDLENBQUE7TUFDOUM7TUFDQSxNQUFNeUosY0FBQTtNQUFBO01BQUEsQ0FBQTFKLGNBQUEsR0FBQUUsQ0FBQSxTQUFpQixNQUFNNkksRUFBQSxDQUFHN0QsZUFBZSxDQUFDeUUsVUFBVSxDQUFDO1FBQ3pEdkUsS0FBQSxFQUFPO1VBQUVuRCxFQUFBLEVBQUlSLFFBQUEsQ0FBU1EsRUFBQTtRQUFJO1FBQzFCZ0gsT0FBQSxFQUFTO1VBQUV6RyxLQUFBLEVBQU87UUFBSztNQUN6QjtNQUFBO01BQUF4QyxjQUFBLEdBQUFFLENBQUE7TUFFQSxJQUFJLENBQUN3SixjQUFBLEVBQWdCO1FBQUE7UUFBQTFKLGNBQUEsR0FBQWtCLENBQUE7UUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtRQUNuQixNQUFNLElBQUkwSixLQUFBLENBQU07TUFDbEI7TUFBQTtNQUFBO1FBQUE1SixjQUFBLEdBQUFrQixDQUFBO01BQUE7TUFFQTtNQUNBLE1BQU0ySSxjQUFBO01BQUE7TUFBQSxDQUFBN0osY0FBQSxHQUFBRSxDQUFBLFNBQWlCLE1BQU02SSxFQUFBLENBQUc3RCxlQUFlLENBQUM0RSxNQUFNLENBQUM7UUFDckQxRSxLQUFBLEVBQU87VUFBRW5ELEVBQUEsRUFBSVIsUUFBQSxDQUFTUSxFQUFBO1FBQUk7UUFDMUI0RixJQUFBLEVBQU07VUFDSjtVQUFJO1VBQUEsQ0FBQTdILGNBQUEsR0FBQWtCLENBQUEsV0FBQUUsYUFBQTtVQUFBO1VBQUEsQ0FBQXBCLGNBQUEsR0FBQWtCLENBQUEsV0FBaUI7WUFBRUU7VUFBYyxDQUFDO1VBQ3RDO1VBQUk7VUFBQSxDQUFBcEIsY0FBQSxHQUFBa0IsQ0FBQSxXQUFBSixVQUFBO1VBQUE7VUFBQSxDQUFBZCxjQUFBLEdBQUFrQixDQUFBLFdBQWM7WUFBRUosVUFBQSxFQUFZVyxRQUFBLENBQVNYLFVBQUE7VUFBWSxDQUFDO1VBQ3REO1VBQUk7VUFBQSxDQUFBZCxjQUFBLEdBQUFrQixDQUFBLFdBQUFRLElBQUE7VUFBQTtVQUFBLENBQUExQixjQUFBLEdBQUFrQixDQUFBLFdBQVE7WUFBRVEsSUFBQSxFQUFNLElBQUlFLElBQUEsQ0FBS0YsSUFBQTtVQUFNLENBQUM7VUFDcEM7VUFBSTtVQUFBLENBQUExQixjQUFBLEdBQUFrQixDQUFBLFdBQUFnQixXQUFBLEtBQWdCdUgsU0FBQTtVQUFBO1VBQUEsQ0FBQXpKLGNBQUEsR0FBQWtCLENBQUEsV0FBYTtZQUFFZ0I7VUFBWSxDQUFDO1VBQ2hEO1VBQUk7VUFBQSxDQUFBbEMsY0FBQSxHQUFBa0IsQ0FBQSxXQUFBTCxNQUFBO1VBQUE7VUFBQSxDQUFBYixjQUFBLEdBQUFrQixDQUFBLFdBQVU7WUFBRUw7VUFBTyxDQUFDO1VBQ3hCO1VBQUk7VUFBQSxDQUFBYixjQUFBLEdBQUFrQixDQUFBLFdBQUF3SCxLQUFBLEtBQVVlLFNBQUE7VUFBQTtVQUFBLENBQUF6SixjQUFBLEdBQUFrQixDQUFBLFdBQWE7WUFBRXdIO1VBQU0sQ0FBQztVQUNwQztVQUFJO1VBQUEsQ0FBQTFJLGNBQUEsR0FBQWtCLENBQUEsV0FBQXNCLEtBQUE7VUFBQTtVQUFBLENBQUF4QyxjQUFBLEdBQUFrQixDQUFBLFdBQVM7WUFDWHNCLEtBQUEsRUFBTztjQUNMdUgsVUFBQSxFQUFZLENBQUM7Y0FDYmYsTUFBQSxFQUFReEcsS0FBQSxDQUFNZ0QsR0FBRyxDQUFFaUIsSUFBQSxJQUFlO2dCQUFBO2dCQUFBekcsY0FBQSxHQUFBQyxDQUFBO2dCQUFBRCxjQUFBLEdBQUFFLENBQUE7Z0JBQUE7a0JBQ2hDMEMsU0FBQSxFQUFXNkQsSUFBQSxDQUFLN0QsU0FBUztrQkFDekJILFFBQUEsRUFBVWdFLElBQUEsQ0FBS2hFLFFBQVE7a0JBQ3ZCQyxTQUFBLEVBQVcrRCxJQUFBLENBQUsvRCxTQUFTO2tCQUN6QkMsVUFBQSxFQUFZOEQsSUFBQSxDQUFLaEUsUUFBUSxHQUFHZ0UsSUFBQSxDQUFLL0Q7Z0JBQ25DO2NBQUE7WUFDRjtVQUNGLENBQUM7UUFDSDtRQUNBdUcsT0FBQSxFQUFTO1VBQ1AxSCxRQUFBLEVBQVU7WUFDUmMsTUFBQSxFQUFRO2NBQ05KLEVBQUEsRUFBSTtjQUNKVCxJQUFBLEVBQU07Y0FDTmMsS0FBQSxFQUFPO2NBQ1BDLEtBQUEsRUFBTztZQUNUO1VBQ0Y7VUFDQUMsS0FBQSxFQUFPO1lBQ0x5RyxPQUFBLEVBQVM7Y0FDUHBHLE9BQUEsRUFBUztnQkFDUFIsTUFBQSxFQUFRO2tCQUNOSixFQUFBLEVBQUk7a0JBQ0pULElBQUEsRUFBTTtrQkFDTnNCLEdBQUEsRUFBSztnQkFDUDtjQUNGO1lBQ0Y7VUFDRjtRQUNGO01BQ0Y7TUFFQTtNQUFBO01BQUE5QyxjQUFBLEdBQUFFLENBQUE7TUFDQTtNQUFJO01BQUEsQ0FBQUYsY0FBQSxHQUFBa0IsQ0FBQSxXQUFBTCxNQUFBO01BQUE7TUFBQSxDQUFBYixjQUFBLEdBQUFrQixDQUFBLFdBQVVMLE1BQUEsS0FBVzZJLGNBQUEsQ0FBZTdJLE1BQU0sR0FBRTtRQUFBO1FBQUFiLGNBQUEsR0FBQWtCLENBQUE7UUFDOUMsTUFBTThJLGNBQUE7UUFBQTtRQUFBLENBQUFoSyxjQUFBLEdBQUFFLENBQUE7UUFBaUI7UUFBQSxDQUFBRixjQUFBLEdBQUFrQixDQUFBLFdBQUFzQixLQUFBO1FBQUE7UUFBQSxDQUFBeEMsY0FBQSxHQUFBa0IsQ0FBQSxXQUFTd0ksY0FBQSxDQUFlbEgsS0FBSztRQUFBO1FBQUF4QyxjQUFBLEdBQUFFLENBQUE7UUFFcEQ7UUFBSTtRQUFBLENBQUFGLGNBQUEsR0FBQWtCLENBQUEsV0FBQUwsTUFBQSxLQUFXO1FBQUE7UUFBQSxDQUFBYixjQUFBLEdBQUFrQixDQUFBLFdBQVV3SSxjQUFBLENBQWU3SSxNQUFNLEtBQUssU0FBUTtVQUFBO1VBQUFiLGNBQUEsR0FBQWtCLENBQUE7VUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtVQUN6RDtVQUNBLEtBQUssTUFBTXVHLElBQUEsSUFBUXVELGNBQUEsRUFBZ0I7WUFBQTtZQUFBaEssY0FBQSxHQUFBRSxDQUFBO1lBQ2pDLE1BQU02SSxFQUFBLENBQUdHLFNBQVMsQ0FBQ0MsVUFBVSxDQUFDO2NBQzVCL0QsS0FBQSxFQUFPO2dCQUFFeEMsU0FBQSxFQUFXNkQsSUFBQSxDQUFLN0Q7Y0FBVTtjQUNuQ2lGLElBQUEsRUFBTTtnQkFDSnBGLFFBQUEsRUFBVTtrQkFBRTJHLFNBQUEsRUFBVzNDLElBQUEsQ0FBS2hFO2dCQUFTO2NBQ3ZDO1lBQ0Y7VUFDRjtRQUNGLE9BQU87VUFBQTtVQUFBekMsY0FBQSxHQUFBa0IsQ0FBQTtVQUFBbEIsY0FBQSxHQUFBRSxDQUFBO1VBQUE7VUFBSTtVQUFBLENBQUFGLGNBQUEsR0FBQWtCLENBQUEsV0FBQUwsTUFBQSxLQUFXO1VBQUE7VUFBQSxDQUFBYixjQUFBLEdBQUFrQixDQUFBLFdBQVV3SSxjQUFBLENBQWU3SSxNQUFNLEtBQUssU0FBUTtZQUFBO1lBQUFiLGNBQUEsR0FBQWtCLENBQUE7WUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtZQUNoRTtZQUNBLEtBQUssTUFBTXVHLElBQUEsSUFBUXVELGNBQUEsRUFBZ0I7Y0FBQTtjQUFBaEssY0FBQSxHQUFBRSxDQUFBO2NBQ2pDLE1BQU02SSxFQUFBLENBQUdHLFNBQVMsQ0FBQ0MsVUFBVSxDQUFDO2dCQUM1Qi9ELEtBQUEsRUFBTztrQkFBRXhDLFNBQUEsRUFBVzZELElBQUEsQ0FBSzdEO2dCQUFVO2dCQUNuQ2lGLElBQUEsRUFBTTtrQkFDSnBGLFFBQUEsRUFBVTtvQkFBRXdILFNBQUEsRUFBV3hELElBQUEsQ0FBS2hFO2tCQUFTO2dCQUN2QztjQUNGO1lBQ0Y7VUFDRjtVQUFBO1VBQUE7WUFBQXpDLGNBQUEsR0FBQWtCLENBQUE7VUFBQTtRQUFBO01BQ0Y7TUFBQTtNQUFBO1FBQUFsQixjQUFBLEdBQUFrQixDQUFBO01BQUE7TUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtNQUVBLE9BQU8ySixjQUFBO0lBQ1Q7SUFFQTtJQUFBO0lBQUE3SixjQUFBLEdBQUFFLENBQUE7SUFDQSxNQUFNNEUsT0FBQSxDQUFRQyxHQUFHLENBQUMsQ0FDaEJMLE1BQUEsQ0FBQUMsWUFBWSxDQUFDMEUsS0FBSyxDQUFDLHdCQUNuQjNFLE1BQUEsQ0FBQUMsWUFBWSxDQUFDMEUsS0FBSyxDQUFDLG1CQUNuQjNFLE1BQUEsQ0FBQUMsWUFBWSxDQUFDMEUsS0FBSyxDQUFDLGFBQ3BCO0lBQUE7SUFBQXJKLGNBQUEsR0FBQUUsQ0FBQTtJQUVELE9BQU9rRCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUFDO01BQ3ZCZ0csT0FBQSxFQUFTO01BQ1R6QixJQUFBLEVBQU1pQixNQUFBO01BQ05ULE9BQUEsRUFBUztJQUNYO0VBRUYsRUFBRSxPQUFPOUUsS0FBQSxFQUFPO0lBQUE7SUFBQXZELGNBQUEsR0FBQUUsQ0FBQTtJQUNka0ksT0FBQSxDQUFRN0UsS0FBSyxDQUFDLG9DQUFvQ0EsS0FBQTtJQUFBO0lBQUF2RCxjQUFBLEdBQUFFLENBQUE7SUFDbEQsT0FBT2tELE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQ3RCO01BQ0VDLEtBQUEsRUFBTztNQUNQOEUsT0FBQSxFQUFTQyxPQUFBLENBQVFDLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLO01BQUE7TUFBQSxDQUFBeEksY0FBQSxHQUFBa0IsQ0FBQSxXQUFnQnFDLEtBQUEsQ0FBTThFLE9BQU87TUFBQTtNQUFBLENBQUFySSxjQUFBLEdBQUFrQixDQUFBLFdBQUc7SUFDcEUsR0FDQTtNQUFFTCxNQUFBLEVBQVE7SUFBSTtFQUVsQjtBQUNGO0FBR08sZUFBZWQsT0FBT2dELE9BQW9CO0VBQUE7RUFBQS9DLGNBQUEsR0FBQUMsQ0FBQTtFQUFBRCxjQUFBLEdBQUFFLENBQUE7RUFDL0MsSUFBSTtJQUNGLE1BQU04QyxLQUFBO0lBQUE7SUFBQSxDQUFBaEQsY0FBQSxHQUFBRSxDQUFBLFNBQVEsTUFBTSxJQUFBK0MsSUFBQSxDQUFBQyxRQUFRLEVBQUM7TUFBRUMsR0FBQSxFQUFLSjtJQUFRO0lBQUE7SUFBQS9DLGNBQUEsR0FBQUUsQ0FBQTtJQUM1QyxJQUFJLENBQUM4QyxLQUFBLEVBQU87TUFBQTtNQUFBaEQsY0FBQSxHQUFBa0IsQ0FBQTtNQUFBbEIsY0FBQSxHQUFBRSxDQUFBO01BQ1YsT0FBT2tELE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQUM7UUFBRUMsS0FBQSxFQUFPO01BQWUsR0FBRztRQUFFMUMsTUFBQSxFQUFRO01BQUk7SUFDcEU7SUFBQTtJQUFBO01BQUFiLGNBQUEsR0FBQWtCLENBQUE7SUFBQTtJQUVBLE1BQU13QyxHQUFBO0lBQUE7SUFBQSxDQUFBMUQsY0FBQSxHQUFBRSxDQUFBLFNBQU0sSUFBSXVELEdBQUEsQ0FBSVYsT0FBQSxDQUFRVyxHQUFHO0lBQy9CLE1BQU16QixFQUFBO0lBQUE7SUFBQSxDQUFBakMsY0FBQSxHQUFBRSxDQUFBLFNBQUt3RCxHQUFBLENBQUk2RixRQUFRLENBQUMvQixLQUFLLENBQUMsS0FBS2dDLEdBQUc7SUFBQTtJQUFBeEosY0FBQSxHQUFBRSxDQUFBO0lBRXRDLElBQUksQ0FBQytCLEVBQUEsRUFBSTtNQUFBO01BQUFqQyxjQUFBLEdBQUFrQixDQUFBO01BQUFsQixjQUFBLEdBQUFFLENBQUE7TUFDUCxPQUFPa0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQztRQUFFQyxLQUFBLEVBQU87TUFBeUIsR0FBRztRQUFFMUMsTUFBQSxFQUFRO01BQUk7SUFDOUU7SUFBQTtJQUFBO01BQUFiLGNBQUEsR0FBQWtCLENBQUE7SUFBQTtJQUVBLE1BQU00SCxNQUFBO0lBQUE7SUFBQSxDQUFBOUksY0FBQSxHQUFBRSxDQUFBLFNBQVMsTUFBTThFLE9BQUEsQ0FBQUMsT0FBTSxDQUFDd0MsWUFBWSxDQUFDLE1BQU9zQixFQUFBO01BQUE7TUFBQS9JLGNBQUEsR0FBQUMsQ0FBQTtNQUM5QztNQUNBLE1BQU1pSyxPQUFBO01BQUE7TUFBQSxDQUFBbEssY0FBQSxHQUFBRSxDQUFBLFNBQVUsTUFBTTZJLEVBQUEsQ0FBRzdELGVBQWUsQ0FBQ3lFLFVBQVUsQ0FBQztRQUNsRHZFLEtBQUEsRUFBTztVQUFFbkQsRUFBQSxFQUFJUixRQUFBLENBQVNRLEVBQUE7UUFBSTtRQUMxQmdILE9BQUEsRUFBUztVQUFFekcsS0FBQSxFQUFPO1FBQUs7TUFDekI7TUFBQTtNQUFBeEMsY0FBQSxHQUFBRSxDQUFBO01BRUEsSUFBSSxDQUFDZ0ssT0FBQSxFQUFTO1FBQUE7UUFBQWxLLGNBQUEsR0FBQWtCLENBQUE7UUFBQWxCLGNBQUEsR0FBQUUsQ0FBQTtRQUNaLE1BQU0sSUFBSTBKLEtBQUEsQ0FBTTtNQUNsQjtNQUFBO01BQUE7UUFBQTVKLGNBQUEsR0FBQWtCLENBQUE7TUFBQTtNQUVBO01BQUFsQixjQUFBLEdBQUFFLENBQUE7TUFDQSxJQUFJZ0ssT0FBQSxDQUFRckosTUFBTSxLQUFLLFFBQVE7UUFBQTtRQUFBYixjQUFBLEdBQUFrQixDQUFBO1FBQUFsQixjQUFBLEdBQUFFLENBQUE7UUFDN0IsS0FBSyxNQUFNdUcsSUFBQSxJQUFReUQsT0FBQSxDQUFRMUgsS0FBSyxFQUFFO1VBQUE7VUFBQXhDLGNBQUEsR0FBQUUsQ0FBQTtVQUNoQyxNQUFNNkksRUFBQSxDQUFHRyxTQUFTLENBQUNDLFVBQVUsQ0FBQztZQUM1Qi9ELEtBQUEsRUFBTztjQUFFeEMsU0FBQSxFQUFXNkQsSUFBQSxDQUFLN0Q7WUFBVTtZQUNuQ2lGLElBQUEsRUFBTTtjQUNKcEYsUUFBQSxFQUFVO2dCQUFFd0gsU0FBQSxFQUFXeEQsSUFBQSxDQUFLaEU7Y0FBUztZQUN2QztVQUNGO1FBQ0Y7TUFDRjtNQUFBO01BQUE7UUFBQXpDLGNBQUEsR0FBQWtCLENBQUE7TUFBQTtNQUVBO01BQUFsQixjQUFBLEdBQUFFLENBQUE7TUFDQSxNQUFNNkksRUFBQSxDQUFHN0QsZUFBZSxDQUFDaUYsTUFBTSxDQUFDO1FBQzlCL0UsS0FBQSxFQUFPO1VBQUVuRCxFQUFBLEVBQUlSLFFBQUEsQ0FBU1EsRUFBQTtRQUFJO01BQzVCO01BQUE7TUFBQWpDLGNBQUEsR0FBQUUsQ0FBQTtNQUVBLE9BQU9nSyxPQUFBO0lBQ1Q7SUFFQTtJQUFBO0lBQUFsSyxjQUFBLEdBQUFFLENBQUE7SUFDQSxNQUFNNEUsT0FBQSxDQUFRQyxHQUFHLENBQUMsQ0FDaEJMLE1BQUEsQ0FBQUMsWUFBWSxDQUFDMEUsS0FBSyxDQUFDLHdCQUNuQjNFLE1BQUEsQ0FBQUMsWUFBWSxDQUFDMEUsS0FBSyxDQUFDLG1CQUNuQjNFLE1BQUEsQ0FBQUMsWUFBWSxDQUFDMEUsS0FBSyxDQUFDLGFBQ3BCO0lBQUE7SUFBQXJKLGNBQUEsR0FBQUUsQ0FBQTtJQUVELE9BQU9rRCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUFDO01BQ3ZCZ0csT0FBQSxFQUFTO01BQ1RqQixPQUFBLEVBQVM7SUFDWDtFQUVGLEVBQUUsT0FBTzlFLEtBQUEsRUFBTztJQUFBO0lBQUF2RCxjQUFBLEdBQUFFLENBQUE7SUFDZGtJLE9BQUEsQ0FBUTdFLEtBQUssQ0FBQyxvQ0FBb0NBLEtBQUE7SUFBQTtJQUFBdkQsY0FBQSxHQUFBRSxDQUFBO0lBQ2xELE9BQU9rRCxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUN0QjtNQUNFQyxLQUFBLEVBQU87TUFDUDhFLE9BQUEsRUFBU0MsT0FBQSxDQUFRQyxHQUFHLENBQUNDLFFBQVEsS0FBSztNQUFBO01BQUEsQ0FBQXhJLGNBQUEsR0FBQWtCLENBQUEsV0FBZ0JxQyxLQUFBLENBQU04RSxPQUFPO01BQUE7TUFBQSxDQUFBckksY0FBQSxHQUFBa0IsQ0FBQSxXQUFHO0lBQ3BFLEdBQ0E7TUFBRUwsTUFBQSxFQUFRO0lBQUk7RUFFbEI7QUFDRiIsImlnbm9yZUxpc3QiOltdfQ==