{"version":3,"sources":["/Users/sachin/Documents/md-sports-/src/components/layout/MainLayout.tsx"],"sourcesContent":["'use client';\n\nimport React, { ReactNode, useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useAuth } from '@/hooks/useAuth';\nimport { QueryProvider } from '@/context/QueryProvider';\nimport { hasPermission } from '@/lib/utils/permissions';\nimport {\n    Home,\n    Package,\n    Store,\n    Users,\n    FileText,\n    BarChart2,\n    Settings,\n    Menu,\n    X,\n    LogOut,\n    TruckIcon,\n    ClipboardIcon,\n    ReceiptIcon,\n    WalletIcon,\n    ChevronDown,\n    ChevronRight,\n    MessageSquare,\n    CreditCard,\n    Receipt,\n    Calculator,\n    History\n} from 'lucide-react';\nimport { cn } from '@/lib/utils/cn';\n// Toaster removed - handled by root layout.tsx\n\ntype NavItem = {\n    icon: React.ElementType;\n    href: string;\n    label: string;\n    requiredPermission?: string;\n    children?: NavItem[];\n};\n\nconst navItems: NavItem[] = [\n    { icon: Home, href: '/dashboard', label: 'Dashboard', requiredPermission: 'dashboard:view' },\n    { \n        icon: Package, \n        href: '/inventory', \n        label: 'Inventory',\n        children: [\n            { icon: Package, href: '/inventory', label: 'All Products', requiredPermission: 'inventory:view' },\n            { icon: TruckIcon, href: '/inventory/transfers', label: 'Transfers', requiredPermission: 'inventory:transfer' },\n        ]\n    },\n    { icon: Store, href: '/inventory/distribution', label: 'Shop Distribution', requiredPermission: 'shop:distribution:view' },\n    { icon: Store, href: '/shops', label: 'Shops', requiredPermission: 'shop:view' },\n    { icon: Users, href: '/customers', label: 'Customers', requiredPermission: 'customer:view' },\n    { icon: FileText, href: '/invoices', label: 'Sales Invoices', requiredPermission: 'invoice:view' },\n    { icon: ClipboardIcon, href: '/quotations', label: 'Quotations', requiredPermission: 'quotation:view' },\n    { icon: WalletIcon, href: '/purchases', label: 'Purchases', requiredPermission: 'purchase:view' },\n    { icon: TruckIcon, href: '/suppliers', label: 'Suppliers', requiredPermission: 'supplier:view' },\n    { icon: CreditCard, href: '/payments', label: 'Payments', requiredPermission: 'payment:view' },\n    { icon: Receipt, href: '/receipts', label: 'Receipts', requiredPermission: 'receipt:view' },\n    { icon: Calculator, href: '/accounting', label: 'Accounting', requiredPermission: 'accounting:view' },\n    { icon: BarChart2, href: '/reports', label: 'Reports', requiredPermission: 'report:view' },\n    { icon: History, href: '/audit-trail', label: 'Audit Trail', requiredPermission: 'audit:view' },\n    { icon: Settings, href: '/settings', label: 'Settings' },\n];\n\ninterface MainLayoutProps {\n    children: ReactNode;\n}\n\nexport default function MainLayout({ children }: MainLayoutProps) {\n    const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n    const [expandedItems, setExpandedItems] = useState<string[]>(['/inventory']); // Auto-expand Inventory by default\n    const pathname = usePathname();\n    const { logout, user } = useAuth();\n\n    const toggleSidebar = () => setIsSidebarOpen(!isSidebarOpen);\n\n    const toggleSubmenu = (itemHref: string) => {\n        setExpandedItems(prev =>\n            prev.includes(itemHref)\n                ? prev.filter(href => href !== itemHref)\n                : [...prev, itemHref]\n        );\n    };\n\n    // Auto-expand parent menu if current path is a child\n    useEffect(() => {\n        navItems.forEach(item => {\n            if (item.children && item.children.some(child => child.href === pathname)) {\n                if (!expandedItems.includes(item.href)) {\n                    setExpandedItems(prev => [...prev, item.href]);\n                }\n            }\n        });\n    }, [pathname]);\n\n    // Handle sign out\n    const handleSignOut = () => {\n        logout();\n    };\n\n    // Check if user has the required permission for a menu item\n    const checkUserPermission = (requiredPermission?: string): boolean => {\n        if (!requiredPermission) return true; // No permission required\n\n        // --- Start of new logging ---\n        console.log(\n            '[MainLayout] Checking permission. Required:',\n            requiredPermission,\n            'User object:',\n            JSON.parse(JSON.stringify(user || null)), // Deep copy for better logging\n            'User permissions array:',\n            user?.permissions\n        );\n        // --- End of new logging ---\n\n        if (!user) {\n            console.log('[MainLayout] User is null or undefined.');\n            return false;\n        }\n        \n        if (!user.permissions || !Array.isArray(user.permissions)) {\n            console.log('[MainLayout] User permissions is not an array:', user.permissions);\n            return false; // No permissions available or invalid permissions\n        }\n\n        // Use standardized permission checking from imported utility\n        const hasPerm = hasPermission(user.permissions, requiredPermission);\n        \n        console.log('[MainLayout] Permission check result for ', requiredPermission, ':', hasPerm);\n        return hasPerm;\n    };\n\n    // Filter navigation items based on user permissions\n    const getAuthorizedNavItems = (): NavItem[] => {\n        return navItems.map(item => {\n            // Handle items with children\n            if (item.children) {\n                const authorizedChildren = item.children.filter(child =>\n                    checkUserPermission(child.requiredPermission)\n                );\n\n                // If a parent item has a specific permission, it must be met.\n                // If it doesn't, it should be shown if any of its children are visible.\n                const parentHasAccess = item.requiredPermission ? checkUserPermission(item.requiredPermission) : true;\n\n                if (authorizedChildren.length > 0 && parentHasAccess) {\n                    // If the parent's requiredPermission is generic (like 'inventory:view')\n                    // and the user has access to children, we show the parent.\n                    // This logic is simplified by just checking if there are children.\n                    return { ...item, children: authorizedChildren };\n                }\n                return null;\n            }\n\n            // For items without children\n            const itemAccess = checkUserPermission(item.requiredPermission);\n            return itemAccess ? item : null;\n        }).filter((item): item is NavItem => item !== null);\n    };\n\n    const authorizedNavItems = getAuthorizedNavItems();\n\n    return (\n        <QueryProvider>\n            <div className=\"min-h-screen bg-gray-100\">\n                {/* Toaster removed - handled by root layout.tsx */}\n                {/* Sidebar */}\n                <aside\n                    className={cn(\n                        'fixed inset-y-0 left-0 z-40 w-64 bg-secondary text-tertiary transform transition-transform duration-300 ease-in-out flex flex-col',\n                        isSidebarOpen ? 'translate-x-0' : '-translate-x-full',\n                        'md:translate-x-0'\n                    )}\n                >\n                    {/* Header */}\n                    <div className=\"flex items-center justify-between h-16 px-4 border-b border-gray-800 flex-shrink-0\">\n                        <div className=\"flex items-center\">\n                            <span className=\"text-xl font-bold text-primary\">MS Sport</span>\n                        </div>\n                        <button\n                            className=\"md:hidden text-tertiary hover:text-primary\"\n                            onClick={toggleSidebar}\n                        >\n                            <X size={24} />\n                        </button>\n                    </div>\n\n                    {/* Scrollable Navigation */}\n                    <div className=\"flex-1 overflow-y-auto\">\n                        <nav className=\"mt-6 px-2\">\n                            <ul className=\"space-y-1\">\n                                {authorizedNavItems.map((item) => {\n                                    const Icon = item.icon;\n                                    const isActive = pathname === item.href;\n                                    const isExpanded = expandedItems.includes(item.href);\n                                    const hasActiveChild = item.children?.some(child => pathname === child.href);\n                                    const isParentActive = isActive || hasActiveChild;\n\n                                    // Filter children based on permissions\n                                    const authorizedChildren = item.children?.filter(child =>\n                                        checkUserPermission(child.requiredPermission)\n                                    ) || [];\n\n                                    return (\n                                        <li key={item.href} className={item.children ? 'mb-1' : ''}>\n                                            {item.children && authorizedChildren.length > 0 ? (\n                                                <>\n                                                    <div className=\"flex\">\n                                                        <Link\n                                                            href={item.href}\n                                                            className={cn(\n                                                                'flex-grow flex items-center px-4 py-3 rounded-l-md transition-colors',\n                                                                isParentActive\n                                                                    ? 'bg-primary text-tertiary'\n                                                                    : 'text-gray-300 hover:bg-gray-800 hover:text-tertiary'\n                                                            )}\n                                                        >\n                                                            <Icon className=\"mr-3 h-5 w-5\" />\n                                                            <span>{item.label}</span>\n                                                        </Link>\n                                                        <button\n                                                            onClick={() => toggleSubmenu(item.href)}\n                                                            className={cn(\n                                                                'w-10 flex items-center justify-center rounded-r-md transition-colors',\n                                                                isParentActive\n                                                                    ? 'bg-primary text-tertiary'\n                                                                    : 'text-gray-300 hover:bg-gray-800 hover:text-tertiary'\n                                                            )}\n                                                            aria-label=\"Toggle submenu\"\n                                                        >\n                                                            {isExpanded ? (\n                                                                <ChevronDown className=\"h-4 w-4\" />\n                                                            ) : (\n                                                                <ChevronRight className=\"h-4 w-4\" />\n                                                            )}\n                                                        </button>\n                                                    </div>\n                                                    {isExpanded && (\n                                                        <ul className=\"mt-1 ml-6 space-y-1\">\n                                                            {authorizedChildren.map(child => {\n                                                                const ChildIcon = child.icon;\n                                                                const isChildActive = pathname === child.href;\n                                                                return (\n                                                                    <li key={child.href}>\n                                                                        <Link\n                                                                            href={child.href}\n                                                                            className={cn(\n                                                                                'flex items-center px-4 py-2 rounded-md transition-colors',\n                                                                                isChildActive\n                                                                                    ? 'bg-gray-700 text-tertiary'\n                                                                                    : 'text-gray-300 hover:bg-gray-800 hover:text-tertiary'\n                                                                            )}\n                                                                        >\n                                                                            <ChildIcon className=\"mr-3 h-4 w-4\" />\n                                                                            <span>{child.label}</span>\n                                                                        </Link>\n                                                                    </li>\n                                                                );\n                                                            })}\n                                                        </ul>\n                                                    )}\n                                                </>\n                                            ) : (\n                                                <Link\n                                                    href={item.href}\n                                                    className={cn(\n                                                        'flex items-center px-4 py-3 rounded-md transition-colors',\n                                                        isActive\n                                                            ? 'bg-primary text-tertiary'\n                                                            : 'text-gray-300 hover:bg-gray-800 hover:text-tertiary'\n                                                    )}\n                                                >\n                                                    <Icon className=\"mr-3 h-5 w-5\" />\n                                                    <span>{item.label}</span>\n                                                </Link>\n                                            )}\n                                        </li>\n                                    );\n                                })}\n                            </ul>\n                        </nav>\n                    </div>\n\n                    {/* Footer */}\n                    <div className=\"p-4 border-t border-gray-800 bg-secondary flex-shrink-0\">\n                        <button\n                            className=\"flex items-center justify-center w-full px-4 py-2 text-sm text-gray-300 hover:text-tertiary hover:bg-gray-800 rounded-md transition-colors\"\n                            onClick={handleSignOut}\n                        >\n                            <LogOut className=\"mr-2 h-4 w-4\" />\n                            <span>Sign out</span>\n                        </button>\n                    </div>\n                </aside>\n\n                {/* Main content */}\n                <div\n                    className={cn(\n                        'transition-all duration-300',\n                        isSidebarOpen ? 'md:ml-64' : ''\n                    )}\n                >\n                    {/* Top nav */}\n                    <header className=\"bg-tertiary shadow\">\n                        <div className=\"flex items-center justify-between h-16 px-4\">\n                            <div className=\"flex items-center\">\n                                <button\n                                    className=\"mr-4 text-secondary md:hidden\"\n                                    onClick={toggleSidebar}\n                                >\n                                    <Menu size={24} />\n                                </button>\n                                <h1 className=\"text-xl font-semibold text-gray-800\">\n                                    {pathname === '/' ? 'Dashboard' : (\n                                        authorizedNavItems.flatMap(item =>\n                                            [item, ...(item.children || [])]\n                                        ).find(item => pathname === item.href)?.label || 'Dashboard'\n                                    )}\n                                </h1>\n                            </div>\n                            <div className=\"flex items-center\">\n                                <div className=\"ml-3 relative\">\n                                    <div className=\"flex items-center space-x-2\">\n                                        <span className=\"text-sm font-medium text-gray-700\">{user?.fullName || 'Admin User'}</span>\n                                        <div className=\"h-8 w-8 rounded-full bg-gray-500 flex items-center justify-center text-tertiary\">\n                                            {user?.fullName?.charAt(0) || 'A'}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </header>\n\n                    {/* Page content */}\n                    <main className=\"p-6\">{children}</main>\n                </div>\n            </div>\n        </QueryProvider>\n    );\n}"],"names":["MainLayout","navItems","icon","Home","href","label","requiredPermission","Package","children","TruckIcon","Store","Users","FileText","ClipboardIcon","WalletIcon","CreditCard","Receipt","Calculator","BarChart2","History","Settings","isSidebarOpen","setIsSidebarOpen","useState","expandedItems","setExpandedItems","pathname","usePathname","logout","user","useAuth","toggleSidebar","toggleSubmenu","itemHref","prev","includes","filter","useEffect","forEach","item","some","child","handleSignOut","checkUserPermission","console","log","JSON","parse","stringify","permissions","Array","isArray","hasPerm","hasPermission","getAuthorizedNavItems","map","authorizedChildren","parentHasAccess","length","itemAccess","authorizedNavItems","QueryProvider","div","className","aside","cn","span","button","onClick","X","size","nav","ul","Icon","isActive","isExpanded","hasActiveChild","isParentActive","li","Link","aria-label","ChevronDown","ChevronRight","ChildIcon","isChildActive","LogOut","header","Menu","h1","flatMap","find","fullName","charAt","main"],"mappings":"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"}