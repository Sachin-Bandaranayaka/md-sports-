{"version":3,"names":["cov_2g3cz359jg","actualCoverage","s","DashboardMetrics","dummySummaryData","title","value","icon","trend","trendUp","requiredPermission","summaryData","isLoading","b","f","user","_useAuth","useAuth","iconMap","_lucidereact","Package","Truck","CreditCard","AlertTriangle","Tag","TrendingUp","hasPermission","permissions","length","includes","displayData","getAuthorizedMetrics","filter","item","authorizedMetrics","_jsxruntime","jsx","className","filteredDisplayData","map","index","IconComponent","jsxs"],"sources":["/Users/sachin/Documents/md-sports-/src/app/(protected)/dashboard/components/DashboardMetrics.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Package, Truck, CreditCard, AlertTriangle, Tag, TrendingUp, TrendingDown } from 'lucide-react';\nimport { useAuth } from '@/hooks/useAuth';\n\n// Types for our data\ninterface SummaryItem {\n    title: string;\n    value: string;\n    icon: string;\n    trend: string;\n    trendUp: boolean;\n    requiredPermission?: string;\n}\n\n// Dummy data for backup with permissions\nconst dummySummaryData: SummaryItem[] = [\n    { title: 'Pending Transfers', value: '12', icon: 'Truck', trend: '+2', trendUp: true, requiredPermission: 'inventory:view' },\n];\n\ninterface DashboardMetricsProps {\n    summaryData: SummaryItem[] | null;\n    isLoading?: boolean;\n}\n\nexport default function DashboardMetrics({ summaryData, isLoading = false }: DashboardMetricsProps) {\n    const { user } = useAuth();\n\n    // Map icon names to components\n    const iconMap: Record<string, React.ElementType> = {\n        'Package': Package,\n        'Truck': Truck,\n        'CreditCard': CreditCard,\n        'AlertTriangle': AlertTriangle,\n        'Tag': Tag,\n        'TrendingUp': TrendingUp\n    };\n\n    // Check if user has the required permission\n    const hasPermission = (requiredPermission?: string): boolean => {\n        if (!requiredPermission) return true; // No permission required\n        if (!user?.permissions || !user.permissions.length) return false;\n        return user.permissions.includes(requiredPermission);\n    };\n\n    // Use provided data or fallback to dummy data\n    const displayData = summaryData || dummySummaryData;\n\n    // Filter metrics based on user permissions\n    const getAuthorizedMetrics = () => {\n        return displayData.filter(item => hasPermission(item.requiredPermission));\n    };\n\n    const authorizedMetrics = getAuthorizedMetrics();\n\n    // Simple loading state without animations\n    if (isLoading && !summaryData) {\n        return (\n            <div className=\"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-6\">\n                <div className=\"bg-tertiary p-6 rounded-lg shadow-sm border border-gray-200\">\n                    <div className=\"text-sm text-gray-400\">Loading...</div>\n                </div>\n            </div>\n        );\n    }\n\n    // Filter out \"Total Retail Value\" card and apply permission filtering\n    const filteredDisplayData = authorizedMetrics.filter(item => item.title !== 'Total Retail Value');\n\n    // Show message if no metrics are available\n    if (filteredDisplayData.length === 0 && !isLoading) {\n        return (\n            <div className=\"bg-tertiary p-6 rounded-lg shadow-sm border border-gray-200 text-center\">\n                <p className=\"text-gray-500\">No dashboard metrics available with your current permissions.</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-1 gap-6\">\n            {filteredDisplayData.map((item, index) => {\n                // Get the corresponding icon component\n                const IconComponent = iconMap[item.icon] || Package;\n\n                return (\n                    <div\n                        key={index}\n                        className=\"bg-tertiary p-6 rounded-lg shadow-sm border border-gray-200\"\n                    >\n                        <div className=\"flex items-start justify-between\">\n                            <div>\n                                <p className=\"text-sm font-medium text-gray-500\">{item.title}</p>\n                                <h3 className=\"text-2xl font-bold text-gray-900 mt-1\">{item.value}</h3>\n\n                            </div>\n                            <div className=\"bg-gray-100 p-3 rounded-full\">\n                                <IconComponent className=\"h-6 w-6 text-primary\" />\n                            </div>\n                        </div>\n                    </div>\n                );\n            })}\n        </div>\n    );\n}"],"mappings":"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","ignoreList":[]}