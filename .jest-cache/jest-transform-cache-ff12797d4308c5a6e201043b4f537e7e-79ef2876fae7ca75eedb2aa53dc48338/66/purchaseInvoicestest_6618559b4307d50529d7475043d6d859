9e751913a8ca8278ce3a4d72760f6cd0
// Fixed Purchase Invoices Integration Test Suite
// This file contains the corrected version of purchaseInvoices.test.ts
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _prisma = /*#__PURE__*/ _interop_require_default(require("../../src/lib/prisma"));
const _purchaseInvoiceService = require("../../src/services/purchaseInvoiceService");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Note: Using string literals for status values since enums are not defined in schema
// Mock Prisma client
const mockPrisma = {
    user: {
        create: _globals.jest.fn(),
        findUnique: _globals.jest.fn(),
        findMany: _globals.jest.fn(),
        update: _globals.jest.fn(),
        delete: _globals.jest.fn(),
        deleteMany: _globals.jest.fn()
    },
    supplier: {
        create: _globals.jest.fn(),
        findUnique: _globals.jest.fn(),
        findMany: _globals.jest.fn(),
        update: _globals.jest.fn(),
        delete: _globals.jest.fn(),
        deleteMany: _globals.jest.fn()
    },
    category: {
        create: _globals.jest.fn(),
        findUnique: _globals.jest.fn(),
        findMany: _globals.jest.fn(),
        update: _globals.jest.fn(),
        delete: _globals.jest.fn(),
        deleteMany: _globals.jest.fn()
    },
    product: {
        create: _globals.jest.fn(),
        findUnique: _globals.jest.fn(),
        findMany: _globals.jest.fn(),
        update: _globals.jest.fn(),
        delete: _globals.jest.fn(),
        deleteMany: _globals.jest.fn()
    },
    purchaseInvoice: {
        create: _globals.jest.fn(),
        findUnique: _globals.jest.fn(),
        findMany: _globals.jest.fn(),
        update: _globals.jest.fn(),
        delete: _globals.jest.fn(),
        deleteMany: _globals.jest.fn()
    },
    purchaseInvoiceItem: {
        create: _globals.jest.fn(),
        findUnique: _globals.jest.fn(),
        findMany: _globals.jest.fn(),
        update: _globals.jest.fn(),
        delete: _globals.jest.fn(),
        deleteMany: _globals.jest.fn()
    },
    inventoryItem: {
        create: _globals.jest.fn(),
        findUnique: _globals.jest.fn(),
        findMany: _globals.jest.fn(),
        update: _globals.jest.fn(),
        delete: _globals.jest.fn(),
        deleteMany: _globals.jest.fn()
    },
    $connect: _globals.jest.fn(),
    $disconnect: _globals.jest.fn()
};
// Mock the prisma import
_globals.jest.mock("@/lib/prisma", ()=>({
        __esModule: true,
        default: mockPrisma,
        prisma: mockPrisma
    }));
// Mock the db module as well
_globals.jest.mock("@/lib/db", ()=>({
        __esModule: true,
        default: mockPrisma,
        db: mockPrisma,
        prisma: mockPrisma
    }));
describe("Purchase Invoices Integration Tests", ()=>{
    let purchaseInvoiceService;
    // Test data
    let testSupplier;
    let testProduct;
    let testUser;
    let testCategory;
    beforeAll(async ()=>{
        // Initialize service
        purchaseInvoiceService = new _purchaseInvoiceService.PurchaseInvoiceService();
        // Setup mock responses
        console.log("Setting up test mocks");
    });
    beforeEach(async ()=>{
        // Reset all mocks
        _globals.jest.clearAllMocks();
        // Setup mock test data
        testUser = {
            id: "test-user-id",
            email: "test@example.com",
            password: "hashed-password",
            role: "ADMIN",
            isActive: true
        };
        testSupplier = {
            id: "test-supplier-id",
            name: "Test Supplier",
            email: "supplier@example.com",
            phone: "1234567890",
            address: "123 Test Street",
            isActive: true
        };
        testCategory = {
            id: "test-category-id",
            name: "Test Category",
            description: "Category for testing"
        };
        testProduct = {
            id: "test-product-id",
            name: "Test Product",
            sku: "TEST-001",
            price: 99.99,
            cost: 50.00,
            categoryId: testCategory.id,
            description: "Test product for purchase invoice testing"
        };
        // Setup mock responses
        mockPrisma.user.create.mockResolvedValue(testUser);
        mockPrisma.supplier.create.mockResolvedValue(testSupplier);
        mockPrisma.category.create.mockResolvedValue(testCategory);
        mockPrisma.product.create.mockResolvedValue(testProduct);
        mockPrisma.user.findUnique.mockResolvedValue(testUser);
        mockPrisma.supplier.findUnique.mockResolvedValue(testSupplier);
        mockPrisma.product.findUnique.mockResolvedValue(testProduct);
        console.log("Test mocks setup successfully");
    });
    afterEach(async ()=>{
        // Reset mocks after each test
        _globals.jest.clearAllMocks();
    });
    afterAll(async ()=>{
        // Final cleanup
        _globals.jest.restoreAllMocks();
        console.log("Test cleanup completed");
    });
    describe("Purchase Invoice Creation", ()=>{
        it("should create a purchase invoice successfully", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-001",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: "PENDING",
                subtotal: 500.00,
                taxAmount: 50.00,
                totalAmount: 550.00,
                notes: "Test purchase invoice",
                createdBy: testUser.id
            };
            // Act
            const result = await purchaseInvoiceService.createPurchaseInvoice(invoiceData);
            // Assert
            expect(result).toBeDefined();
            expect(result.id).toBeDefined();
            expect(result.invoiceNumber).toBe("PI-001");
            expect(result.supplierId).toBe(testSupplier.id);
            expect(result.status).toBe("PENDING");
            expect(result.totalAmount).toBe(550.00);
            // Verify in database
            const dbInvoice = await _prisma.default.purchaseInvoice.findUnique({
                where: {
                    id: result.id
                }
            });
            expect(dbInvoice).toBeDefined();
            expect(dbInvoice?.invoiceNumber).toBe("PI-001");
        });
        it("should create purchase invoice with items", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-002",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: "PENDING",
                createdBy: testUser.id,
                items: [
                    {
                        productId: testProduct.id,
                        quantity: 10,
                        unitCost: 50.00,
                        totalCost: 500.00
                    }
                ]
            };
            // Act
            const result = await purchaseInvoiceService.createPurchaseInvoiceWithItems(invoiceData);
            // Assert
            expect(result).toBeDefined();
            expect(result.id).toBeDefined();
            // Verify items were created
            const invoiceItems = await _prisma.default.purchaseInvoiceItem.findMany({
                where: {
                    purchaseInvoiceId: result.id
                }
            });
            expect(invoiceItems).toHaveLength(1);
            expect(invoiceItems[0].productId).toBe(testProduct.id);
            expect(invoiceItems[0].quantity).toBe(10);
            expect(invoiceItems[0].unitCost).toBe(50.00);
        });
        it("should validate required fields", async ()=>{
            // Arrange
            const invalidData = {
                // Missing required fields
                invoiceNumber: "PI-003"
            };
            // Act & Assert
            await expect(purchaseInvoiceService.createPurchaseInvoice(invalidData)).rejects.toThrow();
        });
        it("should prevent duplicate invoice numbers", async ()=>{
            // Arrange
            const invoiceData1 = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-DUPLICATE",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: "PENDING",
                subtotal: 100.00,
                totalAmount: 100.00,
                createdBy: testUser.id
            };
            const invoiceData2 = {
                ...invoiceData1
            };
            // Act
            await purchaseInvoiceService.createPurchaseInvoice(invoiceData1);
            // Assert
            await expect(purchaseInvoiceService.createPurchaseInvoice(invoiceData2)).rejects.toThrow(/unique constraint/i);
        });
    });
    describe("Purchase Invoice Retrieval", ()=>{
        let testInvoice;
        beforeEach(async ()=>{
            // Create a test invoice for retrieval tests
            testInvoice = await _prisma.default.purchaseInvoice.create({
                data: {
                    supplierId: testSupplier.id,
                    invoiceNumber: "PI-RETRIEVE-001",
                    invoiceDate: new Date(),
                    dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                    status: "PENDING",
                    subtotal: 200.00,
                    taxAmount: 20.00,
                    totalAmount: 220.00,
                    createdBy: testUser.id
                }
            });
        });
        it("should retrieve purchase invoice by ID", async ()=>{
            // Act
            const result = await purchaseInvoiceService.getPurchaseInvoiceById(testInvoice.id);
            // Assert
            expect(result).toBeDefined();
            expect(result?.id).toBe(testInvoice.id);
            expect(result?.invoiceNumber).toBe("PI-RETRIEVE-001");
            expect(result?.totalAmount).toBe(220.00);
        });
        it("should retrieve purchase invoice with supplier details", async ()=>{
            // Act
            const result = await purchaseInvoiceService.getPurchaseInvoiceWithDetails(testInvoice.id);
            // Assert
            expect(result).toBeDefined();
            expect(result?.supplier).toBeDefined();
            expect(result?.supplier.name).toBe("Test Supplier");
        });
        it("should return null for non-existent invoice", async ()=>{
            // Act
            const result = await purchaseInvoiceService.getPurchaseInvoiceById(99999);
            // Assert
            expect(result).toBeNull();
        });
        it("should retrieve all purchase invoices with pagination", async ()=>{
            // Arrange - Create additional invoices
            await _prisma.default.purchaseInvoice.createMany({
                data: [
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-PAGE-001",
                        invoiceDate: new Date(),
                        dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                        status: "PENDING",
                        subtotal: 100.00,
                        totalAmount: 100.00,
                        createdBy: testUser.id
                    },
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-PAGE-002",
                        invoiceDate: new Date(),
                        dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                        status: "PENDING",
                        subtotal: 150.00,
                        totalAmount: 150.00,
                        createdBy: testUser.id
                    }
                ]
            });
            // Act
            const result = await purchaseInvoiceService.getPurchaseInvoices({
                page: 1,
                limit: 2
            });
            // Assert
            expect(result.invoices).toHaveLength(2);
            expect(result.total).toBeGreaterThanOrEqual(3);
            expect(result.page).toBe(1);
            expect(result.limit).toBe(2);
        });
    });
    describe("Purchase Invoice Updates", ()=>{
        let testInvoice;
        beforeEach(async ()=>{
            testInvoice = await _prisma.default.purchaseInvoice.create({
                data: {
                    supplierId: testSupplier.id,
                    invoiceNumber: "PI-UPDATE-001",
                    invoiceDate: new Date(),
                    dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                    status: "PENDING",
                    subtotal: 300.00,
                    totalAmount: 300.00,
                    createdBy: testUser.id
                }
            });
        });
        it("should update purchase invoice status", async ()=>{
            // Act
            const result = await purchaseInvoiceService.updatePurchaseInvoiceStatus(testInvoice.id, "APPROVED");
            // Assert
            expect(result.status).toBe("APPROVED");
            // Verify in database
            const dbInvoice = await _prisma.default.purchaseInvoice.findUnique({
                where: {
                    id: testInvoice.id
                }
            });
            expect(dbInvoice?.status).toBe("APPROVED");
        });
        it("should update purchase invoice details", async ()=>{
            // Arrange
            const updateData = {
                notes: "Updated notes",
                subtotal: 350.00,
                taxAmount: 35.00,
                totalAmount: 385.00
            };
            // Act
            const result = await purchaseInvoiceService.updatePurchaseInvoice(testInvoice.id, updateData);
            // Assert
            expect(result.notes).toBe("Updated notes");
            expect(result.totalAmount).toBe(385.00);
        });
        it("should prevent updating approved invoices", async ()=>{
            // Arrange - First approve the invoice
            await purchaseInvoiceService.updatePurchaseInvoiceStatus(testInvoice.id, "APPROVED");
            // Act & Assert
            await expect(purchaseInvoiceService.updatePurchaseInvoice(testInvoice.id, {
                notes: "Should not be allowed"
            })).rejects.toThrow(/cannot be modified/i);
        });
    });
    describe("Purchase Invoice Deletion", ()=>{
        let testInvoice;
        beforeEach(async ()=>{
            testInvoice = await _prisma.default.purchaseInvoice.create({
                data: {
                    supplierId: testSupplier.id,
                    invoiceNumber: "PI-DELETE-001",
                    invoiceDate: new Date(),
                    dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                    status: "PENDING",
                    subtotal: 100.00,
                    totalAmount: 100.00,
                    createdBy: testUser.id
                }
            });
        });
        it("should soft delete purchase invoice", async ()=>{
            // Act
            const result = await purchaseInvoiceService.deletePurchaseInvoice(testInvoice.id);
            // Assert
            expect(result).toBe(true);
            // Verify soft deletion
            const dbInvoice = await _prisma.default.purchaseInvoice.findUnique({
                where: {
                    id: testInvoice.id
                }
            });
            expect(dbInvoice?.isDeleted).toBe(true);
        });
        it("should prevent deletion of approved invoices", async ()=>{
            // Arrange
            await purchaseInvoiceService.updatePurchaseInvoiceStatus(testInvoice.id, "APPROVED");
            // Act & Assert
            await expect(purchaseInvoiceService.deletePurchaseInvoice(testInvoice.id)).rejects.toThrow(/cannot be deleted/i);
        });
    });
    describe("Purchase Invoice Search and Filtering", ()=>{
        beforeEach(async ()=>{
            // Create multiple test invoices with different statuses and dates
            await _prisma.default.purchaseInvoice.createMany({
                data: [
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-SEARCH-001",
                        invoiceDate: new Date("2024-01-01"),
                        dueDate: new Date("2024-01-31"),
                        status: "PENDING",
                        subtotal: 100.00,
                        totalAmount: 100.00,
                        createdBy: testUser.id
                    },
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-SEARCH-002",
                        invoiceDate: new Date("2024-02-01"),
                        dueDate: new Date("2024-02-28"),
                        status: "APPROVED",
                        subtotal: 200.00,
                        totalAmount: 200.00,
                        createdBy: testUser.id
                    },
                    {
                        supplierId: testSupplier.id,
                        invoiceNumber: "PI-SEARCH-003",
                        invoiceDate: new Date("2024-03-01"),
                        dueDate: new Date("2024-03-31"),
                        status: "PAID",
                        subtotal: 300.00,
                        totalAmount: 300.00,
                        createdBy: testUser.id
                    }
                ]
            });
        });
        it("should search invoices by invoice number", async ()=>{
            // Act
            const result = await purchaseInvoiceService.searchPurchaseInvoices({
                invoiceNumber: "PI-SEARCH-002"
            });
            // Assert
            expect(result).toHaveLength(1);
            expect(result[0].invoiceNumber).toBe("PI-SEARCH-002");
        });
        it("should filter invoices by status", async ()=>{
            // Act
            const result = await purchaseInvoiceService.searchPurchaseInvoices({
                status: "APPROVED"
            });
            // Assert
            expect(result).toHaveLength(1);
            expect(result[0].status).toBe("APPROVED");
        });
        it("should filter invoices by date range", async ()=>{
            // Act
            const result = await purchaseInvoiceService.searchPurchaseInvoices({
                dateFrom: new Date("2024-02-01"),
                dateTo: new Date("2024-03-31")
            });
            // Assert
            expect(result).toHaveLength(2);
            expect(result.every((invoice)=>invoice.invoiceDate >= new Date("2024-02-01") && invoice.invoiceDate <= new Date("2024-03-31"))).toBe(true);
        });
        it("should filter invoices by supplier", async ()=>{
            // Act
            const result = await purchaseInvoiceService.searchPurchaseInvoices({
                supplierId: testSupplier.id
            });
            // Assert
            expect(result.length).toBeGreaterThanOrEqual(3);
            expect(result.every((invoice)=>invoice.supplierId === testSupplier.id)).toBe(true);
        });
    });
    describe("Purchase Invoice Business Logic", ()=>{
        it("should calculate totals correctly", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-CALC-001",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: "PENDING",
                createdBy: testUser.id,
                items: [
                    {
                        productId: testProduct.id,
                        quantity: 5,
                        unitCost: 20.00,
                        totalCost: 100.00
                    },
                    {
                        productId: testProduct.id,
                        quantity: 3,
                        unitCost: 30.00,
                        totalCost: 90.00
                    }
                ],
                taxRate: 0.10 // 10% tax
            };
            // Act
            const result = await purchaseInvoiceService.createPurchaseInvoiceWithCalculations(invoiceData);
            // Assert
            expect(result.subtotal).toBe(190.00); // 100 + 90
            expect(result.taxAmount).toBe(19.00); // 190 * 0.10
            expect(result.totalAmount).toBe(209.00); // 190 + 19
        });
        it("should update inventory when invoice is approved", async ()=>{
            // Arrange
            const invoice = await _prisma.default.purchaseInvoice.create({
                data: {
                    supplierId: testSupplier.id,
                    invoiceNumber: "PI-INVENTORY-001",
                    invoiceDate: new Date(),
                    dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                    status: "PENDING",
                    subtotal: 500.00,
                    totalAmount: 500.00,
                    createdBy: testUser.id
                }
            });
            await _prisma.default.purchaseInvoiceItem.create({
                data: {
                    purchaseInvoiceId: invoice.id,
                    productId: testProduct.id,
                    quantity: 10,
                    unitCost: 50.00,
                    totalCost: 500.00
                }
            });
            // Act
            await purchaseInvoiceService.approvePurchaseInvoice(invoice.id);
            // Assert
            const inventoryItems = await _prisma.default.inventoryItem.findMany({
                where: {
                    productId: testProduct.id
                }
            });
            expect(inventoryItems).toHaveLength(1);
            expect(inventoryItems[0].quantity).toBe(10);
            expect(inventoryItems[0].unitCost).toBe(50.00);
        });
    });
    describe("Error Handling and Edge Cases", ()=>{
        it("should handle concurrent invoice creation", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-CONCURRENT-001",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: "PENDING",
                subtotal: 100.00,
                totalAmount: 100.00,
                createdBy: testUser.id
            };
            // Act - Create multiple invoices concurrently
            const promises = Array(3).fill(null).map((_, index)=>purchaseInvoiceService.createPurchaseInvoice({
                    ...invoiceData,
                    invoiceNumber: `PI-CONCURRENT-${index + 1}`
                }));
            const results = await Promise.allSettled(promises);
            // Assert
            const successful = results.filter((r)=>r.status === "fulfilled");
            expect(successful).toHaveLength(3);
        });
        it("should handle invalid product references", async ()=>{
            // Arrange
            const invoiceData = {
                supplierId: testSupplier.id,
                invoiceNumber: "PI-INVALID-001",
                invoiceDate: new Date(),
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000),
                status: "PENDING",
                createdBy: testUser.id,
                items: [
                    {
                        productId: 99999,
                        quantity: 1,
                        unitCost: 10.00,
                        totalCost: 10.00
                    }
                ]
            };
            // Act & Assert
            await expect(purchaseInvoiceService.createPurchaseInvoiceWithItems(invoiceData)).rejects.toThrow();
        });
        it("should handle database transaction failures", async ()=>{
            // This test would require more sophisticated mocking to simulate transaction failures
            // For now, we'll test that the service handles basic validation errors
            // Arrange
            const invalidData = {
                // Missing required supplierId
                invoiceNumber: "PI-INVALID-002",
                invoiceDate: new Date(),
                status: "PENDING"
            };
            // Act & Assert
            await expect(purchaseInvoiceService.createPurchaseInvoice(invalidData)).rejects.toThrow();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWNoaW4vRG9jdW1lbnRzL21kLXNwb3J0cy0vdGVzdHMvaW50ZWdyYXRpb24vcHVyY2hhc2VJbnZvaWNlcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpeGVkIFB1cmNoYXNlIEludm9pY2VzIEludGVncmF0aW9uIFRlc3QgU3VpdGVcbi8vIFRoaXMgZmlsZSBjb250YWlucyB0aGUgY29ycmVjdGVkIHZlcnNpb24gb2YgcHVyY2hhc2VJbnZvaWNlcy50ZXN0LnRzXG5cbmltcG9ydCB7IGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IGNyZWF0ZU1vY2tzIH0gZnJvbSAnbm9kZS1tb2Nrcy1odHRwJztcbmltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuLy8gTm90ZTogVXNpbmcgc3RyaW5nIGxpdGVyYWxzIGZvciBzdGF0dXMgdmFsdWVzIHNpbmNlIGVudW1zIGFyZSBub3QgZGVmaW5lZCBpbiBzY2hlbWFcblxuLy8gTW9jayBQcmlzbWEgY2xpZW50XG5jb25zdCBtb2NrUHJpc21hID0ge1xuICB1c2VyOiB7XG4gICAgY3JlYXRlOiBqZXN0LmZuKCksXG4gICAgZmluZFVuaXF1ZTogamVzdC5mbigpLFxuICAgIGZpbmRNYW55OiBqZXN0LmZuKCksXG4gICAgdXBkYXRlOiBqZXN0LmZuKCksXG4gICAgZGVsZXRlOiBqZXN0LmZuKCksXG4gICAgZGVsZXRlTWFueTogamVzdC5mbigpLFxuICB9LFxuICBzdXBwbGllcjoge1xuICAgIGNyZWF0ZTogamVzdC5mbigpLFxuICAgIGZpbmRVbmlxdWU6IGplc3QuZm4oKSxcbiAgICBmaW5kTWFueTogamVzdC5mbigpLFxuICAgIHVwZGF0ZTogamVzdC5mbigpLFxuICAgIGRlbGV0ZTogamVzdC5mbigpLFxuICAgIGRlbGV0ZU1hbnk6IGplc3QuZm4oKSxcbiAgfSxcbiAgY2F0ZWdvcnk6IHtcbiAgICBjcmVhdGU6IGplc3QuZm4oKSxcbiAgICBmaW5kVW5pcXVlOiBqZXN0LmZuKCksXG4gICAgZmluZE1hbnk6IGplc3QuZm4oKSxcbiAgICB1cGRhdGU6IGplc3QuZm4oKSxcbiAgICBkZWxldGU6IGplc3QuZm4oKSxcbiAgICBkZWxldGVNYW55OiBqZXN0LmZuKCksXG4gIH0sXG4gIHByb2R1Y3Q6IHtcbiAgICBjcmVhdGU6IGplc3QuZm4oKSxcbiAgICBmaW5kVW5pcXVlOiBqZXN0LmZuKCksXG4gICAgZmluZE1hbnk6IGplc3QuZm4oKSxcbiAgICB1cGRhdGU6IGplc3QuZm4oKSxcbiAgICBkZWxldGU6IGplc3QuZm4oKSxcbiAgICBkZWxldGVNYW55OiBqZXN0LmZuKCksXG4gIH0sXG4gIHB1cmNoYXNlSW52b2ljZToge1xuICAgIGNyZWF0ZTogamVzdC5mbigpLFxuICAgIGZpbmRVbmlxdWU6IGplc3QuZm4oKSxcbiAgICBmaW5kTWFueTogamVzdC5mbigpLFxuICAgIHVwZGF0ZTogamVzdC5mbigpLFxuICAgIGRlbGV0ZTogamVzdC5mbigpLFxuICAgIGRlbGV0ZU1hbnk6IGplc3QuZm4oKSxcbiAgfSxcbiAgcHVyY2hhc2VJbnZvaWNlSXRlbToge1xuICAgIGNyZWF0ZTogamVzdC5mbigpLFxuICAgIGZpbmRVbmlxdWU6IGplc3QuZm4oKSxcbiAgICBmaW5kTWFueTogamVzdC5mbigpLFxuICAgIHVwZGF0ZTogamVzdC5mbigpLFxuICAgIGRlbGV0ZTogamVzdC5mbigpLFxuICAgIGRlbGV0ZU1hbnk6IGplc3QuZm4oKSxcbiAgfSxcbiAgaW52ZW50b3J5SXRlbToge1xuICAgIGNyZWF0ZTogamVzdC5mbigpLFxuICAgIGZpbmRVbmlxdWU6IGplc3QuZm4oKSxcbiAgICBmaW5kTWFueTogamVzdC5mbigpLFxuICAgIHVwZGF0ZTogamVzdC5mbigpLFxuICAgIGRlbGV0ZTogamVzdC5mbigpLFxuICAgIGRlbGV0ZU1hbnk6IGplc3QuZm4oKSxcbiAgfSxcbiAgJGNvbm5lY3Q6IGplc3QuZm4oKSxcbiAgJGRpc2Nvbm5lY3Q6IGplc3QuZm4oKSxcbn0gYXMgYW55O1xuXG4vLyBNb2NrIHRoZSBwcmlzbWEgaW1wb3J0XG5qZXN0Lm1vY2soJ0AvbGliL3ByaXNtYScsICgpID0+ICh7XG4gIF9fZXNNb2R1bGU6IHRydWUsXG4gIGRlZmF1bHQ6IG1vY2tQcmlzbWEsXG4gIHByaXNtYTogbW9ja1ByaXNtYVxufSkpO1xuXG4vLyBNb2NrIHRoZSBkYiBtb2R1bGUgYXMgd2VsbFxuamVzdC5tb2NrKCdAL2xpYi9kYicsICgpID0+ICh7XG4gIF9fZXNNb2R1bGU6IHRydWUsXG4gIGRlZmF1bHQ6IG1vY2tQcmlzbWEsXG4gIGRiOiBtb2NrUHJpc21hLFxuICBwcmlzbWE6IG1vY2tQcmlzbWFcbn0pKTtcblxuLy8gSW1wb3J0IGFmdGVyIG1vY2tpbmdcbmltcG9ydCBwcmlzbWEgZnJvbSAnQC9saWIvcHJpc21hJztcbmltcG9ydCB7IFB1cmNoYXNlSW52b2ljZVNlcnZpY2UgfSBmcm9tICdAL3NlcnZpY2VzL3B1cmNoYXNlSW52b2ljZVNlcnZpY2UnO1xuXG5kZXNjcmliZSgnUHVyY2hhc2UgSW52b2ljZXMgSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIGxldCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlOiBQdXJjaGFzZUludm9pY2VTZXJ2aWNlO1xuICBcbiAgLy8gVGVzdCBkYXRhXG4gIGxldCB0ZXN0U3VwcGxpZXI6IGFueTtcbiAgbGV0IHRlc3RQcm9kdWN0OiBhbnk7XG4gIGxldCB0ZXN0VXNlcjogYW55O1xuICBsZXQgdGVzdENhdGVnb3J5OiBhbnk7XG5cbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICAvLyBJbml0aWFsaXplIHNlcnZpY2VcbiAgICBwdXJjaGFzZUludm9pY2VTZXJ2aWNlID0gbmV3IFB1cmNoYXNlSW52b2ljZVNlcnZpY2UoKTtcbiAgICBcbiAgICAvLyBTZXR1cCBtb2NrIHJlc3BvbnNlc1xuICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHVwIHRlc3QgbW9ja3MnKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgLy8gUmVzZXQgYWxsIG1vY2tzXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG5cbiAgICAvLyBTZXR1cCBtb2NrIHRlc3QgZGF0YVxuICAgIHRlc3RVc2VyID0ge1xuICAgICAgaWQ6ICd0ZXN0LXVzZXItaWQnLFxuICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgIHBhc3N3b3JkOiAnaGFzaGVkLXBhc3N3b3JkJyxcbiAgICAgIHJvbGU6ICdBRE1JTicsXG4gICAgICBpc0FjdGl2ZTogdHJ1ZVxuICAgIH07XG5cbiAgICB0ZXN0U3VwcGxpZXIgPSB7XG4gICAgICBpZDogJ3Rlc3Qtc3VwcGxpZXItaWQnLFxuICAgICAgbmFtZTogJ1Rlc3QgU3VwcGxpZXInLFxuICAgICAgZW1haWw6ICdzdXBwbGllckBleGFtcGxlLmNvbScsXG4gICAgICBwaG9uZTogJzEyMzQ1Njc4OTAnLFxuICAgICAgYWRkcmVzczogJzEyMyBUZXN0IFN0cmVldCcsXG4gICAgICBpc0FjdGl2ZTogdHJ1ZVxuICAgIH07XG5cbiAgICB0ZXN0Q2F0ZWdvcnkgPSB7XG4gICAgICBpZDogJ3Rlc3QtY2F0ZWdvcnktaWQnLFxuICAgICAgbmFtZTogJ1Rlc3QgQ2F0ZWdvcnknLFxuICAgICAgZGVzY3JpcHRpb246ICdDYXRlZ29yeSBmb3IgdGVzdGluZydcbiAgICB9O1xuXG4gICAgdGVzdFByb2R1Y3QgPSB7XG4gICAgICAgaWQ6ICd0ZXN0LXByb2R1Y3QtaWQnLFxuICAgICAgIG5hbWU6ICdUZXN0IFByb2R1Y3QnLFxuICAgICAgIHNrdTogJ1RFU1QtMDAxJyxcbiAgICAgICBwcmljZTogOTkuOTksXG4gICAgICAgY29zdDogNTAuMDAsXG4gICAgICAgY2F0ZWdvcnlJZDogdGVzdENhdGVnb3J5LmlkLFxuICAgICAgIGRlc2NyaXB0aW9uOiAnVGVzdCBwcm9kdWN0IGZvciBwdXJjaGFzZSBpbnZvaWNlIHRlc3RpbmcnXG4gICAgIH07XG5cbiAgICAvLyBTZXR1cCBtb2NrIHJlc3BvbnNlc1xuICAgIG1vY2tQcmlzbWEudXNlci5jcmVhdGUubW9ja1Jlc29sdmVkVmFsdWUodGVzdFVzZXIpO1xuICAgIG1vY2tQcmlzbWEuc3VwcGxpZXIuY3JlYXRlLm1vY2tSZXNvbHZlZFZhbHVlKHRlc3RTdXBwbGllcik7XG4gICAgbW9ja1ByaXNtYS5jYXRlZ29yeS5jcmVhdGUubW9ja1Jlc29sdmVkVmFsdWUodGVzdENhdGVnb3J5KTtcbiAgICBtb2NrUHJpc21hLnByb2R1Y3QuY3JlYXRlLm1vY2tSZXNvbHZlZFZhbHVlKHRlc3RQcm9kdWN0KTtcbiAgICBtb2NrUHJpc21hLnVzZXIuZmluZFVuaXF1ZS5tb2NrUmVzb2x2ZWRWYWx1ZSh0ZXN0VXNlcik7XG4gICAgbW9ja1ByaXNtYS5zdXBwbGllci5maW5kVW5pcXVlLm1vY2tSZXNvbHZlZFZhbHVlKHRlc3RTdXBwbGllcik7XG4gICAgbW9ja1ByaXNtYS5wcm9kdWN0LmZpbmRVbmlxdWUubW9ja1Jlc29sdmVkVmFsdWUodGVzdFByb2R1Y3QpO1xuXG4gICAgY29uc29sZS5sb2coJ1Rlc3QgbW9ja3Mgc2V0dXAgc3VjY2Vzc2Z1bGx5Jyk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaChhc3luYyAoKSA9PiB7XG4gICAgLy8gUmVzZXQgbW9ja3MgYWZ0ZXIgZWFjaCB0ZXN0XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGFmdGVyQWxsKGFzeW5jICgpID0+IHtcbiAgICAvLyBGaW5hbCBjbGVhbnVwXG4gICAgamVzdC5yZXN0b3JlQWxsTW9ja3MoKTtcbiAgICBjb25zb2xlLmxvZygnVGVzdCBjbGVhbnVwIGNvbXBsZXRlZCcpO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHVyY2hhc2UgSW52b2ljZSBDcmVhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBhIHB1cmNoYXNlIGludm9pY2Ugc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZVxuICAgICAgY29uc3QgaW52b2ljZURhdGEgPSB7XG4gICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLTAwMScsXG4gICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSwgLy8gMzAgZGF5cyBmcm9tIG5vd1xuICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgICAgc3VidG90YWw6IDUwMC4wMCxcbiAgICAgICAgdGF4QW1vdW50OiA1MC4wMCxcbiAgICAgICAgdG90YWxBbW91bnQ6IDU1MC4wMCxcbiAgICAgICAgbm90ZXM6ICdUZXN0IHB1cmNoYXNlIGludm9pY2UnLFxuICAgICAgICBjcmVhdGVkQnk6IHRlc3RVc2VyLmlkXG4gICAgICB9O1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuY3JlYXRlUHVyY2hhc2VJbnZvaWNlKGludm9pY2VEYXRhKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pZCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaW52b2ljZU51bWJlcikudG9CZSgnUEktMDAxJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN1cHBsaWVySWQpLnRvQmUodGVzdFN1cHBsaWVyLmlkKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKCdQRU5ESU5HJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnRvdGFsQW1vdW50KS50b0JlKDU1MC4wMCk7XG5cbiAgICAgIC8vIFZlcmlmeSBpbiBkYXRhYmFzZVxuICAgICAgY29uc3QgZGJJbnZvaWNlID0gYXdhaXQgcHJpc21hLnB1cmNoYXNlSW52b2ljZS5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHJlc3VsdC5pZCB9XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChkYkludm9pY2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZGJJbnZvaWNlPy5pbnZvaWNlTnVtYmVyKS50b0JlKCdQSS0wMDEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIHB1cmNoYXNlIGludm9pY2Ugd2l0aCBpdGVtcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludm9pY2VEYXRhID0ge1xuICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS0wMDInLFxuICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgIHN0YXR1czogJ1BFTkRJTkcnLFxuICAgICAgICBjcmVhdGVkQnk6IHRlc3RVc2VyLmlkLFxuICAgICAgICBpdGVtczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHByb2R1Y3RJZDogdGVzdFByb2R1Y3QuaWQsXG4gICAgICAgICAgICBxdWFudGl0eTogMTAsXG4gICAgICAgICAgICB1bml0Q29zdDogNTAuMDAsXG4gICAgICAgICAgICB0b3RhbENvc3Q6IDUwMC4wMFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmNyZWF0ZVB1cmNoYXNlSW52b2ljZVdpdGhJdGVtcyhpbnZvaWNlRGF0YSk7XG5cbiAgICAgIC8vIEFzc2VydFxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaWQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBpdGVtcyB3ZXJlIGNyZWF0ZWRcbiAgICAgIGNvbnN0IGludm9pY2VJdGVtcyA9IGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2VJdGVtLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgcHVyY2hhc2VJbnZvaWNlSWQ6IHJlc3VsdC5pZCB9XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChpbnZvaWNlSXRlbXMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChpbnZvaWNlSXRlbXNbMF0ucHJvZHVjdElkKS50b0JlKHRlc3RQcm9kdWN0LmlkKTtcbiAgICAgIGV4cGVjdChpbnZvaWNlSXRlbXNbMF0ucXVhbnRpdHkpLnRvQmUoMTApO1xuICAgICAgZXhwZWN0KGludm9pY2VJdGVtc1swXS51bml0Q29zdCkudG9CZSg1MC4wMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludmFsaWREYXRhID0ge1xuICAgICAgICAvLyBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkc1xuICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktMDAzJ1xuICAgICAgfTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuY3JlYXRlUHVyY2hhc2VJbnZvaWNlKGludmFsaWREYXRhIGFzIGFueSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByZXZlbnQgZHVwbGljYXRlIGludm9pY2UgbnVtYmVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludm9pY2VEYXRhMSA9IHtcbiAgICAgICAgc3VwcGxpZXJJZDogdGVzdFN1cHBsaWVyLmlkLFxuICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktRFVQTElDQVRFJyxcbiAgICAgICAgaW52b2ljZURhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgIGR1ZURhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgKyAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLFxuICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgICAgc3VidG90YWw6IDEwMC4wMCxcbiAgICAgICAgdG90YWxBbW91bnQ6IDEwMC4wMCxcbiAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgfTtcblxuICAgICAgY29uc3QgaW52b2ljZURhdGEyID0geyAuLi5pbnZvaWNlRGF0YTEgfTtcblxuICAgICAgLy8gQWN0XG4gICAgICBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmNyZWF0ZVB1cmNoYXNlSW52b2ljZShpbnZvaWNlRGF0YTEpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5jcmVhdGVQdXJjaGFzZUludm9pY2UoaW52b2ljZURhdGEyKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coL3VuaXF1ZSBjb25zdHJhaW50L2kpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHVyY2hhc2UgSW52b2ljZSBSZXRyaWV2YWwnLCAoKSA9PiB7XG4gICAgbGV0IHRlc3RJbnZvaWNlOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIHRlc3QgaW52b2ljZSBmb3IgcmV0cmlldmFsIHRlc3RzXG4gICAgICB0ZXN0SW52b2ljZSA9IGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktUkVUUklFVkUtMDAxJyxcbiAgICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgICAgICBzdWJ0b3RhbDogMjAwLjAwLFxuICAgICAgICAgIHRheEFtb3VudDogMjAuMDAsXG4gICAgICAgICAgdG90YWxBbW91bnQ6IDIyMC4wMCxcbiAgICAgICAgICBjcmVhdGVkQnk6IHRlc3RVc2VyLmlkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBwdXJjaGFzZSBpbnZvaWNlIGJ5IElEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmdldFB1cmNoYXNlSW52b2ljZUJ5SWQodGVzdEludm9pY2UuaWQpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0Py5pZCkudG9CZSh0ZXN0SW52b2ljZS5pZCk7XG4gICAgICBleHBlY3QocmVzdWx0Py5pbnZvaWNlTnVtYmVyKS50b0JlKCdQSS1SRVRSSUVWRS0wMDEnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQ/LnRvdGFsQW1vdW50KS50b0JlKDIyMC4wMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHJpZXZlIHB1cmNoYXNlIGludm9pY2Ugd2l0aCBzdXBwbGllciBkZXRhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmdldFB1cmNoYXNlSW52b2ljZVdpdGhEZXRhaWxzKHRlc3RJbnZvaWNlLmlkKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdD8uc3VwcGxpZXIpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0Py5zdXBwbGllci5uYW1lKS50b0JlKCdUZXN0IFN1cHBsaWVyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBudWxsIGZvciBub24tZXhpc3RlbnQgaW52b2ljZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5nZXRQdXJjaGFzZUludm9pY2VCeUlkKDk5OTk5KTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXRyaWV2ZSBhbGwgcHVyY2hhc2UgaW52b2ljZXMgd2l0aCBwYWdpbmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQXJyYW5nZSAtIENyZWF0ZSBhZGRpdGlvbmFsIGludm9pY2VzXG4gICAgICBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlLmNyZWF0ZU1hbnkoe1xuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3VwcGxpZXJJZDogdGVzdFN1cHBsaWVyLmlkLFxuICAgICAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLVBBR0UtMDAxJyxcbiAgICAgICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgICAgICAgIHN1YnRvdGFsOiAxMDAuMDAsXG4gICAgICAgICAgICB0b3RhbEFtb3VudDogMTAwLjAwLFxuICAgICAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3VwcGxpZXJJZDogdGVzdFN1cHBsaWVyLmlkLFxuICAgICAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLVBBR0UtMDAyJyxcbiAgICAgICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgICAgICAgIHN1YnRvdGFsOiAxNTAuMDAsXG4gICAgICAgICAgICB0b3RhbEFtb3VudDogMTUwLjAwLFxuICAgICAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5nZXRQdXJjaGFzZUludm9pY2VzKHtcbiAgICAgICAgcGFnZTogMSxcbiAgICAgICAgbGltaXQ6IDJcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQuaW52b2ljZXMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudG90YWwpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMyk7XG4gICAgICBleHBlY3QocmVzdWx0LnBhZ2UpLnRvQmUoMSk7XG4gICAgICBleHBlY3QocmVzdWx0LmxpbWl0KS50b0JlKDIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUHVyY2hhc2UgSW52b2ljZSBVcGRhdGVzJywgKCkgPT4ge1xuICAgIGxldCB0ZXN0SW52b2ljZTogYW55O1xuXG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICB0ZXN0SW52b2ljZSA9IGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHN1cHBsaWVySWQ6IHRlc3RTdXBwbGllci5pZCxcbiAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktVVBEQVRFLTAwMScsXG4gICAgICAgICAgaW52b2ljZURhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgICAgc3RhdHVzOiAnUEVORElORycsXG4gICAgICAgICAgc3VidG90YWw6IDMwMC4wMCxcbiAgICAgICAgICB0b3RhbEFtb3VudDogMzAwLjAwLFxuICAgICAgICAgIGNyZWF0ZWRCeTogdGVzdFVzZXIuaWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVwZGF0ZSBwdXJjaGFzZSBpbnZvaWNlIHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS51cGRhdGVQdXJjaGFzZUludm9pY2VTdGF0dXMoXG4gICAgICAgIHRlc3RJbnZvaWNlLmlkLFxuICAgICAgICAnQVBQUk9WRUQnXG4gICAgICApO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKCdBUFBST1ZFRCcpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgaW4gZGF0YWJhc2VcbiAgICAgIGNvbnN0IGRiSW52b2ljZSA9IGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiB0ZXN0SW52b2ljZS5pZCB9XG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChkYkludm9pY2U/LnN0YXR1cykudG9CZSgnQVBQUk9WRUQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIHB1cmNoYXNlIGludm9pY2UgZGV0YWlscycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIG5vdGVzOiAnVXBkYXRlZCBub3RlcycsXG4gICAgICAgIHN1YnRvdGFsOiAzNTAuMDAsXG4gICAgICAgIHRheEFtb3VudDogMzUuMDAsXG4gICAgICAgIHRvdGFsQW1vdW50OiAzODUuMDBcbiAgICAgIH07XG5cbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS51cGRhdGVQdXJjaGFzZUludm9pY2UoXG4gICAgICAgIHRlc3RJbnZvaWNlLmlkLFxuICAgICAgICB1cGRhdGVEYXRhXG4gICAgICApO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQubm90ZXMpLnRvQmUoJ1VwZGF0ZWQgbm90ZXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudG90YWxBbW91bnQpLnRvQmUoMzg1LjAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJldmVudCB1cGRhdGluZyBhcHByb3ZlZCBpbnZvaWNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2UgLSBGaXJzdCBhcHByb3ZlIHRoZSBpbnZvaWNlXG4gICAgICBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnVwZGF0ZVB1cmNoYXNlSW52b2ljZVN0YXR1cyhcbiAgICAgICAgdGVzdEludm9pY2UuaWQsXG4gICAgICAgICdBUFBST1ZFRCdcbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnVwZGF0ZVB1cmNoYXNlSW52b2ljZSh0ZXN0SW52b2ljZS5pZCwge1xuICAgICAgICAgIG5vdGVzOiAnU2hvdWxkIG5vdCBiZSBhbGxvd2VkJ1xuICAgICAgICB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coL2Nhbm5vdCBiZSBtb2RpZmllZC9pKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1B1cmNoYXNlIEludm9pY2UgRGVsZXRpb24nLCAoKSA9PiB7XG4gICAgbGV0IHRlc3RJbnZvaWNlOiBhbnk7XG5cbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIHRlc3RJbnZvaWNlID0gYXdhaXQgcHJpc21hLnB1cmNoYXNlSW52b2ljZS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc3VwcGxpZXJJZDogdGVzdFN1cHBsaWVyLmlkLFxuICAgICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS1ERUxFVEUtMDAxJyxcbiAgICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgICAgICBzdWJ0b3RhbDogMTAwLjAwLFxuICAgICAgICAgIHRvdGFsQW1vdW50OiAxMDAuMDAsXG4gICAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc29mdCBkZWxldGUgcHVyY2hhc2UgaW52b2ljZScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5kZWxldGVQdXJjaGFzZUludm9pY2UodGVzdEludm9pY2UuaWQpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBzb2Z0IGRlbGV0aW9uXG4gICAgICBjb25zdCBkYkludm9pY2UgPSBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogdGVzdEludm9pY2UuaWQgfVxuICAgICAgfSk7XG4gICAgICBleHBlY3QoZGJJbnZvaWNlPy5pc0RlbGV0ZWQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByZXZlbnQgZGVsZXRpb24gb2YgYXBwcm92ZWQgaW52b2ljZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnVwZGF0ZVB1cmNoYXNlSW52b2ljZVN0YXR1cyhcbiAgICAgICAgdGVzdEludm9pY2UuaWQsXG4gICAgICAgICdBUFBST1ZFRCdcbiAgICAgICk7XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmRlbGV0ZVB1cmNoYXNlSW52b2ljZSh0ZXN0SW52b2ljZS5pZClcbiAgICAgICkucmVqZWN0cy50b1Rocm93KC9jYW5ub3QgYmUgZGVsZXRlZC9pKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1B1cmNoYXNlIEludm9pY2UgU2VhcmNoIGFuZCBGaWx0ZXJpbmcnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgbXVsdGlwbGUgdGVzdCBpbnZvaWNlcyB3aXRoIGRpZmZlcmVudCBzdGF0dXNlcyBhbmQgZGF0ZXNcbiAgICAgIGF3YWl0IHByaXNtYS5wdXJjaGFzZUludm9pY2UuY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktU0VBUkNILTAwMScsXG4gICAgICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoJzIwMjQtMDEtMDEnKSxcbiAgICAgICAgICAgIGR1ZURhdGU6IG5ldyBEYXRlKCcyMDI0LTAxLTMxJyksXG4gICAgICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgICAgICAgIHN1YnRvdGFsOiAxMDAuMDAsXG4gICAgICAgICAgICB0b3RhbEFtb3VudDogMTAwLjAwLFxuICAgICAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3VwcGxpZXJJZDogdGVzdFN1cHBsaWVyLmlkLFxuICAgICAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLVNFQVJDSC0wMDInLFxuICAgICAgICAgICAgaW52b2ljZURhdGU6IG5ldyBEYXRlKCcyMDI0LTAyLTAxJyksXG4gICAgICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZSgnMjAyNC0wMi0yOCcpLFxuICAgICAgICAgICAgc3RhdHVzOiAnQVBQUk9WRUQnLFxuICAgICAgICAgICAgc3VidG90YWw6IDIwMC4wMCxcbiAgICAgICAgICAgIHRvdGFsQW1vdW50OiAyMDAuMDAsXG4gICAgICAgICAgICBjcmVhdGVkQnk6IHRlc3RVc2VyLmlkXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktU0VBUkNILTAwMycsXG4gICAgICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoJzIwMjQtMDMtMDEnKSxcbiAgICAgICAgICAgIGR1ZURhdGU6IG5ldyBEYXRlKCcyMDI0LTAzLTMxJyksXG4gICAgICAgICAgICBzdGF0dXM6ICdQQUlEJyxcbiAgICAgICAgICAgIHN1YnRvdGFsOiAzMDAuMDAsXG4gICAgICAgICAgICB0b3RhbEFtb3VudDogMzAwLjAwLFxuICAgICAgICAgICAgY3JlYXRlZEJ5OiB0ZXN0VXNlci5pZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNlYXJjaCBpbnZvaWNlcyBieSBpbnZvaWNlIG51bWJlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5zZWFyY2hQdXJjaGFzZUludm9pY2VzKHtcbiAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLVNFQVJDSC0wMDInXG4gICAgICB9KTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocmVzdWx0WzBdLmludm9pY2VOdW1iZXIpLnRvQmUoJ1BJLVNFQVJDSC0wMDInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGludm9pY2VzIGJ5IHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFjdFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5zZWFyY2hQdXJjaGFzZUludm9pY2VzKHtcbiAgICAgICAgc3RhdHVzOiAnQVBQUk9WRUQnXG4gICAgICB9KTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QocmVzdWx0WzBdLnN0YXR1cykudG9CZSgnQVBQUk9WRUQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGludm9pY2VzIGJ5IGRhdGUgcmFuZ2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBY3RcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHB1cmNoYXNlSW52b2ljZVNlcnZpY2Uuc2VhcmNoUHVyY2hhc2VJbnZvaWNlcyh7XG4gICAgICAgIGRhdGVGcm9tOiBuZXcgRGF0ZSgnMjAyNC0wMi0wMScpLFxuICAgICAgICBkYXRlVG86IG5ldyBEYXRlKCcyMDI0LTAzLTMxJylcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXZlcnkoaW52b2ljZSA9PiBcbiAgICAgICAgaW52b2ljZS5pbnZvaWNlRGF0ZSA+PSBuZXcgRGF0ZSgnMjAyNC0wMi0wMScpICYmXG4gICAgICAgIGludm9pY2UuaW52b2ljZURhdGUgPD0gbmV3IERhdGUoJzIwMjQtMDMtMzEnKVxuICAgICAgKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGludm9pY2VzIGJ5IHN1cHBsaWVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLnNlYXJjaFB1cmNoYXNlSW52b2ljZXMoe1xuICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWRcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ldmVyeShpbnZvaWNlID0+IGludm9pY2Uuc3VwcGxpZXJJZCA9PT0gdGVzdFN1cHBsaWVyLmlkKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1B1cmNoYXNlIEludm9pY2UgQnVzaW5lc3MgTG9naWMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgdG90YWxzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludm9pY2VEYXRhID0ge1xuICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS1DQUxDLTAwMScsXG4gICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgc3RhdHVzOiAnUEVORElORycsXG4gICAgICAgIGNyZWF0ZWRCeTogdGVzdFVzZXIuaWQsXG4gICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJvZHVjdElkOiB0ZXN0UHJvZHVjdC5pZCxcbiAgICAgICAgICAgIHF1YW50aXR5OiA1LFxuICAgICAgICAgICAgdW5pdENvc3Q6IDIwLjAwLFxuICAgICAgICAgICAgdG90YWxDb3N0OiAxMDAuMDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHByb2R1Y3RJZDogdGVzdFByb2R1Y3QuaWQsXG4gICAgICAgICAgICBxdWFudGl0eTogMyxcbiAgICAgICAgICAgIHVuaXRDb3N0OiAzMC4wMCxcbiAgICAgICAgICAgIHRvdGFsQ29zdDogOTAuMDBcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIHRheFJhdGU6IDAuMTAgLy8gMTAlIHRheFxuICAgICAgfTtcblxuICAgICAgLy8gQWN0XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmNyZWF0ZVB1cmNoYXNlSW52b2ljZVdpdGhDYWxjdWxhdGlvbnMoaW52b2ljZURhdGEpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VidG90YWwpLnRvQmUoMTkwLjAwKTsgLy8gMTAwICsgOTBcbiAgICAgIGV4cGVjdChyZXN1bHQudGF4QW1vdW50KS50b0JlKDE5LjAwKTsgLy8gMTkwICogMC4xMFxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbEFtb3VudCkudG9CZSgyMDkuMDApOyAvLyAxOTAgKyAxOVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgaW52ZW50b3J5IHdoZW4gaW52b2ljZSBpcyBhcHByb3ZlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludm9pY2UgPSBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgICAgaW52b2ljZU51bWJlcjogJ1BJLUlOVkVOVE9SWS0wMDEnLFxuICAgICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGR1ZURhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgKyAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApLFxuICAgICAgICAgIHN0YXR1czogJ1BFTkRJTkcnLFxuICAgICAgICAgIHN1YnRvdGFsOiA1MDAuMDAsXG4gICAgICAgICAgdG90YWxBbW91bnQ6IDUwMC4wMCxcbiAgICAgICAgICBjcmVhdGVkQnk6IHRlc3RVc2VyLmlkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBwcmlzbWEucHVyY2hhc2VJbnZvaWNlSXRlbS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgcHVyY2hhc2VJbnZvaWNlSWQ6IGludm9pY2UuaWQsXG4gICAgICAgICAgcHJvZHVjdElkOiB0ZXN0UHJvZHVjdC5pZCxcbiAgICAgICAgICBxdWFudGl0eTogMTAsXG4gICAgICAgICAgdW5pdENvc3Q6IDUwLjAwLFxuICAgICAgICAgIHRvdGFsQ29zdDogNTAwLjAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBBY3RcbiAgICAgIGF3YWl0IHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuYXBwcm92ZVB1cmNoYXNlSW52b2ljZShpbnZvaWNlLmlkKTtcblxuICAgICAgLy8gQXNzZXJ0XG4gICAgICBjb25zdCBpbnZlbnRvcnlJdGVtcyA9IGF3YWl0IHByaXNtYS5pbnZlbnRvcnlJdGVtLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgcHJvZHVjdElkOiB0ZXN0UHJvZHVjdC5pZCB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KGludmVudG9yeUl0ZW1zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoaW52ZW50b3J5SXRlbXNbMF0ucXVhbnRpdHkpLnRvQmUoMTApO1xuICAgICAgZXhwZWN0KGludmVudG9yeUl0ZW1zWzBdLnVuaXRDb3N0KS50b0JlKDUwLjAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nIGFuZCBFZGdlIENhc2VzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgaW52b2ljZSBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFycmFuZ2VcbiAgICAgIGNvbnN0IGludm9pY2VEYXRhID0ge1xuICAgICAgICBzdXBwbGllcklkOiB0ZXN0U3VwcGxpZXIuaWQsXG4gICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS1DT05DVVJSRU5ULTAwMScsXG4gICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkdWVEYXRlOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcbiAgICAgICAgc3RhdHVzOiAnUEVORElORycsXG4gICAgICAgIHN1YnRvdGFsOiAxMDAuMDAsXG4gICAgICAgIHRvdGFsQW1vdW50OiAxMDAuMDAsXG4gICAgICAgIGNyZWF0ZWRCeTogdGVzdFVzZXIuaWRcbiAgICAgIH07XG5cbiAgICAgIC8vIEFjdCAtIENyZWF0ZSBtdWx0aXBsZSBpbnZvaWNlcyBjb25jdXJyZW50bHlcbiAgICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkoMykuZmlsbChudWxsKS5tYXAoKF8sIGluZGV4KSA9PiBcbiAgICAgICAgcHVyY2hhc2VJbnZvaWNlU2VydmljZS5jcmVhdGVQdXJjaGFzZUludm9pY2Uoe1xuICAgICAgICAgIC4uLmludm9pY2VEYXRhLFxuICAgICAgICAgIGludm9pY2VOdW1iZXI6IGBQSS1DT05DVVJSRU5ULSR7aW5kZXggKyAxfWBcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuXG4gICAgICAvLyBBc3NlcnRcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJyk7XG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bCkudG9IYXZlTGVuZ3RoKDMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCBwcm9kdWN0IHJlZmVyZW5jZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZvaWNlRGF0YSA9IHtcbiAgICAgICAgc3VwcGxpZXJJZDogdGVzdFN1cHBsaWVyLmlkLFxuICAgICAgICBpbnZvaWNlTnVtYmVyOiAnUEktSU5WQUxJRC0wMDEnLFxuICAgICAgICBpbnZvaWNlRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgZHVlRGF0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSArIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCksXG4gICAgICAgIHN0YXR1czogJ1BFTkRJTkcnLFxuICAgICAgICBjcmVhdGVkQnk6IHRlc3RVc2VyLmlkLFxuICAgICAgICBpdGVtczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHByb2R1Y3RJZDogOTk5OTksIC8vIE5vbi1leGlzdGVudCBwcm9kdWN0XG4gICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgIHVuaXRDb3N0OiAxMC4wMCxcbiAgICAgICAgICAgIHRvdGFsQ29zdDogMTAuMDBcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFjdCAmIEFzc2VydFxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBwdXJjaGFzZUludm9pY2VTZXJ2aWNlLmNyZWF0ZVB1cmNoYXNlSW52b2ljZVdpdGhJdGVtcyhpbnZvaWNlRGF0YSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSB0cmFuc2FjdGlvbiBmYWlsdXJlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFRoaXMgdGVzdCB3b3VsZCByZXF1aXJlIG1vcmUgc29waGlzdGljYXRlZCBtb2NraW5nIHRvIHNpbXVsYXRlIHRyYW5zYWN0aW9uIGZhaWx1cmVzXG4gICAgICAvLyBGb3Igbm93LCB3ZSdsbCB0ZXN0IHRoYXQgdGhlIHNlcnZpY2UgaGFuZGxlcyBiYXNpYyB2YWxpZGF0aW9uIGVycm9yc1xuICAgICAgXG4gICAgICAvLyBBcnJhbmdlXG4gICAgICBjb25zdCBpbnZhbGlkRGF0YSA9IHtcbiAgICAgICAgLy8gTWlzc2luZyByZXF1aXJlZCBzdXBwbGllcklkXG4gICAgICAgIGludm9pY2VOdW1iZXI6ICdQSS1JTlZBTElELTAwMicsXG4gICAgICAgIGludm9pY2VEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJ1xuICAgICAgfTtcblxuICAgICAgLy8gQWN0ICYgQXNzZXJ0XG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHB1cmNoYXNlSW52b2ljZVNlcnZpY2UuY3JlYXRlUHVyY2hhc2VJbnZvaWNlKGludmFsaWREYXRhIGFzIGFueSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbIm1vY2tQcmlzbWEiLCJ1c2VyIiwiY3JlYXRlIiwiamVzdCIsImZuIiwiZmluZFVuaXF1ZSIsImZpbmRNYW55IiwidXBkYXRlIiwiZGVsZXRlIiwiZGVsZXRlTWFueSIsInN1cHBsaWVyIiwiY2F0ZWdvcnkiLCJwcm9kdWN0IiwicHVyY2hhc2VJbnZvaWNlIiwicHVyY2hhc2VJbnZvaWNlSXRlbSIsImludmVudG9yeUl0ZW0iLCIkY29ubmVjdCIsIiRkaXNjb25uZWN0IiwibW9jayIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwicHJpc21hIiwiZGIiLCJkZXNjcmliZSIsInB1cmNoYXNlSW52b2ljZVNlcnZpY2UiLCJ0ZXN0U3VwcGxpZXIiLCJ0ZXN0UHJvZHVjdCIsInRlc3RVc2VyIiwidGVzdENhdGVnb3J5IiwiYmVmb3JlQWxsIiwiUHVyY2hhc2VJbnZvaWNlU2VydmljZSIsImNvbnNvbGUiLCJsb2ciLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImlkIiwiZW1haWwiLCJwYXNzd29yZCIsInJvbGUiLCJpc0FjdGl2ZSIsIm5hbWUiLCJwaG9uZSIsImFkZHJlc3MiLCJkZXNjcmlwdGlvbiIsInNrdSIsInByaWNlIiwiY29zdCIsImNhdGVnb3J5SWQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImFmdGVyRWFjaCIsImFmdGVyQWxsIiwicmVzdG9yZUFsbE1vY2tzIiwiaXQiLCJpbnZvaWNlRGF0YSIsInN1cHBsaWVySWQiLCJpbnZvaWNlTnVtYmVyIiwiaW52b2ljZURhdGUiLCJEYXRlIiwiZHVlRGF0ZSIsIm5vdyIsInN0YXR1cyIsInN1YnRvdGFsIiwidGF4QW1vdW50IiwidG90YWxBbW91bnQiLCJub3RlcyIsImNyZWF0ZWRCeSIsInJlc3VsdCIsImNyZWF0ZVB1cmNoYXNlSW52b2ljZSIsImV4cGVjdCIsInRvQmVEZWZpbmVkIiwidG9CZSIsImRiSW52b2ljZSIsIndoZXJlIiwiaXRlbXMiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsInVuaXRDb3N0IiwidG90YWxDb3N0IiwiY3JlYXRlUHVyY2hhc2VJbnZvaWNlV2l0aEl0ZW1zIiwiaW52b2ljZUl0ZW1zIiwicHVyY2hhc2VJbnZvaWNlSWQiLCJ0b0hhdmVMZW5ndGgiLCJpbnZhbGlkRGF0YSIsInJlamVjdHMiLCJ0b1Rocm93IiwiaW52b2ljZURhdGExIiwiaW52b2ljZURhdGEyIiwidGVzdEludm9pY2UiLCJkYXRhIiwiZ2V0UHVyY2hhc2VJbnZvaWNlQnlJZCIsImdldFB1cmNoYXNlSW52b2ljZVdpdGhEZXRhaWxzIiwidG9CZU51bGwiLCJjcmVhdGVNYW55IiwiZ2V0UHVyY2hhc2VJbnZvaWNlcyIsInBhZ2UiLCJsaW1pdCIsImludm9pY2VzIiwidG90YWwiLCJ0b0JlR3JlYXRlclRoYW5PckVxdWFsIiwidXBkYXRlUHVyY2hhc2VJbnZvaWNlU3RhdHVzIiwidXBkYXRlRGF0YSIsInVwZGF0ZVB1cmNoYXNlSW52b2ljZSIsImRlbGV0ZVB1cmNoYXNlSW52b2ljZSIsImlzRGVsZXRlZCIsInNlYXJjaFB1cmNoYXNlSW52b2ljZXMiLCJkYXRlRnJvbSIsImRhdGVUbyIsImV2ZXJ5IiwiaW52b2ljZSIsImxlbmd0aCIsInRheFJhdGUiLCJjcmVhdGVQdXJjaGFzZUludm9pY2VXaXRoQ2FsY3VsYXRpb25zIiwiYXBwcm92ZVB1cmNoYXNlSW52b2ljZSIsImludmVudG9yeUl0ZW1zIiwicHJvbWlzZXMiLCJBcnJheSIsImZpbGwiLCJtYXAiLCJfIiwiaW5kZXgiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbFNldHRsZWQiLCJzdWNjZXNzZnVsIiwiZmlsdGVyIiwiciJdLCJtYXBwaW5ncyI6IkFBQUEsaURBQWlEO0FBQ2pELHVFQUF1RTs7Ozs7eUJBRWxEOytEQW1GRjt3Q0FDb0I7Ozs7OztBQWpGdkMsc0ZBQXNGO0FBRXRGLHFCQUFxQjtBQUNyQixNQUFNQSxhQUFhO0lBQ2pCQyxNQUFNO1FBQ0pDLFFBQVFDLGFBQUksQ0FBQ0MsRUFBRTtRQUNmQyxZQUFZRixhQUFJLENBQUNDLEVBQUU7UUFDbkJFLFVBQVVILGFBQUksQ0FBQ0MsRUFBRTtRQUNqQkcsUUFBUUosYUFBSSxDQUFDQyxFQUFFO1FBQ2ZJLFFBQVFMLGFBQUksQ0FBQ0MsRUFBRTtRQUNmSyxZQUFZTixhQUFJLENBQUNDLEVBQUU7SUFDckI7SUFDQU0sVUFBVTtRQUNSUixRQUFRQyxhQUFJLENBQUNDLEVBQUU7UUFDZkMsWUFBWUYsYUFBSSxDQUFDQyxFQUFFO1FBQ25CRSxVQUFVSCxh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