{"version":3,"names":["cov_10mbyrqrb1","actualCoverage","s","ShopPerformanceViewModal","isOpen","onClose","reportName","reportData","f","b","formatCurrency","amount","toLocaleString","undefined","style","currency","_jsxruntime","jsx","className","jsxs","_Button","Button","variant","size","onClick","_lucidereact","X","message","summary","month","year","totalShopsAnalyzed","details","reduce","sum","shop","totalSalesAmount","Date","generatedAt","map","shopName","location","numberOfTransactions","totalQuantitySold","averageTransactionValue","shopId","length","colSpan"],"sources":["/Users/sachin/Documents/md-sports-/src/components/reports/ShopPerformanceViewModal.tsx"],"sourcesContent":["import { Button } from '@/components/ui/Button';\nimport { X } from 'lucide-react';\n\ninterface ShopPerformanceDetail {\n    shopId: number;\n    shopName: string;\n    location: string | null;\n    totalSalesAmount: number;\n    numberOfTransactions: number;\n    totalQuantitySold: number;\n    averageTransactionValue: number;\n}\n\ninterface ShopPerformanceReportData {\n    details: ShopPerformanceDetail[];\n    summary: {\n        month: string;\n        year: number;\n        totalShopsAnalyzed: number;\n    };\n    generatedAt: string;\n    message?: string;\n}\n\ninterface ShopPerformanceViewModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    reportName?: string;\n    reportData: ShopPerformanceReportData | null;\n}\n\nexport default function ShopPerformanceViewModal({\n    isOpen,\n    onClose,\n    reportName,\n    reportData,\n}: ShopPerformanceViewModalProps) {\n    if (!isOpen || !reportData) return null;\n\n    const formatCurrency = (amount: number) => {\n        return amount.toLocaleString(undefined, { style: 'currency', currency: 'LKR' });\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-6xl max-h-[90vh] flex flex-col\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h2 className=\"text-xl font-semibold text-gray-800\">{reportName || 'Shop Performance Comparison'}</h2>\n                    <Button variant=\"ghost\" size=\"sm\" onClick={onClose} className=\"p-1\">\n                        <X className=\"w-5 h-5\" />\n                    </Button>\n                </div>\n\n                {reportData.message && (\n                    <div className=\"mb-4 p-3 bg-blue-50 text-blue-700 border border-blue-200 rounded-md\">\n                        {reportData.message}\n                    </div>\n                )}\n\n                {reportData.summary && !reportData.message && (\n                    <div className=\"text-sm text-gray-600 mb-3 pb-3 border-b\">\n                        <h3 className=\"text-lg font-semibold text-gray-700 mb-1\">\n                            Comparison for {reportData.summary.month} {reportData.summary.year} ({reportData.summary.totalShopsAnalyzed} Shops)\n                        </h3>\n                        <p className=\"text-xs\">Overall Total Sales: {formatCurrency(reportData.details.reduce((sum, shop) => sum + shop.totalSalesAmount, 0))}</p>\n                        <p className=\"text-xs\">Generated at: {new Date(reportData.generatedAt).toLocaleString()}</p>\n                    </div>\n                )}\n\n                <div className=\"overflow-y-auto flex-grow report-table-container pr-1\">\n                    <table className=\"w-full text-sm text-left text-gray-500\">\n                        <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0 z-10\">\n                            <tr>\n                                <th className=\"px-3 py-2\">Shop Name</th>\n                                <th className=\"px-3 py-2\">Location</th>\n                                <th className=\"px-3 py-2 text-right\">Total Sales (LKR)</th>\n                                <th className=\"px-3 py-2 text-right\">Transactions</th>\n                                <th className=\"px-3 py-2 text-right\">Items Sold</th>\n                                <th className=\"px-3 py-2 text-right\">Avg. Sale Value (LKR)</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {reportData.details.map((shop) => (\n                                <tr key={shop.shopId} className=\"border-b hover:bg-gray-50\">\n                                    <td className=\"px-3 py-2 font-medium text-gray-900\">{shop.shopName}</td>\n                                    <td className=\"px-3 py-2\">{shop.location || 'N/A'}</td>\n                                    <td className=\"px-3 py-2 text-right\">{formatCurrency(shop.totalSalesAmount)}</td>\n                                    <td className=\"px-3 py-2 text-right\">{shop.numberOfTransactions.toLocaleString()}</td>\n                                    <td className=\"px-3 py-2 text-right\">{shop.totalQuantitySold.toLocaleString()}</td>\n                                    <td className=\"px-3 py-2 text-right\">{formatCurrency(shop.averageTransactionValue)}</td>\n                                </tr>\n                            ))}\n                            {reportData.details.length === 0 && !reportData.message && (\n                                <tr>\n                                    <td colSpan={6} className=\"text-center py-4 text-gray-500\">No shop performance data available.</td>\n                                </tr>\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n                <div className=\"mt-6 text-right\">\n                    <Button variant=\"outline\" onClick={onClose}>Close</Button>\n                </div>\n            </div>\n        </div>\n    );\n} "],"mappings":"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","ignoreList":[]}