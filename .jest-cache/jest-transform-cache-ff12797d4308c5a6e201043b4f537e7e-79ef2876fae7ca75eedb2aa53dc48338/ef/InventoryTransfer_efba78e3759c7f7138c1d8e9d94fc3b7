17f2a59c278526756939e25963f206f6
"use strict";

/* istanbul ignore next */
function cov_214sn763f2() {
  var path = "/Users/sachin/Documents/md-sports-/src/lib/models/InventoryTransfer.ts";
  var hash = "eecbb463ba32105c339db484d170a8866fd4a46e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/sachin/Documents/md-sports-/src/lib/models/InventoryTransfer.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 24
        }
      },
      "3": {
        start: {
          line: 11,
          column: 19
        },
        end: {
          line: 11,
          column: 39
        }
      },
      "4": {
        start: {
          line: 12,
          column: 26
        },
        end: {
          line: 12,
          column: 68
        }
      },
      "5": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 16,
          column: 6
        }
      },
      "6": {
        start: {
          line: 21,
          column: 29
        },
        end: {
          line: 21,
          column: 63
        }
      },
      "7": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 27,
          column: 11
        }
      },
      "8": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 33,
          column: 9
        }
      },
      "9": {
        start: {
          line: 32,
          column: 12
        },
        end: {
          line: 32,
          column: 25
        }
      },
      "10": {
        start: {
          line: 35,
          column: 28
        },
        end: {
          line: 35,
          column: 59
        }
      },
      "11": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 98,
          column: 9
        }
      },
      "12": {
        start: {
          line: 37,
          column: 33
        },
        end: {
          line: 37,
          column: 67
        }
      },
      "13": {
        start: {
          line: 38,
          column: 34
        },
        end: {
          line: 38,
          column: 69
        }
      },
      "14": {
        start: {
          line: 40,
          column: 26
        },
        end: {
          line: 44,
          column: 14
        }
      },
      "15": {
        start: {
          line: 46,
          column: 12
        },
        end: {
          line: 82,
          column: 13
        }
      },
      "16": {
        start: {
          line: 47,
          column: 34
        },
        end: {
          line: 47,
          column: 55
        }
      },
      "17": {
        start: {
          line: 48,
          column: 33
        },
        end: {
          line: 48,
          column: 53
        }
      },
      "18": {
        start: {
          line: 50,
          column: 40
        },
        end: {
          line: 56,
          column: 18
        }
      },
      "19": {
        start: {
          line: 57,
          column: 16
        },
        end: {
          line: 59,
          column: 17
        }
      },
      "20": {
        start: {
          line: 58,
          column: 20
        },
        end: {
          line: 58,
          column: 102
        }
      },
      "21": {
        start: {
          line: 60,
          column: 16
        },
        end: {
          line: 63,
          column: 19
        }
      },
      "22": {
        start: {
          line: 65,
          column: 50
        },
        end: {
          line: 77,
          column: 18
        }
      },
      "23": {
        start: {
          line: 78,
          column: 16
        },
        end: {
          line: 81,
          column: 19
        }
      },
      "24": {
        start: {
          line: 84,
          column: 12
        },
        end: {
          line: 89,
          column: 15
        }
      },
      "25": {
        start: {
          line: 91,
          column: 12
        },
        end: {
          line: 91,
          column: 39
        }
      },
      "26": {
        start: {
          line: 92,
          column: 12
        },
        end: {
          line: 92,
          column: 24
        }
      },
      "27": {
        start: {
          line: 95,
          column: 12
        },
        end: {
          line: 95,
          column: 41
        }
      },
      "28": {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 96,
          column: 64
        }
      },
      "29": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 97,
          column: 25
        }
      },
      "30": {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 104,
          column: 9
        }
      },
      "31": {
        start: {
          line: 103,
          column: 12
        },
        end: {
          line: 103,
          column: 25
        }
      },
      "32": {
        start: {
          line: 106,
          column: 8
        },
        end: {
          line: 108,
          column: 11
        }
      },
      "33": {
        start: {
          line: 109,
          column: 8
        },
        end: {
          line: 109,
          column: 20
        }
      },
      "34": {
        start: {
          line: 112,
          column: 0
        },
        end: {
          line: 151,
          column: 3
        }
      },
      "35": {
        start: {
          line: 146,
          column: 12
        },
        end: {
          line: 148,
          column: 13
        }
      },
      "36": {
        start: {
          line: 147,
          column: 16
        },
        end: {
          line: 147,
          column: 82
        }
      },
      "37": {
        start: {
          line: 152,
          column: 17
        },
        end: {
          line: 152,
          column: 34
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "_interop_require_default",
        decl: {
          start: {
            line: 13,
            column: 9
          },
          end: {
            line: 13,
            column: 33
          }
        },
        loc: {
          start: {
            line: 13,
            column: 39
          },
          end: {
            line: 17,
            column: 1
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 4
          },
          end: {
            line: 20,
            column: 5
          }
        },
        loc: {
          start: {
            line: 20,
            column: 59
          },
          end: {
            line: 28,
            column: 5
          }
        },
        line: 20
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 29,
            column: 4
          },
          end: {
            line: 29,
            column: 5
          }
        },
        loc: {
          start: {
            line: 29,
            column: 29
          },
          end: {
            line: 99,
            column: 5
          }
        },
        line: 29
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 100,
            column: 4
          },
          end: {
            line: 100,
            column: 5
          }
        },
        loc: {
          start: {
            line: 100,
            column: 27
          },
          end: {
            line: 110,
            column: 5
          }
        },
        line: 100
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 145,
            column: 8
          },
          end: {
            line: 145,
            column: 9
          }
        },
        loc: {
          start: {
            line: 145,
            column: 26
          },
          end: {
            line: 149,
            column: 9
          }
        },
        line: 145
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 14,
            column: 11
          },
          end: {
            line: 16,
            column: 5
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 14,
            column: 35
          },
          end: {
            line: 14,
            column: 38
          }
        }, {
          start: {
            line: 14,
            column: 41
          },
          end: {
            line: 16,
            column: 5
          }
        }],
        line: 14
      },
      "1": {
        loc: {
          start: {
            line: 14,
            column: 11
          },
          end: {
            line: 14,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 14,
            column: 11
          },
          end: {
            line: 14,
            column: 14
          }
        }, {
          start: {
            line: 14,
            column: 18
          },
          end: {
            line: 14,
            column: 32
          }
        }],
        line: 14
      },
      "2": {
        loc: {
          start: {
            line: 20,
            column: 47
          },
          end: {
            line: 20,
            column: 57
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 20,
            column: 55
          },
          end: {
            line: 20,
            column: 57
          }
        }],
        line: 20
      },
      "3": {
        loc: {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 33,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 33,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 31
      },
      "4": {
        loc: {
          start: {
            line: 57,
            column: 16
          },
          end: {
            line: 59,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 57,
            column: 16
          },
          end: {
            line: 59,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 57
      },
      "5": {
        loc: {
          start: {
            line: 57,
            column: 20
          },
          end: {
            line: 57,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 57,
            column: 20
          },
          end: {
            line: 57,
            column: 36
          }
        }, {
          start: {
            line: 57,
            column: 40
          },
          end: {
            line: 57,
            column: 82
          }
        }],
        line: 57
      },
      "6": {
        loc: {
          start: {
            line: 102,
            column: 8
          },
          end: {
            line: 104,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 102,
            column: 8
          },
          end: {
            line: 104,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 102
      },
      "7": {
        loc: {
          start: {
            line: 146,
            column: 12
          },
          end: {
            line: 148,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 146,
            column: 12
          },
          end: {
            line: 148,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 146
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/sachin/Documents/md-sports-/src/lib/models/InventoryTransfer.ts"],
      sourcesContent: ["import { Model, DataTypes } from 'sequelize';\nimport sequelize from '../db';\n\nclass InventoryTransfer extends Model {\n    public id!: number;\n    public sourceShopId!: number;\n    public destinationShopId!: number;\n    public initiatedByUserId!: number;\n    public status!: string;\n    public readonly createdAt!: Date;\n    public completedAt!: Date | null;\n\n    // Custom instance methods\n    public async addTransferItem(productId: number, quantity: number, notes: string = ''): Promise<void> {\n        const TransferItem = sequelize.model('transfer_item');\n        await TransferItem.create({\n            transferId: this.id,\n            productId,\n            quantity,\n            notes\n        });\n    }\n\n    public async completeTransfer(): Promise<boolean> {\n        // Check if transfer is in pending status\n        if (this.status !== 'pending') {\n            return false;\n        }\n\n        // Start transaction\n        const transaction = await sequelize.transaction();\n\n        try {\n            const TransferItem = sequelize.model('transfer_item');\n            const InventoryItem = sequelize.model('inventory_item');\n\n            // Get all transfer items\n            const items = await TransferItem.findAll({\n                where: { transferId: this.id }\n            });\n\n            // Process each item in the transfer\n            for (const item of items) {\n                const productId = item.get('productId');\n                const quantity = item.get('quantity');\n\n                // Decrement source inventory\n                const sourceInventory = await InventoryItem.findOne({\n                    where: {\n                        shopId: this.sourceShopId,\n                        productId\n                    },\n                    transaction\n                });\n\n                if (!sourceInventory || sourceInventory.get('quantity') < quantity) {\n                    throw new Error(`Insufficient inventory for product ${productId} in source shop`);\n                }\n\n                await sourceInventory.decrement('quantity', {\n                    by: quantity,\n                    transaction\n                });\n\n                // Increment destination inventory (or create if not exists)\n                const [destInventory, _created] = await InventoryItem.findOrCreate({\n                    where: {\n                        shopId: this.destinationShopId,\n                        productId\n                    },\n                    defaults: {\n                        shopId: this.destinationShopId,\n                        productId,\n                        quantity: 0,\n                        reorderLevel: sourceInventory.get('reorderLevel')\n                    },\n                    transaction\n                });\n\n                await destInventory.increment('quantity', {\n                    by: quantity,\n                    transaction\n                });\n            }\n\n            // Update transfer status\n            await this.update({\n                status: 'completed',\n                completedAt: new Date()\n            }, { transaction });\n\n            // Commit transaction\n            await transaction.commit();\n            return true;\n        } catch (error) {\n            // Rollback transaction on error\n            await transaction.rollback();\n            console.error('Transfer completion failed:', error);\n            return false;\n        }\n    }\n\n    public async cancelTransfer(): Promise<boolean> {\n        // Only pending transfers can be cancelled\n        if (this.status !== 'pending') {\n            return false;\n        }\n\n        // Update transfer status\n        await this.update({\n            status: 'cancelled'\n        });\n\n        return true;\n    }\n}\n\nInventoryTransfer.init({\n    id: {\n        type: DataTypes.INTEGER,\n        autoIncrement: true,\n        primaryKey: true\n    },\n    sourceShopId: {\n        type: DataTypes.INTEGER,\n        allowNull: false\n    },\n    destinationShopId: {\n        type: DataTypes.INTEGER,\n        allowNull: false\n    },\n    initiatedByUserId: {\n        type: DataTypes.INTEGER,\n        allowNull: false\n    },\n    status: {\n        type: DataTypes.ENUM('pending', 'completed', 'cancelled'),\n        allowNull: false,\n        defaultValue: 'pending'\n    },\n    completedAt: {\n        type: DataTypes.DATE,\n        allowNull: true\n    }\n}, {\n    sequelize,\n    modelName: 'inventory_transfer',\n    tableName: 'inventory_transfers',\n    timestamps: true,\n    validate: {\n        differentShops() {\n            if (this.sourceShopId === this.destinationShopId) {\n                throw new Error('Source and destination shops must be different');\n            }\n        }\n    }\n});\n\nexport default InventoryTransfer;\n\n/**\n * Represents an inventory transfer between shops\n */\nexport interface InventoryTransfer {\n    id: number;\n    sourceShopId: number;\n    destinationShopId: number;\n    initiatedByUserId: number;\n    status: 'pending' | 'completed' | 'cancelled';\n    createdAt: string;\n    updatedAt: string;\n    completedAt: string | null;\n}\n\n/**\n * Represents an item in an inventory transfer\n */\nexport interface TransferItem {\n    id: number;\n    transferId: number;\n    productId: number;\n    quantity: number;\n    notes: string | null;\n    createdAt: string;\n    updatedAt: string;\n}\n\n/**\n * Represents a transfer with additional details for display\n */\nexport interface TransferWithDetails extends InventoryTransfer {\n    sourceShopName: string;\n    destinationShopName: string;\n    initiatedBy: string;\n    items: TransferItemWithDetails[];\n}\n\n/**\n * Represents a transfer item with additional details for display\n */\nexport interface TransferItemWithDetails extends TransferItem {\n    productName: string;\n    sku: string;\n    retailPrice: string;\n}"],
      names: ["InventoryTransfer", "Model", "addTransferItem", "productId", "quantity", "notes", "TransferItem", "sequelize", "model", "create", "transferId", "id", "completeTransfer", "status", "transaction", "InventoryItem", "items", "findAll", "where", "item", "get", "sourceInventory", "findOne", "shopId", "sourceShopId", "Error", "decrement", "by", "destInventory", "_created", "findOrCreate", "destinationShopId", "defaults", "reorderLevel", "increment", "update", "completedAt", "Date", "commit", "error", "rollback", "console", "cancelTransfer", "init", "type", "DataTypes", "INTEGER", "autoIncrement", "primaryKey", "allowNull", "initiatedByUserId", "ENUM", "defaultValue", "DATE", "modelName", "tableName", "timestamps", "validate", "differentShops"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "eecbb463ba32105c339db484d170a8866fd4a46e"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_214sn763f2 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_214sn763f2();
cov_214sn763f2().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_214sn763f2().s[1]++;
Object.defineProperty(exports, "default", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_214sn763f2().f[0]++;
    cov_214sn763f2().s[2]++;
    return _default;
  }
});
const _sequelize =
/* istanbul ignore next */
(cov_214sn763f2().s[3]++, require("sequelize"));
const _db =
/* istanbul ignore next */
(/*#__PURE__*/cov_214sn763f2().s[4]++, _interop_require_default(require("../db")));
function _interop_require_default(obj) {
  /* istanbul ignore next */
  cov_214sn763f2().f[1]++;
  cov_214sn763f2().s[5]++;
  return /* istanbul ignore next */(cov_214sn763f2().b[1][0]++, obj) &&
  /* istanbul ignore next */
  (cov_214sn763f2().b[1][1]++, obj.__esModule) ?
  /* istanbul ignore next */
  (cov_214sn763f2().b[0][0]++, obj) :
  /* istanbul ignore next */
  (cov_214sn763f2().b[0][1]++, {
    default: obj
  });
}
class InventoryTransfer extends
/* istanbul ignore next */
(_sequelize.Model) {
  // Custom instance methods
  async addTransferItem(productId, quantity, notes =
  /* istanbul ignore next */
  (cov_214sn763f2().b[2][0]++, "")) {
    /* istanbul ignore next */
    cov_214sn763f2().f[2]++;
    const TransferItem =
    /* istanbul ignore next */
    (cov_214sn763f2().s[6]++, _db.default.model("transfer_item"));
    /* istanbul ignore next */
    cov_214sn763f2().s[7]++;
    await TransferItem.create({
      transferId: this.id,
      productId,
      quantity,
      notes
    });
  }
  async completeTransfer() {
    /* istanbul ignore next */
    cov_214sn763f2().f[3]++;
    cov_214sn763f2().s[8]++;
    // Check if transfer is in pending status
    if (this.status !== "pending") {
      /* istanbul ignore next */
      cov_214sn763f2().b[3][0]++;
      cov_214sn763f2().s[9]++;
      return false;
    } else
    /* istanbul ignore next */
    {
      cov_214sn763f2().b[3][1]++;
    }
    // Start transaction
    const transaction =
    /* istanbul ignore next */
    (cov_214sn763f2().s[10]++, await _db.default.transaction());
    /* istanbul ignore next */
    cov_214sn763f2().s[11]++;
    try {
      const TransferItem =
      /* istanbul ignore next */
      (cov_214sn763f2().s[12]++, _db.default.model("transfer_item"));
      const InventoryItem =
      /* istanbul ignore next */
      (cov_214sn763f2().s[13]++, _db.default.model("inventory_item"));
      // Get all transfer items
      const items =
      /* istanbul ignore next */
      (cov_214sn763f2().s[14]++, await TransferItem.findAll({
        where: {
          transferId: this.id
        }
      }));
      // Process each item in the transfer
      /* istanbul ignore next */
      cov_214sn763f2().s[15]++;
      for (const item of items) {
        const productId =
        /* istanbul ignore next */
        (cov_214sn763f2().s[16]++, item.get("productId"));
        const quantity =
        /* istanbul ignore next */
        (cov_214sn763f2().s[17]++, item.get("quantity"));
        // Decrement source inventory
        const sourceInventory =
        /* istanbul ignore next */
        (cov_214sn763f2().s[18]++, await InventoryItem.findOne({
          where: {
            shopId: this.sourceShopId,
            productId
          },
          transaction
        }));
        /* istanbul ignore next */
        cov_214sn763f2().s[19]++;
        if (
        /* istanbul ignore next */
        (cov_214sn763f2().b[5][0]++, !sourceInventory) ||
        /* istanbul ignore next */
        (cov_214sn763f2().b[5][1]++, sourceInventory.get("quantity") < quantity)) {
          /* istanbul ignore next */
          cov_214sn763f2().b[4][0]++;
          cov_214sn763f2().s[20]++;
          throw new Error(`Insufficient inventory for product ${productId} in source shop`);
        } else
        /* istanbul ignore next */
        {
          cov_214sn763f2().b[4][1]++;
        }
        cov_214sn763f2().s[21]++;
        await sourceInventory.decrement("quantity", {
          by: quantity,
          transaction
        });
        // Increment destination inventory (or create if not exists)
        const [destInventory, _created] =
        /* istanbul ignore next */
        (cov_214sn763f2().s[22]++, await InventoryItem.findOrCreate({
          where: {
            shopId: this.destinationShopId,
            productId
          },
          defaults: {
            shopId: this.destinationShopId,
            productId,
            quantity: 0,
            reorderLevel: sourceInventory.get("reorderLevel")
          },
          transaction
        }));
        /* istanbul ignore next */
        cov_214sn763f2().s[23]++;
        await destInventory.increment("quantity", {
          by: quantity,
          transaction
        });
      }
      // Update transfer status
      /* istanbul ignore next */
      cov_214sn763f2().s[24]++;
      await this.update({
        status: "completed",
        completedAt: new Date()
      }, {
        transaction
      });
      // Commit transaction
      /* istanbul ignore next */
      cov_214sn763f2().s[25]++;
      await transaction.commit();
      /* istanbul ignore next */
      cov_214sn763f2().s[26]++;
      return true;
    } catch (error) {
      /* istanbul ignore next */
      cov_214sn763f2().s[27]++;
      // Rollback transaction on error
      await transaction.rollback();
      /* istanbul ignore next */
      cov_214sn763f2().s[28]++;
      console.error("Transfer completion failed:", error);
      /* istanbul ignore next */
      cov_214sn763f2().s[29]++;
      return false;
    }
  }
  async cancelTransfer() {
    /* istanbul ignore next */
    cov_214sn763f2().f[4]++;
    cov_214sn763f2().s[30]++;
    // Only pending transfers can be cancelled
    if (this.status !== "pending") {
      /* istanbul ignore next */
      cov_214sn763f2().b[6][0]++;
      cov_214sn763f2().s[31]++;
      return false;
    } else
    /* istanbul ignore next */
    {
      cov_214sn763f2().b[6][1]++;
    }
    // Update transfer status
    cov_214sn763f2().s[32]++;
    await this.update({
      status: "cancelled"
    });
    /* istanbul ignore next */
    cov_214sn763f2().s[33]++;
    return true;
  }
}
/* istanbul ignore next */
cov_214sn763f2().s[34]++;
InventoryTransfer.init({
  id: {
    type: _sequelize.DataTypes.INTEGER,
    autoIncrement: true,
    primaryKey: true
  },
  sourceShopId: {
    type: _sequelize.DataTypes.INTEGER,
    allowNull: false
  },
  destinationShopId: {
    type: _sequelize.DataTypes.INTEGER,
    allowNull: false
  },
  initiatedByUserId: {
    type: _sequelize.DataTypes.INTEGER,
    allowNull: false
  },
  status: {
    type: _sequelize.DataTypes.ENUM("pending", "completed", "cancelled"),
    allowNull: false,
    defaultValue: "pending"
  },
  completedAt: {
    type: _sequelize.DataTypes.DATE,
    allowNull: true
  }
}, {
  sequelize: _db.default,
  modelName: "inventory_transfer",
  tableName: "inventory_transfers",
  timestamps: true,
  validate: {
    differentShops() {
      /* istanbul ignore next */
      cov_214sn763f2().f[5]++;
      cov_214sn763f2().s[35]++;
      if (this.sourceShopId === this.destinationShopId) {
        /* istanbul ignore next */
        cov_214sn763f2().b[7][0]++;
        cov_214sn763f2().s[36]++;
        throw new Error("Source and destination shops must be different");
      } else
      /* istanbul ignore next */
      {
        cov_214sn763f2().b[7][1]++;
      }
    }
  }
});
const _default =
/* istanbul ignore next */
(cov_214sn763f2().s[37]++, InventoryTransfer);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZGVmYXVsdCIsIkludmVudG9yeVRyYW5zZmVyIiwiX3NlcXVlbGl6ZSIsIk1vZGVsIiwiYWRkVHJhbnNmZXJJdGVtIiwicHJvZHVjdElkIiwicXVhbnRpdHkiLCJub3RlcyIsImNvdl8yMTRzbjc2M2YyIiwiYiIsImYiLCJUcmFuc2Zlckl0ZW0iLCJzIiwiX2RiIiwiZGVmYXVsdCIsIm1vZGVsIiwiY3JlYXRlIiwidHJhbnNmZXJJZCIsImlkIiwiY29tcGxldGVUcmFuc2ZlciIsInN0YXR1cyIsInRyYW5zYWN0aW9uIiwiSW52ZW50b3J5SXRlbSIsIml0ZW1zIiwiZmluZEFsbCIsIndoZXJlIiwiaXRlbSIsImdldCIsInNvdXJjZUludmVudG9yeSIsImZpbmRPbmUiLCJzaG9wSWQiLCJzb3VyY2VTaG9wSWQiLCJFcnJvciIsImRlY3JlbWVudCIsImJ5IiwiZGVzdEludmVudG9yeSIsIl9jcmVhdGVkIiwiZmluZE9yQ3JlYXRlIiwiZGVzdGluYXRpb25TaG9wSWQiLCJkZWZhdWx0cyIsInJlb3JkZXJMZXZlbCIsImluY3JlbWVudCIsInVwZGF0ZSIsImNvbXBsZXRlZEF0IiwiRGF0ZSIsImNvbW1pdCIsImVycm9yIiwicm9sbGJhY2siLCJjb25zb2xlIiwiY2FuY2VsVHJhbnNmZXIiLCJpbml0IiwidHlwZSIsIkRhdGFUeXBlcyIsIklOVEVHRVIiLCJhdXRvSW5jcmVtZW50IiwicHJpbWFyeUtleSIsImFsbG93TnVsbCIsImluaXRpYXRlZEJ5VXNlcklkIiwiRU5VTSIsImRlZmF1bHRWYWx1ZSIsIkRBVEUiLCJzZXF1ZWxpemUiLCJtb2RlbE5hbWUiLCJ0YWJsZU5hbWUiLCJ0aW1lc3RhbXBzIiwidmFsaWRhdGUiLCJkaWZmZXJlbnRTaG9wcyJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWNoaW4vRG9jdW1lbnRzL21kLXNwb3J0cy0vc3JjL2xpYi9tb2RlbHMvSW52ZW50b3J5VHJhbnNmZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9kZWwsIERhdGFUeXBlcyB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgc2VxdWVsaXplIGZyb20gJy4uL2RiJztcblxuY2xhc3MgSW52ZW50b3J5VHJhbnNmZXIgZXh0ZW5kcyBNb2RlbCB7XG4gICAgcHVibGljIGlkITogbnVtYmVyO1xuICAgIHB1YmxpYyBzb3VyY2VTaG9wSWQhOiBudW1iZXI7XG4gICAgcHVibGljIGRlc3RpbmF0aW9uU2hvcElkITogbnVtYmVyO1xuICAgIHB1YmxpYyBpbml0aWF0ZWRCeVVzZXJJZCE6IG51bWJlcjtcbiAgICBwdWJsaWMgc3RhdHVzITogc3RyaW5nO1xuICAgIHB1YmxpYyByZWFkb25seSBjcmVhdGVkQXQhOiBEYXRlO1xuICAgIHB1YmxpYyBjb21wbGV0ZWRBdCE6IERhdGUgfCBudWxsO1xuXG4gICAgLy8gQ3VzdG9tIGluc3RhbmNlIG1ldGhvZHNcbiAgICBwdWJsaWMgYXN5bmMgYWRkVHJhbnNmZXJJdGVtKHByb2R1Y3RJZDogbnVtYmVyLCBxdWFudGl0eTogbnVtYmVyLCBub3Rlczogc3RyaW5nID0gJycpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgVHJhbnNmZXJJdGVtID0gc2VxdWVsaXplLm1vZGVsKCd0cmFuc2Zlcl9pdGVtJyk7XG4gICAgICAgIGF3YWl0IFRyYW5zZmVySXRlbS5jcmVhdGUoe1xuICAgICAgICAgICAgdHJhbnNmZXJJZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHByb2R1Y3RJZCxcbiAgICAgICAgICAgIHF1YW50aXR5LFxuICAgICAgICAgICAgbm90ZXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGNvbXBsZXRlVHJhbnNmZXIoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRyYW5zZmVyIGlzIGluIHBlbmRpbmcgc3RhdHVzXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyAhPT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGFydCB0cmFuc2FjdGlvblxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IHNlcXVlbGl6ZS50cmFuc2FjdGlvbigpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBUcmFuc2Zlckl0ZW0gPSBzZXF1ZWxpemUubW9kZWwoJ3RyYW5zZmVyX2l0ZW0nKTtcbiAgICAgICAgICAgIGNvbnN0IEludmVudG9yeUl0ZW0gPSBzZXF1ZWxpemUubW9kZWwoJ2ludmVudG9yeV9pdGVtJyk7XG5cbiAgICAgICAgICAgIC8vIEdldCBhbGwgdHJhbnNmZXIgaXRlbXNcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgVHJhbnNmZXJJdGVtLmZpbmRBbGwoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IHRyYW5zZmVySWQ6IHRoaXMuaWQgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgZWFjaCBpdGVtIGluIHRoZSB0cmFuc2ZlclxuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdElkID0gaXRlbS5nZXQoJ3Byb2R1Y3RJZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHF1YW50aXR5ID0gaXRlbS5nZXQoJ3F1YW50aXR5Jyk7XG5cbiAgICAgICAgICAgICAgICAvLyBEZWNyZW1lbnQgc291cmNlIGludmVudG9yeVxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUludmVudG9yeSA9IGF3YWl0IEludmVudG9yeUl0ZW0uZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG9wSWQ6IHRoaXMuc291cmNlU2hvcElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZUludmVudG9yeSB8fCBzb3VyY2VJbnZlbnRvcnkuZ2V0KCdxdWFudGl0eScpIDwgcXVhbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnN1ZmZpY2llbnQgaW52ZW50b3J5IGZvciBwcm9kdWN0ICR7cHJvZHVjdElkfSBpbiBzb3VyY2Ugc2hvcGApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGF3YWl0IHNvdXJjZUludmVudG9yeS5kZWNyZW1lbnQoJ3F1YW50aXR5Jywge1xuICAgICAgICAgICAgICAgICAgICBieTogcXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBJbmNyZW1lbnQgZGVzdGluYXRpb24gaW52ZW50b3J5IChvciBjcmVhdGUgaWYgbm90IGV4aXN0cylcbiAgICAgICAgICAgICAgICBjb25zdCBbZGVzdEludmVudG9yeSwgX2NyZWF0ZWRdID0gYXdhaXQgSW52ZW50b3J5SXRlbS5maW5kT3JDcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvcElkOiB0aGlzLmRlc3RpbmF0aW9uU2hvcElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG9wSWQ6IHRoaXMuZGVzdGluYXRpb25TaG9wSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlb3JkZXJMZXZlbDogc291cmNlSW52ZW50b3J5LmdldCgncmVvcmRlckxldmVsJylcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IGRlc3RJbnZlbnRvcnkuaW5jcmVtZW50KCdxdWFudGl0eScsIHtcbiAgICAgICAgICAgICAgICAgICAgYnk6IHF1YW50aXR5LFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgdHJhbnNmZXIgc3RhdHVzXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICAgICAgfSwgeyB0cmFuc2FjdGlvbiB9KTtcblxuICAgICAgICAgICAgLy8gQ29tbWl0IHRyYW5zYWN0aW9uXG4gICAgICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5jb21taXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gUm9sbGJhY2sgdHJhbnNhY3Rpb24gb24gZXJyb3JcbiAgICAgICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJvbGxiYWNrKCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUcmFuc2ZlciBjb21wbGV0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY2FuY2VsVHJhbnNmZXIoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgICAgIC8vIE9ubHkgcGVuZGluZyB0cmFuc2ZlcnMgY2FuIGJlIGNhbmNlbGxlZFxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgIT09ICdwZW5kaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHRyYW5zZmVyIHN0YXR1c1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZSh7XG4gICAgICAgICAgICBzdGF0dXM6ICdjYW5jZWxsZWQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuSW52ZW50b3J5VHJhbnNmZXIuaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWVcbiAgICB9LFxuICAgIHNvdXJjZVNob3BJZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZVxuICAgIH0sXG4gICAgZGVzdGluYXRpb25TaG9wSWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2VcbiAgICB9LFxuICAgIGluaXRpYXRlZEJ5VXNlcklkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlXG4gICAgfSxcbiAgICBzdGF0dXM6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkVOVU0oJ3BlbmRpbmcnLCAnY29tcGxldGVkJywgJ2NhbmNlbGxlZCcpLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6ICdwZW5kaW5nJ1xuICAgIH0sXG4gICAgY29tcGxldGVkQXQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZVxuICAgIH1cbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnaW52ZW50b3J5X3RyYW5zZmVyJyxcbiAgICB0YWJsZU5hbWU6ICdpbnZlbnRvcnlfdHJhbnNmZXJzJyxcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxuICAgIHZhbGlkYXRlOiB7XG4gICAgICAgIGRpZmZlcmVudFNob3BzKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc291cmNlU2hvcElkID09PSB0aGlzLmRlc3RpbmF0aW9uU2hvcElkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb3VyY2UgYW5kIGRlc3RpbmF0aW9uIHNob3BzIG11c3QgYmUgZGlmZmVyZW50Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSW52ZW50b3J5VHJhbnNmZXI7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBpbnZlbnRvcnkgdHJhbnNmZXIgYmV0d2VlbiBzaG9wc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEludmVudG9yeVRyYW5zZmVyIHtcbiAgICBpZDogbnVtYmVyO1xuICAgIHNvdXJjZVNob3BJZDogbnVtYmVyO1xuICAgIGRlc3RpbmF0aW9uU2hvcElkOiBudW1iZXI7XG4gICAgaW5pdGlhdGVkQnlVc2VySWQ6IG51bWJlcjtcbiAgICBzdGF0dXM6ICdwZW5kaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2NhbmNlbGxlZCc7XG4gICAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gICAgdXBkYXRlZEF0OiBzdHJpbmc7XG4gICAgY29tcGxldGVkQXQ6IHN0cmluZyB8IG51bGw7XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBpdGVtIGluIGFuIGludmVudG9yeSB0cmFuc2ZlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zZmVySXRlbSB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICB0cmFuc2ZlcklkOiBudW1iZXI7XG4gICAgcHJvZHVjdElkOiBudW1iZXI7XG4gICAgcXVhbnRpdHk6IG51bWJlcjtcbiAgICBub3Rlczogc3RyaW5nIHwgbnVsbDtcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICB1cGRhdGVkQXQ6IHN0cmluZztcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgdHJhbnNmZXIgd2l0aCBhZGRpdGlvbmFsIGRldGFpbHMgZm9yIGRpc3BsYXlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2ZlcldpdGhEZXRhaWxzIGV4dGVuZHMgSW52ZW50b3J5VHJhbnNmZXIge1xuICAgIHNvdXJjZVNob3BOYW1lOiBzdHJpbmc7XG4gICAgZGVzdGluYXRpb25TaG9wTmFtZTogc3RyaW5nO1xuICAgIGluaXRpYXRlZEJ5OiBzdHJpbmc7XG4gICAgaXRlbXM6IFRyYW5zZmVySXRlbVdpdGhEZXRhaWxzW107XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHRyYW5zZmVyIGl0ZW0gd2l0aCBhZGRpdGlvbmFsIGRldGFpbHMgZm9yIGRpc3BsYXlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2Zlckl0ZW1XaXRoRGV0YWlscyBleHRlbmRzIFRyYW5zZmVySXRlbSB7XG4gICAgcHJvZHVjdE5hbWU6IHN0cmluZztcbiAgICBza3U6IHN0cmluZztcbiAgICByZXRhaWxQcmljZTogc3RyaW5nO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUFDO01BQ2R0QixNQUFBLEVBQVE7SUFDWjtJQUFBO0lBQUFaLGNBQUEsR0FBQUksQ0FBQTtJQUVBLE9BQU87RUFDWDtBQUNKO0FBQUE7QUFBQUosY0FBQSxHQUFBSSxDQUFBO0FBRUFYLGlCQUFBLENBQWtCaUQsSUFBSSxDQUFDO0VBQ25CaEMsRUFBQSxFQUFJO0lBQ0FpQyxJQUFBLEVBQU1qRCxVQUFBLENBQUFrRCxTQUFTLENBQUNDLE9BQU87SUFDdkJDLGFBQUEsRUFBZTtJQUNmQyxVQUFBLEVBQVk7RUFDaEI7RUFDQXhCLFlBQUEsRUFBYztJQUNWb0IsSUFBQSxFQUFNakQsVUFBQSxDQUFBa0QsU0FBUyxDQUFDQyxPQUFPO0lBQ3ZCRyxTQUFBLEVBQVc7RUFDZjtFQUNBbEIsaUJBQUEsRUFBbUI7SUFDZmEsSUFBQSxFQUFNakQsVUFBQSxDQUFBa0QsU0FBUyxDQUFDQyxPQUFPO0lBQ3ZCRyxTQUFBLEVBQVc7RUFDZjtFQUNBQyxpQkFBQSxFQUFtQjtJQUNmTixJQUFBLEVBQU1qRCxVQUFBLENBQUFrRCxTQUFTLENBQUNDLE9BQU87SUFDdkJHLFNBQUEsRUFBVztFQUNmO0VBQ0FwQyxNQUFBLEVBQVE7SUFDSitCLElBQUEsRUFBTWpELFVBQUEsQ0FBQWtELFNBQVMsQ0FBQ00sSUFBSSxDQUFDLFdBQVcsYUFBYTtJQUM3Q0YsU0FBQSxFQUFXO0lBQ1hHLFlBQUEsRUFBYztFQUNsQjtFQUNBaEIsV0FBQSxFQUFhO0lBQ1RRLElBQUEsRUFBTWpELFVBQUEsQ0FBQWtELFNBQVMsQ0FBQ1EsSUFBSTtJQUNwQkosU0FBQSxFQUFXO0VBQ2Y7QUFDSixHQUFHO0VBQ0NLLFNBQUEsRUFBQWhELEdBQUEsQ0FBQUMsT0FBUztFQUNUZ0QsU0FBQSxFQUFXO0VBQ1hDLFNBQUEsRUFBVztFQUNYQyxVQUFBLEVBQVk7RUFDWkMsUUFBQSxFQUFVO0lBQ05DLGVBQUE7TUFBQTtNQUFBMUQsY0FBQSxHQUFBRSxDQUFBO01BQUFGLGNBQUEsR0FBQUksQ0FBQTtNQUNJLElBQUksSUFBSSxDQUFDbUIsWUFBWSxLQUFLLElBQUksQ0FBQ08saUJBQWlCLEVBQUU7UUFBQTtRQUFBOUIsY0FBQSxHQUFBQyxDQUFBO1FBQUFELGNBQUEsR0FBQUksQ0FBQTtRQUM5QyxNQUFNLElBQUlvQixLQUFBLENBQU07TUFDcEI7TUFBQTtNQUFBO1FBQUF4QixjQUFBLEdBQUFDLENBQUE7TUFBQTtJQUNKO0VBQ0o7QUFDSjtNQUVBVCxRQUFBO0FBQUE7QUFBQSxDQUFBUSxjQUFBLEdBQUFJLENBQUEsUUFBZVgsaUJBQUEiLCJpZ25vcmVMaXN0IjpbXX0=