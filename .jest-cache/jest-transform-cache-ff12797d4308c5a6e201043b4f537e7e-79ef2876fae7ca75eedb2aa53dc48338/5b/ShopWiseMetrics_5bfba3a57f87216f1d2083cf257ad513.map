{"version":3,"names":["cov_2q8mncuvik","actualCoverage","s","ShopWiseMetrics","startDate","endDate","refreshTrigger","f","user","_useAuth","useAuth","data","setData","_react","useState","isLoading","setIsLoading","error","setError","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","fetchShopWiseMetrics","accessToken","b","localStorage","getItem","fetchHeaders","params","URLSearchParams","append","response","fetch","toString","headers","cache","ok","Error","status","result","json","success","console","message","useEffect","hasInventoryPermission","permissions","includes","hasSalesPermission","_jsxruntime","jsxs","className","jsx","_lucidereact","Loader2","AlertTriangle","onClick","shopMetrics","totals","dateRange","length","Date","toLocaleDateString","Store","totalInventoryCost","TrendingUp","totalProfit","DollarSign","totalSales","CreditCard","outstandingInvoices","map","shop","shopName","shopId"],"sources":["/Users/sachin/Documents/md-sports-/src/app/(protected)/dashboard/components/ShopWiseMetrics.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Store, TrendingUp, CreditCard, AlertTriangle, Loader2, DollarSign } from 'lucide-react';\nimport { useAuth } from '@/hooks/useAuth';\n\n// Interface for shop-wise metrics data\ninterface ShopMetrics {\n    shopId: string;\n    shopName: string;\n    totalInventoryCost: number;\n    totalProfit: number;\n    totalSales: number;\n    outstandingInvoices: number;\n    lowStockItems: number;\n}\n\ninterface ShopWiseData {\n    shopMetrics: ShopMetrics[];\n    totals: {\n        totalInventoryCost: number;\n        totalProfit: number;\n        totalSales: number;\n        outstandingInvoices: number;\n        lowStockItems: number;\n    };\n    dateRange: {\n        startDate: string;\n        endDate: string;\n    };\n}\n\ninterface ShopWiseMetricsProps {\n    startDate?: string;\n    endDate?: string;\n    refreshTrigger?: number;\n}\n\nexport default function ShopWiseMetrics({ startDate, endDate, refreshTrigger }: ShopWiseMetricsProps) {\n    const { user } = useAuth();\n    const [data, setData] = useState<ShopWiseData | null>(null);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n\n    // Format currency\n    const formatCurrency = (amount: number) => {\n        return new Intl.NumberFormat('en-LK', {\n            style: 'currency',\n            currency: 'LKR',\n            minimumFractionDigits: 0,\n            maximumFractionDigits: 0\n        }).format(amount);\n    };\n\n    // Fetch shop-wise metrics\n    const fetchShopWiseMetrics = async () => {\n        try {\n            setIsLoading(true);\n            setError(null);\n\n            const accessToken = localStorage.getItem('accessToken') || localStorage.getItem('authToken');\n            \n            const fetchHeaders: HeadersInit = {\n                'Content-Type': 'application/json',\n            };\n\n            if (accessToken) {\n                fetchHeaders['Authorization'] = `Bearer ${accessToken}`;\n            }\n\n            // Build query parameters\n            const params = new URLSearchParams();\n            if (startDate) params.append('startDate', startDate);\n            if (endDate) params.append('endDate', endDate);\n\n            const response = await fetch(`/api/dashboard/shop-wise?${params.toString()}`, {\n                headers: fetchHeaders,\n                cache: 'no-store'\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to load shop-wise metrics: ${response.status}`);\n            }\n\n            const result = await response.json();\n\n            if (!result.success) {\n                throw new Error(result.error || 'Failed to load shop-wise metrics');\n            }\n\n            setData(result.data);\n        } catch (error) {\n            console.error('Error fetching shop-wise metrics:', error);\n            setError(error instanceof Error ? error.message : 'Failed to load shop-wise metrics');\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    // Fetch data on component mount and when dependencies change\n    useEffect(() => {\n        fetchShopWiseMetrics();\n    }, [startDate, endDate, refreshTrigger]);\n\n    // Check permissions\n    const hasInventoryPermission = user?.permissions?.includes('inventory:view') || false;\n    const hasSalesPermission = user?.permissions?.includes('sales:view') || false;\n\n    if (!hasInventoryPermission && !hasSalesPermission) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <p className=\"text-gray-500\">You don't have permission to view shop-wise metrics.</p>\n            </div>\n        );\n    }\n\n    if (isLoading) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <div className=\"flex items-center justify-center py-8\">\n                    <Loader2 className=\"h-6 w-6 animate-spin text-primary\" />\n                    <span className=\"ml-2 text-gray-600\">Loading shop-wise metrics...</span>\n                </div>\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <div className=\"text-center py-8\">\n                    <AlertTriangle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n                    <p className=\"text-red-600 mb-4\">{error}</p>\n                    <button\n                        onClick={fetchShopWiseMetrics}\n                        className=\"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark transition-colors\"\n                    >\n                        Retry\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    if (!data || !data.shopMetrics || !data.totals || !data.dateRange || data.shopMetrics.length === 0) {\n        return (\n            <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shop-wise Metrics</h3>\n                <p className=\"text-gray-500 text-center py-8\">No shop data available.</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200\">\n            <div className=\"flex items-center justify-between mb-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Shop-wise Metrics</h3>\n                <div className=\"text-sm text-gray-500\">\n                    {new Date(data.dateRange.startDate).toLocaleDateString()} - {new Date(data.dateRange.endDate).toLocaleDateString()}\n                </div>\n            </div>\n\n            {/* Summary Cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n                {hasInventoryPermission && (\n                    <div className=\"bg-blue-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <Store className=\"h-5 w-5 text-blue-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-blue-900\">Total Inventory</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-blue-900 mt-1\">\n                            {formatCurrency(data.totals.totalInventoryCost)}\n                        </p>\n                    </div>\n                )}\n                \n                {hasSalesPermission && (\n                    <div className=\"bg-green-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <TrendingUp className=\"h-5 w-5 text-green-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-green-900\">Total Profit</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-green-900 mt-1\">\n                            {formatCurrency(data.totals.totalProfit)}\n                        </p>\n                    </div>\n                )}\n                \n                {hasSalesPermission && (\n                    <div className=\"bg-purple-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <DollarSign className=\"h-5 w-5 text-purple-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-purple-900\">Total Sales</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-purple-900 mt-1\">\n                            {formatCurrency(data.totals.totalSales)}\n                        </p>\n                    </div>\n                )}\n                \n                {hasSalesPermission && (\n                    <div className=\"bg-orange-50 p-4 rounded-lg\">\n                        <div className=\"flex items-center\">\n                            <CreditCard className=\"h-5 w-5 text-orange-600 mr-2\" />\n                            <span className=\"text-sm font-medium text-orange-900\">Outstanding</span>\n                        </div>\n                        <p className=\"text-xl font-bold text-orange-900 mt-1\">\n                            {formatCurrency(data.totals.outstandingInvoices)}\n                        </p>\n                    </div>\n                )}\n                \n                {/* Low Stock Items card hidden */}\n            </div>\n\n            {/* Shop-wise Table */}\n            <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                        <tr>\n                            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                Shop Name\n                            </th>\n                            {hasInventoryPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Inventory Cost\n                                </th>\n                            )}\n                            {hasSalesPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Profit\n                                </th>\n                            )}\n                            {hasSalesPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Total Sales\n                                </th>\n                            )}\n                            {hasSalesPermission && (\n                                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                                    Outstanding\n                                </th>\n                            )}\n                            {/* Low Stock column header hidden */}\n                        </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                        {data.shopMetrics.map((shop) => (\n                            <tr key={shop.shopId} className=\"hover:bg-gray-50\">\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                                    {shop.shopName}\n                                </td>\n                                {hasInventoryPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        {formatCurrency(shop.totalInventoryCost)}\n                                    </td>\n                                )}\n                                {hasSalesPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        <span className={shop.totalProfit >= 0 ? 'text-green-600' : 'text-red-600'}>\n                                            {formatCurrency(shop.totalProfit)}\n                                        </span>\n                                    </td>\n                                )}\n                                {hasSalesPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        <span className=\"text-purple-600\">\n                                            {formatCurrency(shop.totalSales)}\n                                        </span>\n                                    </td>\n                                )}\n                                {hasSalesPermission && (\n                                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                                        {formatCurrency(shop.outstandingInvoices)}\n                                    </td>\n                                )}\n                                {/* Low Stock column data hidden */}\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}