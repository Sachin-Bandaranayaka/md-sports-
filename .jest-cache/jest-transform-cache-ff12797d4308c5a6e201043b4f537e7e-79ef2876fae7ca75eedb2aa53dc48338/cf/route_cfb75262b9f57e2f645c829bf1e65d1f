a4057993ca1e54190bd4fe1e963a1a88
"use strict";

/* istanbul ignore next */
function cov_xqdg755ph() {
  var path = "/Users/sachin/Documents/md-sports-/src/app/api/reports/daily-sales/route.ts";
  var hash = "eaf61016b2aac9b5302ac82a52de7602086ef6bf";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/sachin/Documents/md-sports-/src/app/api/reports/daily-sales/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 19
        }
      },
      "3": {
        start: {
          line: 11,
          column: 16
        },
        end: {
          line: 11,
          column: 38
        }
      },
      "4": {
        start: {
          line: 12,
          column: 16
        },
        end: {
          line: 12,
          column: 49
        }
      },
      "5": {
        start: {
          line: 14,
          column: 4
        },
        end: {
          line: 137,
          column: 5
        }
      },
      "6": {
        start: {
          line: 15,
          column: 33
        },
        end: {
          line: 15,
          column: 53
        }
      },
      "7": {
        start: {
          line: 16,
          column: 26
        },
        end: {
          line: 16,
          column: 50
        }
      },
      "8": {
        start: {
          line: 18,
          column: 27
        },
        end: {
          line: 18,
          column: 71
        }
      },
      "9": {
        start: {
          line: 20,
          column: 27
        },
        end: {
          line: 20,
          column: 47
        }
      },
      "10": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 21,
          column: 40
        }
      },
      "11": {
        start: {
          line: 22,
          column: 25
        },
        end: {
          line: 22,
          column: 45
        }
      },
      "12": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 43
        }
      },
      "13": {
        start: {
          line: 25,
          column: 22
        },
        end: {
          line: 31,
          column: 10
        }
      },
      "14": {
        start: {
          line: 33,
          column: 30
        },
        end: {
          line: 99,
          column: 11
        }
      },
      "15": {
        start: {
          line: 35,
          column: 35
        },
        end: {
          line: 50,
          column: 14
        }
      },
      "16": {
        start: {
          line: 52,
          column: 29
        },
        end: {
          line: 84,
          column: 14
        }
      },
      "17": {
        start: {
          line: 86,
          column: 34
        },
        end: {
          line: 88,
          column: 17
        }
      },
      "18": {
        start: {
          line: 87,
          column: 16
        },
        end: {
          line: 87,
          column: 101
        }
      },
      "19": {
        start: {
          line: 87,
          column: 71
        },
        end: {
          line: 87,
          column: 96
        }
      },
      "20": {
        start: {
          line: 89,
          column: 12
        },
        end: {
          line: 98,
          column: 14
        }
      },
      "21": {
        start: {
          line: 101,
          column: 30
        },
        end: {
          line: 109,
          column: 10
        }
      },
      "22": {
        start: {
          line: 101,
          column: 68
        },
        end: {
          line: 105,
          column: 13
        }
      },
      "23": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 128,
          column: 11
        }
      },
      "24": {
        start: {
          line: 130,
          column: 8
        },
        end: {
          line: 130,
          column: 67
        }
      },
      "25": {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 136,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "GET",
        decl: {
          start: {
            line: 13,
            column: 15
          },
          end: {
            line: 13,
            column: 18
          }
        },
        loc: {
          start: {
            line: 13,
            column: 28
          },
          end: {
            line: 138,
            column: 1
          }
        },
        line: 13
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 33,
            column: 58
          },
          end: {
            line: 33,
            column: 59
          }
        },
        loc: {
          start: {
            line: 33,
            column: 72
          },
          end: {
            line: 99,
            column: 9
          }
        },
        line: 33
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 86,
            column: 50
          },
          end: {
            line: 86,
            column: 51
          }
        },
        loc: {
          start: {
            line: 86,
            column: 68
          },
          end: {
            line: 88,
            column: 13
          }
        },
        line: 86
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 87,
            column: 52
          },
          end: {
            line: 87,
            column: 53
          }
        },
        loc: {
          start: {
            line: 87,
            column: 71
          },
          end: {
            line: 87,
            column: 96
          }
        },
        line: 87
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 101,
            column: 51
          },
          end: {
            line: 101,
            column: 52
          }
        },
        loc: {
          start: {
            line: 101,
            column: 68
          },
          end: {
            line: 105,
            column: 13
          }
        },
        line: 101
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 18,
            column: 27
          },
          end: {
            line: 18,
            column: 71
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 18,
            column: 39
          },
          end: {
            line: 18,
            column: 58
          }
        }, {
          start: {
            line: 18,
            column: 61
          },
          end: {
            line: 18,
            column: 71
          }
        }],
        line: 18
      },
      "1": {
        loc: {
          start: {
            line: 93,
            column: 28
          },
          end: {
            line: 93,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 93,
            column: 28
          },
          end: {
            line: 93,
            column: 53
          }
        }, {
          start: {
            line: 93,
            column: 57
          },
          end: {
            line: 93,
            column: 58
          }
        }],
        line: 93
      },
      "2": {
        loc: {
          start: {
            line: 94,
            column: 34
          },
          end: {
            line: 94,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 94,
            column: 34
          },
          end: {
            line: 94,
            column: 58
          }
        }, {
          start: {
            line: 94,
            column: 62
          },
          end: {
            line: 94,
            column: 63
          }
        }],
        line: 94
      },
      "3": {
        loc: {
          start: {
            line: 96,
            column: 41
          },
          end: {
            line: 96,
            column: 135
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 96,
            column: 72
          },
          end: {
            line: 96,
            column: 131
          }
        }, {
          start: {
            line: 96,
            column: 134
          },
          end: {
            line: 96,
            column: 135
          }
        }],
        line: 96
      },
      "4": {
        loc: {
          start: {
            line: 96,
            column: 73
          },
          end: {
            line: 96,
            column: 103
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 96,
            column: 73
          },
          end: {
            line: 96,
            column: 98
          }
        }, {
          start: {
            line: 96,
            column: 102
          },
          end: {
            line: 96,
            column: 103
          }
        }],
        line: 96
      },
      "5": {
        loc: {
          start: {
            line: 124,
            column: 32
          },
          end: {
            line: 124,
            column: 94
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 124,
            column: 51
          },
          end: {
            line: 124,
            column: 90
          }
        }, {
          start: {
            line: 124,
            column: 93
          },
          end: {
            line: 124,
            column: 94
          }
        }],
        line: 124
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/sachin/Documents/md-sports-/src/app/api/reports/daily-sales/route.ts"],
      sourcesContent: ["import { NextResponse } from 'next/server';\nimport { prisma } from '@/lib/prisma';\n\nexport async function GET(request: Request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const dateParam = searchParams.get('date');\n        \n        // Use provided date or default to today\n        const targetDate = dateParam ? new Date(dateParam) : new Date();\n        \n        // Set to start and end of the day\n        const startOfDay = new Date(targetDate);\n        startOfDay.setHours(0, 0, 0, 0);\n        \n        const endOfDay = new Date(targetDate);\n        endOfDay.setHours(23, 59, 59, 999);\n\n        // Get all shops\n        const shops = await prisma.shop.findMany({\n            select: {\n                id: true,\n                name: true,\n                location: true\n            }\n        });\n\n        // Get daily sales data for each shop\n        const shopSalesData = await Promise.all(\n            shops.map(async (shop) => {\n                // Get aggregated sales data for the shop\n                const salesAggregate = await prisma.invoice.aggregate({\n                    _sum: {\n                        total: true,\n                    },\n                    _count: {\n                        id: true,\n                    },\n                    where: {\n                        shopId: shop.id,\n                        createdAt: {\n                            gte: startOfDay,\n                            lte: endOfDay,\n                        },\n                        status: 'paid',\n                    },\n                });\n\n                // Get detailed invoice data for the shop\n                const invoices = await prisma.invoice.findMany({\n                    where: {\n                        shopId: shop.id,\n                        createdAt: {\n                            gte: startOfDay,\n                            lte: endOfDay,\n                        },\n                        status: 'paid',\n                    },\n                    include: {\n                        customer: {\n                            select: {\n                                name: true,\n                                email: true,\n                                phone: true\n                            }\n                        },\n                        items: {\n                            include: {\n                                product: {\n                                    select: {\n                                        name: true,\n                                        sku: true,\n                                        category: true\n                                    }\n                                }\n                            }\n                        }\n                    },\n                    orderBy: {\n                        createdAt: 'desc',\n                    },\n                });\n\n                // Calculate total quantity sold\n                const totalQuantity = invoices.reduce((total, invoice) => {\n                    return total + invoice.items.reduce((itemTotal, item) => itemTotal + item.quantity, 0);\n                }, 0);\n\n                return {\n                    shopId: shop.id,\n                    shopName: shop.name,\n                    location: shop.location,\n                    totalSales: salesAggregate._sum.total || 0,\n                    numberOfInvoices: salesAggregate._count.id || 0,\n                    totalQuantitySold: totalQuantity,\n                    averageTransactionValue: salesAggregate._count.id > 0 \n                        ? (salesAggregate._sum.total || 0) / salesAggregate._count.id \n                        : 0,\n                    invoices: invoices\n                };\n            })\n        );\n\n        // Calculate overall totals\n        const overallTotals = shopSalesData.reduce(\n            (totals, shop) => ({\n                totalSales: totals.totalSales + shop.totalSales,\n                totalInvoices: totals.totalInvoices + shop.numberOfInvoices,\n                totalQuantity: totals.totalQuantity + shop.totalQuantitySold\n            }),\n            { totalSales: 0, totalInvoices: 0, totalQuantity: 0 }\n        );\n\n        return NextResponse.json({\n            success: true,\n            reportDate: targetDate.toISOString().split('T')[0],\n            summary: {\n                date: targetDate.toLocaleDateString('en-US', { \n                    weekday: 'long', \n                    year: 'numeric', \n                    month: 'long', \n                    day: 'numeric' \n                }),\n                totalSales: overallTotals.totalSales,\n                totalInvoices: overallTotals.totalInvoices,\n                totalQuantitySold: overallTotals.totalQuantity,\n                numberOfShops: shops.length,\n                averagePerShop: shops.length > 0 ? overallTotals.totalSales / shops.length : 0\n            },\n            shopData: shopSalesData,\n            generatedAt: new Date().toISOString()\n        });\n\n    } catch (error) {\n        console.error('Error fetching daily sales report:', error);\n        return NextResponse.json(\n            { success: false, message: 'Failed to fetch daily sales report' },\n            { status: 500 }\n        );\n    }\n}"],
      names: ["GET", "request", "searchParams", "URL", "url", "dateParam", "get", "targetDate", "Date", "startOfDay", "setHours", "endOfDay", "shops", "prisma", "shop", "findMany", "select", "id", "name", "location", "shopSalesData", "Promise", "all", "map", "salesAggregate", "invoice", "aggregate", "_sum", "total", "_count", "where", "shopId", "createdAt", "gte", "lte", "status", "invoices", "include", "customer", "email", "phone", "items", "product", "sku", "category", "orderBy", "totalQuantity", "reduce", "itemTotal", "item", "quantity", "shopName", "totalSales", "numberOfInvoices", "totalQuantitySold", "averageTransactionValue", "overallTotals", "totals", "totalInvoices", "NextResponse", "json", "success", "reportDate", "toISOString", "split", "summary", "date", "toLocaleDateString", "weekday", "year", "month", "day", "numberOfShops", "length", "averagePerShop", "shopData", "generatedAt", "error", "console", "message"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "eaf61016b2aac9b5302ac82a52de7602086ef6bf"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_xqdg755ph = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_xqdg755ph();
cov_xqdg755ph().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_xqdg755ph().s[1]++;
Object.defineProperty(exports, "GET", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_xqdg755ph().f[0]++;
    cov_xqdg755ph().s[2]++;
    return GET;
  }
});
const _server =
/* istanbul ignore next */
(cov_xqdg755ph().s[3]++, require("next/server"));
const _prisma =
/* istanbul ignore next */
(cov_xqdg755ph().s[4]++, require("../../../../lib/prisma"));
async function GET(request) {
  /* istanbul ignore next */
  cov_xqdg755ph().f[1]++;
  cov_xqdg755ph().s[5]++;
  try {
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_xqdg755ph().s[6]++, new URL(request.url));
    const dateParam =
    /* istanbul ignore next */
    (cov_xqdg755ph().s[7]++, searchParams.get("date"));
    // Use provided date or default to today
    const targetDate =
    /* istanbul ignore next */
    (cov_xqdg755ph().s[8]++, dateParam ?
    /* istanbul ignore next */
    (cov_xqdg755ph().b[0][0]++, new Date(dateParam)) :
    /* istanbul ignore next */
    (cov_xqdg755ph().b[0][1]++, new Date()));
    // Set to start and end of the day
    const startOfDay =
    /* istanbul ignore next */
    (cov_xqdg755ph().s[9]++, new Date(targetDate));
    /* istanbul ignore next */
    cov_xqdg755ph().s[10]++;
    startOfDay.setHours(0, 0, 0, 0);
    const endOfDay =
    /* istanbul ignore next */
    (cov_xqdg755ph().s[11]++, new Date(targetDate));
    /* istanbul ignore next */
    cov_xqdg755ph().s[12]++;
    endOfDay.setHours(23, 59, 59, 999);
    // Get all shops
    const shops =
    /* istanbul ignore next */
    (cov_xqdg755ph().s[13]++, await _prisma.prisma.shop.findMany({
      select: {
        id: true,
        name: true,
        location: true
      }
    }));
    // Get daily sales data for each shop
    const shopSalesData =
    /* istanbul ignore next */
    (cov_xqdg755ph().s[14]++, await Promise.all(shops.map(async shop => {
      /* istanbul ignore next */
      cov_xqdg755ph().f[2]++;
      // Get aggregated sales data for the shop
      const salesAggregate =
      /* istanbul ignore next */
      (cov_xqdg755ph().s[15]++, await _prisma.prisma.invoice.aggregate({
        _sum: {
          total: true
        },
        _count: {
          id: true
        },
        where: {
          shopId: shop.id,
          createdAt: {
            gte: startOfDay,
            lte: endOfDay
          },
          status: "paid"
        }
      }));
      // Get detailed invoice data for the shop
      const invoices =
      /* istanbul ignore next */
      (cov_xqdg755ph().s[16]++, await _prisma.prisma.invoice.findMany({
        where: {
          shopId: shop.id,
          createdAt: {
            gte: startOfDay,
            lte: endOfDay
          },
          status: "paid"
        },
        include: {
          customer: {
            select: {
              name: true,
              email: true,
              phone: true
            }
          },
          items: {
            include: {
              product: {
                select: {
                  name: true,
                  sku: true,
                  category: true
                }
              }
            }
          }
        },
        orderBy: {
          createdAt: "desc"
        }
      }));
      // Calculate total quantity sold
      const totalQuantity =
      /* istanbul ignore next */
      (cov_xqdg755ph().s[17]++, invoices.reduce((total, invoice) => {
        /* istanbul ignore next */
        cov_xqdg755ph().f[3]++;
        cov_xqdg755ph().s[18]++;
        return total + invoice.items.reduce((itemTotal, item) => {
          /* istanbul ignore next */
          cov_xqdg755ph().f[4]++;
          cov_xqdg755ph().s[19]++;
          return itemTotal + item.quantity;
        }, 0);
      }, 0));
      /* istanbul ignore next */
      cov_xqdg755ph().s[20]++;
      return {
        shopId: shop.id,
        shopName: shop.name,
        location: shop.location,
        totalSales:
        /* istanbul ignore next */
        (cov_xqdg755ph().b[1][0]++, salesAggregate._sum.total) ||
        /* istanbul ignore next */
        (cov_xqdg755ph().b[1][1]++, 0),
        numberOfInvoices:
        /* istanbul ignore next */
        (cov_xqdg755ph().b[2][0]++, salesAggregate._count.id) ||
        /* istanbul ignore next */
        (cov_xqdg755ph().b[2][1]++, 0),
        totalQuantitySold: totalQuantity,
        averageTransactionValue: salesAggregate._count.id > 0 ?
        /* istanbul ignore next */
        (cov_xqdg755ph().b[3][0]++, (
        /* istanbul ignore next */
        (cov_xqdg755ph().b[4][0]++, salesAggregate._sum.total) ||
        /* istanbul ignore next */
        (cov_xqdg755ph().b[4][1]++, 0)) / salesAggregate._count.id) :
        /* istanbul ignore next */
        (cov_xqdg755ph().b[3][1]++, 0),
        invoices: invoices
      };
    })));
    // Calculate overall totals
    const overallTotals =
    /* istanbul ignore next */
    (cov_xqdg755ph().s[21]++, shopSalesData.reduce((totals, shop) => {
      /* istanbul ignore next */
      cov_xqdg755ph().f[5]++;
      cov_xqdg755ph().s[22]++;
      return {
        totalSales: totals.totalSales + shop.totalSales,
        totalInvoices: totals.totalInvoices + shop.numberOfInvoices,
        totalQuantity: totals.totalQuantity + shop.totalQuantitySold
      };
    }, {
      totalSales: 0,
      totalInvoices: 0,
      totalQuantity: 0
    }));
    /* istanbul ignore next */
    cov_xqdg755ph().s[23]++;
    return _server.NextResponse.json({
      success: true,
      reportDate: targetDate.toISOString().split("T")[0],
      summary: {
        date: targetDate.toLocaleDateString("en-US", {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric"
        }),
        totalSales: overallTotals.totalSales,
        totalInvoices: overallTotals.totalInvoices,
        totalQuantitySold: overallTotals.totalQuantity,
        numberOfShops: shops.length,
        averagePerShop: shops.length > 0 ?
        /* istanbul ignore next */
        (cov_xqdg755ph().b[5][0]++, overallTotals.totalSales / shops.length) :
        /* istanbul ignore next */
        (cov_xqdg755ph().b[5][1]++, 0)
      },
      shopData: shopSalesData,
      generatedAt: new Date().toISOString()
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_xqdg755ph().s[24]++;
    console.error("Error fetching daily sales report:", error);
    /* istanbul ignore next */
    cov_xqdg755ph().s[25]++;
    return _server.NextResponse.json({
      success: false,
      message: "Failed to fetch daily sales report"
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfeHFkZzc1NXBoIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiR0VUIiwicmVxdWVzdCIsImYiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJkYXRlUGFyYW0iLCJnZXQiLCJ0YXJnZXREYXRlIiwiYiIsIkRhdGUiLCJzdGFydE9mRGF5Iiwic2V0SG91cnMiLCJlbmRPZkRheSIsInNob3BzIiwiX3ByaXNtYSIsInByaXNtYSIsInNob3AiLCJmaW5kTWFueSIsInNlbGVjdCIsImlkIiwibmFtZSIsImxvY2F0aW9uIiwic2hvcFNhbGVzRGF0YSIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJzYWxlc0FnZ3JlZ2F0ZSIsImludm9pY2UiLCJhZ2dyZWdhdGUiLCJfc3VtIiwidG90YWwiLCJfY291bnQiLCJ3aGVyZSIsInNob3BJZCIsImNyZWF0ZWRBdCIsImd0ZSIsImx0ZSIsInN0YXR1cyIsImludm9pY2VzIiwiaW5jbHVkZSIsImN1c3RvbWVyIiwiZW1haWwiLCJwaG9uZSIsIml0ZW1zIiwicHJvZHVjdCIsInNrdSIsImNhdGVnb3J5Iiwib3JkZXJCeSIsInRvdGFsUXVhbnRpdHkiLCJyZWR1Y2UiLCJpdGVtVG90YWwiLCJpdGVtIiwicXVhbnRpdHkiLCJzaG9wTmFtZSIsInRvdGFsU2FsZXMiLCJudW1iZXJPZkludm9pY2VzIiwidG90YWxRdWFudGl0eVNvbGQiLCJhdmVyYWdlVHJhbnNhY3Rpb25WYWx1ZSIsIm92ZXJhbGxUb3RhbHMiLCJ0b3RhbHMiLCJ0b3RhbEludm9pY2VzIiwiX3NlcnZlciIsIk5leHRSZXNwb25zZSIsImpzb24iLCJzdWNjZXNzIiwicmVwb3J0RGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJzdW1tYXJ5IiwiZGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIndlZWtkYXkiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJudW1iZXJPZlNob3BzIiwibGVuZ3RoIiwiYXZlcmFnZVBlclNob3AiLCJzaG9wRGF0YSIsImdlbmVyYXRlZEF0IiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWNoaW4vRG9jdW1lbnRzL21kLXNwb3J0cy0vc3JjL2FwcC9hcGkvcmVwb3J0cy9kYWlseS1zYWxlcy9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgIGNvbnN0IGRhdGVQYXJhbSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2RhdGUnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVzZSBwcm92aWRlZCBkYXRlIG9yIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAgICAgY29uc3QgdGFyZ2V0RGF0ZSA9IGRhdGVQYXJhbSA/IG5ldyBEYXRlKGRhdGVQYXJhbSkgOiBuZXcgRGF0ZSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IHRvIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIGRheVxuICAgICAgICBjb25zdCBzdGFydE9mRGF5ID0gbmV3IERhdGUodGFyZ2V0RGF0ZSk7XG4gICAgICAgIHN0YXJ0T2ZEYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBlbmRPZkRheSA9IG5ldyBEYXRlKHRhcmdldERhdGUpO1xuICAgICAgICBlbmRPZkRheS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuXG4gICAgICAgIC8vIEdldCBhbGwgc2hvcHNcbiAgICAgICAgY29uc3Qgc2hvcHMgPSBhd2FpdCBwcmlzbWEuc2hvcC5maW5kTWFueSh7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEdldCBkYWlseSBzYWxlcyBkYXRhIGZvciBlYWNoIHNob3BcbiAgICAgICAgY29uc3Qgc2hvcFNhbGVzRGF0YSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgc2hvcHMubWFwKGFzeW5jIChzaG9wKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IGFnZ3JlZ2F0ZWQgc2FsZXMgZGF0YSBmb3IgdGhlIHNob3BcbiAgICAgICAgICAgICAgICBjb25zdCBzYWxlc0FnZ3JlZ2F0ZSA9IGF3YWl0IHByaXNtYS5pbnZvaWNlLmFnZ3JlZ2F0ZSh7XG4gICAgICAgICAgICAgICAgICAgIF9zdW06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBfY291bnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvcElkOiBzaG9wLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3RlOiBzdGFydE9mRGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGx0ZTogZW5kT2ZEYXksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncGFpZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgZGV0YWlsZWQgaW52b2ljZSBkYXRhIGZvciB0aGUgc2hvcFxuICAgICAgICAgICAgICAgIGNvbnN0IGludm9pY2VzID0gYXdhaXQgcHJpc21hLmludm9pY2UuZmluZE1hbnkoe1xuICAgICAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvcElkOiBzaG9wLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3RlOiBzdGFydE9mRGF5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGx0ZTogZW5kT2ZEYXksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAncGFpZCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbWVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza3U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJCeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAnZGVzYycsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgdG90YWwgcXVhbnRpdHkgc29sZFxuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsUXVhbnRpdHkgPSBpbnZvaWNlcy5yZWR1Y2UoKHRvdGFsLCBpbnZvaWNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbCArIGludm9pY2UuaXRlbXMucmVkdWNlKChpdGVtVG90YWwsIGl0ZW0pID0+IGl0ZW1Ub3RhbCArIGl0ZW0ucXVhbnRpdHksIDApO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvcElkOiBzaG9wLmlkLFxuICAgICAgICAgICAgICAgICAgICBzaG9wTmFtZTogc2hvcC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogc2hvcC5sb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdG90YWxTYWxlczogc2FsZXNBZ2dyZWdhdGUuX3N1bS50b3RhbCB8fCAwLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZkludm9pY2VzOiBzYWxlc0FnZ3JlZ2F0ZS5fY291bnQuaWQgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxRdWFudGl0eVNvbGQ6IHRvdGFsUXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2VUcmFuc2FjdGlvblZhbHVlOiBzYWxlc0FnZ3JlZ2F0ZS5fY291bnQuaWQgPiAwIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoc2FsZXNBZ2dyZWdhdGUuX3N1bS50b3RhbCB8fCAwKSAvIHNhbGVzQWdncmVnYXRlLl9jb3VudC5pZCBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMCxcbiAgICAgICAgICAgICAgICAgICAgaW52b2ljZXM6IGludm9pY2VzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIG92ZXJhbGwgdG90YWxzXG4gICAgICAgIGNvbnN0IG92ZXJhbGxUb3RhbHMgPSBzaG9wU2FsZXNEYXRhLnJlZHVjZShcbiAgICAgICAgICAgICh0b3RhbHMsIHNob3ApID0+ICh7XG4gICAgICAgICAgICAgICAgdG90YWxTYWxlczogdG90YWxzLnRvdGFsU2FsZXMgKyBzaG9wLnRvdGFsU2FsZXMsXG4gICAgICAgICAgICAgICAgdG90YWxJbnZvaWNlczogdG90YWxzLnRvdGFsSW52b2ljZXMgKyBzaG9wLm51bWJlck9mSW52b2ljZXMsXG4gICAgICAgICAgICAgICAgdG90YWxRdWFudGl0eTogdG90YWxzLnRvdGFsUXVhbnRpdHkgKyBzaG9wLnRvdGFsUXVhbnRpdHlTb2xkXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHsgdG90YWxTYWxlczogMCwgdG90YWxJbnZvaWNlczogMCwgdG90YWxRdWFudGl0eTogMCB9XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICByZXBvcnREYXRlOiB0YXJnZXREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcbiAgICAgICAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgICAgICAgICBkYXRlOiB0YXJnZXREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IFxuICAgICAgICAgICAgICAgICAgICB3ZWVrZGF5OiAnbG9uZycsIFxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsIFxuICAgICAgICAgICAgICAgICAgICBtb250aDogJ2xvbmcnLCBcbiAgICAgICAgICAgICAgICAgICAgZGF5OiAnbnVtZXJpYycgXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdG90YWxTYWxlczogb3ZlcmFsbFRvdGFscy50b3RhbFNhbGVzLFxuICAgICAgICAgICAgICAgIHRvdGFsSW52b2ljZXM6IG92ZXJhbGxUb3RhbHMudG90YWxJbnZvaWNlcyxcbiAgICAgICAgICAgICAgICB0b3RhbFF1YW50aXR5U29sZDogb3ZlcmFsbFRvdGFscy50b3RhbFF1YW50aXR5LFxuICAgICAgICAgICAgICAgIG51bWJlck9mU2hvcHM6IHNob3BzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBhdmVyYWdlUGVyU2hvcDogc2hvcHMubGVuZ3RoID4gMCA/IG92ZXJhbGxUb3RhbHMudG90YWxTYWxlcyAvIHNob3BzLmxlbmd0aCA6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaG9wRGF0YTogc2hvcFNhbGVzRGF0YSxcbiAgICAgICAgICAgIGdlbmVyYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkYWlseSBzYWxlcyByZXBvcnQ6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiAnRmFpbGVkIHRvIGZldGNoIGRhaWx5IHNhbGVzIHJlcG9ydCcgfSxcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgICApO1xuICAgIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQU1RO0lBQUFBLGFBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGFBQUE7QUFBQUEsYUFB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