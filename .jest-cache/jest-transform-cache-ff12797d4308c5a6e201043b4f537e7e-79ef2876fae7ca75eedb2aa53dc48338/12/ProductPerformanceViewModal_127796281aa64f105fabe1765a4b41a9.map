{"version":3,"names":["ProductPerformanceViewModal","isOpen","onClose","reportName","reportData","cov_b72gpywkl","f","s","b","formatCurrency","amount","toLocaleString","undefined","style","currency","_jsxruntime","jsx","className","jsxs","_Button","Button","variant","size","onClick","_lucidereact","X","message","summary","month","year","overallTotalRevenue","overallTotalProductsSold","numberOfCategoriesWithSales","details","map","category","catIndex","_react","default","Fragment","products","product","prodIndex","rowSpan","length","categoryName","productName","sku","totalQuantitySold","totalSalesAmount","productId","colSpan","totalCategoryQuantity","totalCategorySales","categoryId"],"sources":["/Users/sachin/Documents/md-sports-/src/components/reports/ProductPerformanceViewModal.tsx"],"sourcesContent":["import { Button } from '@/components/ui/Button';\nimport React from 'react';\nimport { X } from 'lucide-react';\n\ninterface ProductPerformanceDetail {\n    productId: number;\n    productName: string;\n    sku: string | null;\n    totalQuantitySold: number;\n    totalSalesAmount: number;\n}\n\ninterface CategoryPerformanceDetail {\n    categoryName: string;\n    products: ProductPerformanceDetail[];\n    totalCategorySales: number;\n    totalCategoryQuantity: number;\n}\n\ninterface ProductPerformanceSummary {\n    month: string;\n    year: number;\n    overallTotalRevenue: number;\n    overallTotalProductsSold: number;\n    numberOfCategoriesWithSales: number;\n}\n\ninterface ProductPerformanceReportData {\n    details: CategoryPerformanceDetail[]; // Array of categories\n    summary: ProductPerformanceSummary;\n    generatedAt: string;\n    message?: string;\n}\n\ninterface ProductPerformanceViewModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    reportName?: string;\n    reportData: ProductPerformanceReportData | null;\n}\n\nexport default function ProductPerformanceViewModal({\n    isOpen,\n    onClose,\n    reportName,\n    reportData,\n}: ProductPerformanceViewModalProps) {\n    if (!isOpen || !reportData) return null;\n\n    const formatCurrency = (amount: number) => {\n        return amount.toLocaleString(undefined, { style: 'currency', currency: 'LKR' });\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-6xl max-h-[90vh] flex flex-col\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h2 className=\"text-xl font-semibold text-gray-800\">{reportName || 'Product Performance Analysis'}</h2>\n                    <Button variant=\"ghost\" size=\"sm\" onClick={onClose} className=\"p-1\">\n                        <X className=\"w-5 h-5\" />\n                    </Button>\n                </div>\n\n                {reportData.message && (\n                    <div className=\"mb-4 p-3 bg-blue-50 text-blue-700 border border-blue-200 rounded-md\">\n                        {reportData.message}\n                    </div>\n                )}\n\n                {reportData.summary && !reportData.message && (\n                    <div className=\"text-sm text-gray-600 mb-3 pb-3 border-b\">\n                        <h3 className=\"text-lg font-semibold text-gray-700 mb-1\">Summary for {reportData.summary.month} {reportData.summary.year}</h3>\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2\">\n                            <p>Total Revenue: <span className=\"font-semibold\">{formatCurrency(reportData.summary.overallTotalRevenue)}</span></p>\n                            <p>Total Items Sold: <span className=\"font-semibold\">{reportData.summary.overallTotalProductsSold.toLocaleString()}</span></p>\n                            <p>Categories w/ Sales: <span className=\"font-semibold\">{reportData.summary.numberOfCategoriesWithSales.toLocaleString()}</span></p>\n                        </div>\n                    </div>\n                )}\n\n                <div className=\"overflow-y-auto flex-grow report-table-container pr-1\">\n                    <table className=\"w-full text-sm text-left text-gray-500\">\n                        <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0 z-10\">\n                            <tr>\n                                <th className=\"px-3 py-2\">Category</th>\n                                <th className=\"px-3 py-2\">Product Name</th>\n                                <th className=\"px-3 py-2\">SKU</th>\n                                <th className=\"px-3 py-2 text-right\">Qty Sold</th>\n                                <th className=\"px-3 py-2 text-right\">Sales Amount (LKR)</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {reportData.details?.map((category: CategoryPerformanceDetail, catIndex: number) => (\n                                <React.Fragment key={category.categoryId || catIndex}>\n                                    {category.products.map((product: ProductPerformanceDetail, prodIndex: number) => (\n                                        <tr key={product.productId || prodIndex} className=\"border-b hover:bg-gray-50\">\n                                            {prodIndex === 0 && (\n                                                <td rowSpan={category.products.length + 1} className=\"px-3 py-2 align-top font-medium border-r\">\n                                                    {category.categoryName}\n                                                </td>\n                                            )}\n                                            <td className=\"px-3 py-2\">{product.productName}</td>\n                                            <td className=\"px-3 py-2\">{product.sku}</td>\n                                            <td className=\"px-3 py-2 text-right\">{product.totalQuantitySold.toLocaleString()}</td>\n                                            <td className=\"px-3 py-2 text-right\">{formatCurrency(product.totalSalesAmount)}</td>\n                                        </tr>\n                                    ))}\n                                    <tr className=\"bg-gray-50 font-semibold border-b\">\n                                        <td colSpan={3} className=\"px-3 py-2 text-right\">Category Total:</td>\n                                        <td className=\"px-3 py-2 text-right\">{category.totalCategoryQuantity.toLocaleString()}</td>\n                                        <td className=\"px-3 py-2 text-right\">{formatCurrency(category.totalCategorySales)}</td>\n                                    </tr>\n                                </React.Fragment>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n                <div className=\"mt-6 text-right\">\n                    <Button variant=\"outline\" onClick={onClose}>Close</Button>\n                </div>\n            </div>\n        </div>\n    );\n}"],"mappings":"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","ignoreList":[]}