{"version":3,"names":["DashboardPage","cov_2cougd7xuv","f","user","isLoading","isAuthenticated","s","_useAuth","useAuth","router","_navigation","useRouter","dashboardData","setDashboardData","_react","useState","dataLoading","setDataLoading","error","setError","startDate","setStartDate","date","Date","setDate","getDate","toISOString","split","endDate","setEndDate","refreshTrigger","setRefreshTrigger","useEffect","b","push","fetchDashboardData","customStartDate","customEndDate","accessToken","localStorage","getItem","fetchHeaders","queryStartDate","queryEndDate","response","fetch","headers","cache","ok","Error","status","result","json","success","message","summaryData","recentTransfers","prev","console","handleDateRangeChange","newStartDate","newEndDate","_jsxruntime","jsx","className","jsxs","_lucidereact","Loader2","onClick","hasPermission","permission","permissions","some","p","toLowerCase","includes","getAccessibleModules","modules","accessibleModules","name","length","join","CheckCircle","TrendingUp","toLocaleDateString","Calendar","type","value","onChange","e","target","Suspense","fallback","_DashboardMetrics","default","_ShopWiseMetrics","_DashboardTransfers"],"sources":["/Users/sachin/Documents/md-sports-/src/app/(protected)/dashboard/page.tsx"],"sourcesContent":["'use client';\n\nimport { Suspense, useEffect, useState } from 'react';\nimport { Loader2, Calendar, TrendingUp, AlertCircle, CheckCircle } from 'lucide-react';\nimport { useAuth } from '@/hooks/useAuth';\nimport { useRouter } from 'next/navigation';\nimport DashboardMetrics from './components/DashboardMetrics';\nimport DashboardTransfers from './components/DashboardTransfers';\nimport ShopWiseMetrics from './components/ShopWiseMetrics';\n\n// Simple dashboard without dual modes or complex optimizations\nexport default function DashboardPage() {\n    const { user, isLoading, isAuthenticated } = useAuth();\n    const router = useRouter();\n    const [dashboardData, setDashboardData] = useState(null);\n    const [dataLoading, setDataLoading] = useState(true);\n    const [error, setError] = useState<string | null>(null);\n    const [startDate, setStartDate] = useState<string>(() => {\n        const date = new Date();\n        date.setDate(date.getDate() - 7); // Default to 7 days ago\n        return date.toISOString().split('T')[0];\n    });\n    const [endDate, setEndDate] = useState<string>(() => {\n        return new Date().toISOString().split('T')[0]; // Default to today\n    });\n    const [refreshTrigger, setRefreshTrigger] = useState(0);\n\n    // Redirect if not authenticated\n    useEffect(() => {\n        if (!isLoading && !isAuthenticated) {\n            router.push('/login');\n        }\n    }, [isLoading, isAuthenticated, router]);\n\n    // Fetch dashboard data with real-time updates\n    const fetchDashboardData = async (customStartDate?: string, customEndDate?: string) => {\n        if (!isAuthenticated || isLoading) return;\n\n        try {\n            setDataLoading(true);\n            setError(null);\n\n            const accessToken = localStorage.getItem('accessToken') || localStorage.getItem('authToken');\n            \n            const fetchHeaders: HeadersInit = {\n                'Content-Type': 'application/json',\n            };\n\n            if (accessToken) {\n                fetchHeaders['Authorization'] = `Bearer ${accessToken}`;\n            }\n\n            // Use custom dates or current state dates\n            const queryStartDate = customStartDate || startDate;\n            const queryEndDate = customEndDate || endDate;\n\n            // Fetch fresh data every time - no caching, with custom date range filter\n            const response = await fetch(`/api/dashboard/all?startDate=${queryStartDate}&endDate=${queryEndDate}`, {\n                headers: fetchHeaders,\n                cache: 'no-store'\n            });\n\n            if (!response.ok) {\n                throw new Error(`Failed to load dashboard data: ${response.status}`);\n            }\n\n            const result = await response.json();\n\n            if (!result.success) {\n                throw new Error(result.message || 'Failed to load dashboard data');\n            }\n\n            setDashboardData({\n                summaryData: result.summaryData,\n                recentTransfers: result.recentTransfers,\n            });\n            \n            // Trigger refresh for shop-wise metrics\n            setRefreshTrigger(prev => prev + 1);\n        } catch (error) {\n            console.error('Error fetching dashboard data:', error);\n            setError(error instanceof Error ? error.message : 'Failed to load dashboard data');\n        } finally {\n            setDataLoading(false);\n        }\n    };\n\n    // Handle date range change\n    const handleDateRangeChange = (newStartDate: string, newEndDate: string) => {\n        setStartDate(newStartDate);\n        setEndDate(newEndDate);\n        fetchDashboardData(newStartDate, newEndDate);\n    };\n\n\n\n    // Initial data fetch\n    useEffect(() => {\n        fetchDashboardData();\n    }, [isAuthenticated, isLoading]);\n\n    // Auto-refresh removed - using manual refresh button instead\n    // useEffect(() => {\n    //     if (!isAuthenticated || isLoading) return;\n\n    //     const interval = setInterval(() => {\n    //         fetchDashboardData();\n    //     }, 30000); // 30 seconds\n\n    //     return () => clearInterval(interval);\n    // }, [isAuthenticated, isLoading, startDate, endDate]);\n\n    // Show loading while auth is being checked\n    if (isLoading) {\n        return (\n            <div className=\"h-full flex items-center justify-center p-20\">\n                <div className=\"text-center\">\n                    <Loader2 className=\"h-10 w-10 animate-spin text-primary mx-auto mb-4\" />\n                    <p className=\"text-gray-500\">Checking authentication...</p>\n                </div>\n            </div>\n        );\n    }\n\n    // Show loading while data is being fetched\n    if (dataLoading) {\n        return (\n            <div className=\"h-full flex items-center justify-center p-20\">\n                <div className=\"text-center\">\n                    <Loader2 className=\"h-10 w-10 animate-spin text-primary mx-auto mb-4\" />\n                    <p className=\"text-gray-500\">Loading dashboard...</p>\n                </div>\n            </div>\n        );\n    }\n\n    // Show error if data fetch failed\n    if (error) {\n        return (\n            <div className=\"h-full flex items-center justify-center p-20\">\n                <div className=\"text-center\">\n                    <div className=\"text-red-500 mb-4\">Error loading dashboard</div>\n                    <p className=\"text-gray-500\">{error}</p>\n                    <button\n                        onClick={() => fetchDashboardData()}\n                        className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n                    >\n                        Retry\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    // Helper function to check permissions\n    const hasPermission = (permission: string) => {\n        if (!user?.permissions) return false;\n        return user.permissions.some((p: string) => \n            p.toLowerCase().includes(permission.toLowerCase())\n        );\n    };\n\n    // Get user's accessible modules\n    const getAccessibleModules = () => {\n        const modules = [];\n        if (hasPermission('inventory')) modules.push('Inventory');\n        if (hasPermission('sales')) modules.push('Sales');\n        if (hasPermission('accounting')) modules.push('Accounting');\n        if (hasPermission('reports')) modules.push('Reports');\n        if (hasPermission('user')) modules.push('User Management');\n        return modules;\n    };\n\n    // Show dashboard if data is loaded\n    if (dashboardData) {\n        const accessibleModules = getAccessibleModules();\n        \n        return (\n            <div className=\"space-y-6\">\n                {/* Welcome Section */}\n                <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-100\">\n                    <div className=\"flex items-start justify-between\">\n                        <div>\n                            <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">\n                                Welcome back, {user?.name || 'User'}!\n                            </h1>\n                            <p className=\"text-gray-600 mb-3\">\n                                You have access to {accessibleModules.length} module{accessibleModules.length !== 1 ? 's' : ''}: {accessibleModules.join(', ')}\n                            </p>\n                            <div className=\"flex items-center space-x-4 text-sm\">\n                                <div className=\"flex items-center text-green-600\">\n                                    <CheckCircle className=\"h-4 w-4 mr-1\" />\n                                    <span>System Online</span>\n                                </div>\n                                <div className=\"flex items-center text-blue-600\">\n                                    <TrendingUp className=\"h-4 w-4 mr-1\" />\n                                    <span>Data Updated</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"text-right\">\n                            <p className=\"text-sm text-gray-500\">Last login</p>\n                            <p className=\"text-sm font-medium text-gray-900\">{new Date().toLocaleDateString()}</p>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Header with date range filters and refresh button */}\n                <div className=\"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4\">\n                    <h2 className=\"text-xl font-semibold text-gray-900\">Analytics Overview</h2>\n                    <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-4\">\n                        {/* Custom Date Range */}\n                        <div className=\"flex items-center gap-2\">\n                            <Calendar className=\"h-4 w-4 text-gray-500\" />\n                            <span className=\"text-sm text-gray-600\">From:</span>\n                            <input\n                                type=\"date\"\n                                value={startDate}\n                                onChange={(e) => handleDateRangeChange(e.target.value, endDate)}\n                                className=\"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                            />\n                            <span className=\"text-sm text-gray-600\">To:</span>\n                            <input\n                                type=\"date\"\n                                value={endDate}\n                                onChange={(e) => handleDateRangeChange(startDate, e.target.value)}\n                                className=\"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                            />\n                        </div>\n                        \n                        {/* Refresh Button */}\n                        <button\n                            onClick={() => fetchDashboardData()}\n                            className=\"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n                        >\n                            <Loader2 className=\"h-4 w-4\" />\n                            Refresh\n                        </button>\n                    </div>\n                </div>\n\n                {/* Dashboard Content */}\n                <Suspense fallback={\n                    <div className=\"h-full flex items-center justify-center p-20\">\n                        <div className=\"text-center\">\n                            <Loader2 className=\"h-10 w-10 animate-spin text-primary mx-auto mb-4\" />\n                            <p className=\"text-gray-500\">Loading dashboard...</p>\n                        </div>\n                    </div>\n                }>\n                    <DashboardMetrics summaryData={dashboardData.summaryData} />\n                    <ShopWiseMetrics \n                        startDate={startDate} \n                        endDate={endDate} \n                        refreshTrigger={refreshTrigger} \n                    />\n                    <DashboardTransfers recentTransfers={dashboardData.recentTransfers} />\n                    \n\n                </Suspense>\n            </div>\n        );\n    }\n\n    return null;\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA;AACA;;;;;;WAAwBA,aAAA;;;;;;;;kCATsB;;;kCAC0B;;;kC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","ignoreList":[]}