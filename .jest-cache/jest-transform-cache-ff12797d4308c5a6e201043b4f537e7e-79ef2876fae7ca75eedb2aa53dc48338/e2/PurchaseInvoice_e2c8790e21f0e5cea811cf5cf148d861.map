{"version":3,"names":["_default","PurchaseInvoice","_sequelize","Model","cov_1anttnnf9d","s","init","id","type","DataTypes","STRING","primaryKey","defaultValue","f","Math","floor","random","toString","padStart","invoiceNumber","allowNull","unique","supplierId","references","model","key","date","DATEONLY","dueDate","subtotal","FLOAT","tax","discount","total","notes","TEXT","status","ENUM","paymentMethod","createdAt","DATE","NOW","updatedAt","sequelize","_db","default","modelName","tableName","timestamps","underscored","belongsTo","_Supplier","foreignKey","as","hasMany"],"sources":["/Users/sachin/Documents/md-sports-/src/lib/models/PurchaseInvoice.ts"],"sourcesContent":["import { DataTypes, Model, Optional } from 'sequelize';\nimport sequelize from '../db';\nimport Supplier from './Supplier';\n\ninterface PurchaseInvoiceAttributes {\n    id: string;\n    invoiceNumber: string;\n    supplierId: string;\n    date: Date;\n    dueDate: Date;\n    subtotal: number;\n    tax: number;\n    discount: number;\n    total: number;\n    notes?: string;\n    status: 'paid' | 'partial' | 'unpaid';\n    paymentMethod?: string;\n    createdAt: Date;\n    updatedAt: Date;\n}\n\ninterface PurchaseInvoiceCreationAttributes extends Optional<PurchaseInvoiceAttributes, 'id' | 'createdAt' | 'updatedAt'> { }\n\nclass PurchaseInvoice extends Model<PurchaseInvoiceAttributes, PurchaseInvoiceCreationAttributes> implements PurchaseInvoiceAttributes {\n    public id!: string;\n    public invoiceNumber!: string;\n    public supplierId!: string;\n    public date!: Date;\n    public dueDate!: Date;\n    public subtotal!: number;\n    public tax!: number;\n    public discount!: number;\n    public total!: number;\n    public notes!: string;\n    public status!: 'paid' | 'partial' | 'unpaid';\n    public paymentMethod!: string;\n    public createdAt!: Date;\n    public updatedAt!: Date;\n}\n\nPurchaseInvoice.init({\n    id: {\n        type: DataTypes.STRING,\n        primaryKey: true,\n        defaultValue: () => `PI${Math.floor(Math.random() * 10000).toString().padStart(4, '0')}`\n    },\n    invoiceNumber: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        unique: true\n    },\n    supplierId: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        references: {\n            model: 'suppliers',\n            key: 'id'\n        }\n    },\n    date: {\n        type: DataTypes.DATEONLY,\n        allowNull: false\n    },\n    dueDate: {\n        type: DataTypes.DATEONLY,\n        allowNull: false\n    },\n    subtotal: {\n        type: DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    tax: {\n        type: DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    discount: {\n        type: DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    total: {\n        type: DataTypes.FLOAT,\n        allowNull: false,\n        defaultValue: 0\n    },\n    notes: {\n        type: DataTypes.TEXT,\n        allowNull: true\n    },\n    status: {\n        type: DataTypes.ENUM('paid', 'partial', 'unpaid'),\n        allowNull: false,\n        defaultValue: 'unpaid'\n    },\n    paymentMethod: {\n        type: DataTypes.STRING,\n        allowNull: true\n    },\n    createdAt: {\n        type: DataTypes.DATE,\n        allowNull: false,\n        defaultValue: DataTypes.NOW\n    },\n    updatedAt: {\n        type: DataTypes.DATE,\n        allowNull: false,\n        defaultValue: DataTypes.NOW\n    }\n}, {\n    sequelize,\n    modelName: 'PurchaseInvoice',\n    tableName: 'purchase_invoices',\n    timestamps: true,\n    underscored: true\n});\n\n// Define association with Supplier\nPurchaseInvoice.belongsTo(Supplier, { foreignKey: 'supplier_id', as: 'supplier' });\nSupplier.hasMany(PurchaseInvoice, { foreignKey: 'supplier_id', as: 'purchaseInvoices' });\n\nexport default PurchaseInvoice; "],"mappings":"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","ignoreList":[]}