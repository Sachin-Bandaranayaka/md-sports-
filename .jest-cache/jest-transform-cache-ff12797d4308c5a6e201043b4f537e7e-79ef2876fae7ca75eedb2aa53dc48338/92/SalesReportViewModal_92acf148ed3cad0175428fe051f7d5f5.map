{"version":3,"names":["cov_2lqr08m4v4","actualCoverage","s","SalesReportViewModal","isOpen","onClose","reportName","reportData","f","b","formatDate","dateString","Date","toLocaleDateString","undefined","year","month","day","formatCurrency","amount","toLocaleString","style","currency","_jsxruntime","jsx","className","jsxs","_Button","Button","variant","size","onClick","_lucidereact","X","summary","totalSales","numberOfInvoices","details","map","invoice","invoiceNumber","createdAt","customer","name","shop","total","id","length","colSpan"],"sources":["/Users/sachin/Documents/md-sports-/src/components/reports/SalesReportViewModal.tsx"],"sourcesContent":["import { Button } from '@/components/ui/Button';\nimport { X } from 'lucide-react';\n\ninterface InvoiceItemDetail {\n    id: number;\n    product: { name: string; };\n    quantity: number;\n    price: number;\n    total: number;\n}\n\ninterface InvoiceDetail {\n    id: number;\n    invoiceNumber: string;\n    createdAt: string;\n    customer: { name: string; };\n    shop: { name: string | null; } | null;\n    total: number;\n    items: InvoiceItemDetail[];\n}\n\ninterface SalesReportData {\n    summary: {\n        month: string;\n        year: number;\n        totalSales: number;\n        numberOfInvoices: number;\n    };\n    details: InvoiceDetail[];\n}\n\ninterface SalesReportViewModalProps {\n    isOpen: boolean;\n    onClose: () => void;\n    reportName?: string;\n    reportData: SalesReportData | null;\n}\n\nexport default function SalesReportViewModal({ isOpen, onClose, reportName, reportData }: SalesReportViewModalProps) {\n    if (!isOpen || !reportData) return null;\n\n    const formatDate = (dateString: string) => {\n        return new Date(dateString).toLocaleDateString(undefined, { year: 'numeric', month: 'long', day: 'numeric' });\n    };\n\n    const formatCurrency = (amount: number) => {\n        return amount.toLocaleString(undefined, { style: 'currency', currency: 'LKR' });\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-4xl max-h-[90vh] flex flex-col\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h2 className=\"text-xl font-semibold text-gray-800\">{reportName || 'Sales Report Details'}</h2>\n                    <Button variant=\"ghost\" size=\"sm\" onClick={onClose} className=\"p-1\">\n                        <X className=\"w-5 h-5\" />\n                    </Button>\n                </div>\n                <div className=\"text-sm text-gray-600 mb-2\">\n                    <h3 className=\"text-lg font-semibold text-gray-700 mb-1\">Summary for {reportData.summary.month} {reportData.summary.year}</h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\n                        <p>Total Sales: <span className=\"font-semibold\">{formatCurrency(reportData.summary.totalSales)}</span></p>\n                        <p>Number of Invoices: <span className=\"font-semibold\">{reportData.summary.numberOfInvoices.toLocaleString()}</span></p>\n                    </div>\n                </div>\n                <div className=\"overflow-y-auto flex-grow report-table-container pr-1\">\n                    <table className=\"w-full text-sm text-left text-gray-500\">\n                        <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 sticky top-0 z-10\">\n                            <tr>\n                                <th className=\"px-3 py-2\">Invoice #</th>\n                                <th className=\"px-3 py-2\">Date</th>\n                                <th className=\"px-3 py-2\">Customer</th>\n                                <th className=\"px-3 py-2\">Shop</th>\n                                <th className=\"px-3 py-2 text-right\">Total Amount (LKR)</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {reportData.details.map((invoice) => (\n                                <tr key={invoice.id} className=\"border-b hover:bg-gray-50\">\n                                    <td className=\"px-3 py-2\">{invoice.invoiceNumber}</td>\n                                    <td className=\"px-3 py-2\">{formatDate(invoice.createdAt)}</td>\n                                    <td className=\"px-3 py-2\">{invoice.customer.name}</td>\n                                    <td className=\"px-3 py-2\">{invoice.shop?.name || 'N/A'}</td>\n                                    <td className=\"px-3 py-2 text-right\">{formatCurrency(invoice.total)}</td>\n                                </tr>\n                            ))}\n                            {reportData.details.length === 0 && (\n                                <tr>\n                                    <td colSpan={5} className=\"text-center py-4 text-gray-500\">No invoices found for this period.</td>\n                                </tr>\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n                <div className=\"mt-6 text-right\">\n                    <Button variant=\"outline\" onClick={onClose}>Close</Button>\n                </div>\n            </div>\n        </div>\n    );\n} "],"mappings":"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","ignoreList":[]}