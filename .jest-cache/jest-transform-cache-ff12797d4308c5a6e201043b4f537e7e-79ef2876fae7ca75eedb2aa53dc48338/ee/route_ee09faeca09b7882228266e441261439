291240ba10b7faac2053866963cd3001
"use strict";

/* istanbul ignore next */
function cov_11b6nqn25m() {
  var path = "/Users/sachin/Documents/md-sports-/src/app/api/products/route.ts";
  var hash = "2c9c9bb16a8bfbc99e26bb5a04accc65b633d386";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/sachin/Documents/md-sports-/src/app/api/products/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 19
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 20
        }
      },
      "6": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 38
        }
      },
      "7": {
        start: {
          line: 20,
          column: 15
        },
        end: {
          line: 20,
          column: 36
        }
      },
      "8": {
        start: {
          line: 21,
          column: 16
        },
        end: {
          line: 21,
          column: 45
        }
      },
      "9": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 46
        }
      },
      "10": {
        start: {
          line: 23,
          column: 24
        },
        end: {
          line: 23,
          column: 68
        }
      },
      "11": {
        start: {
          line: 24,
          column: 14
        },
        end: {
          line: 24,
          column: 42
        }
      },
      "12": {
        start: {
          line: 26,
          column: 28
        },
        end: {
          line: 72,
          column: 1
        }
      },
      "13": {
        start: {
          line: 73,
          column: 12
        },
        end: {
          line: 206,
          column: 2
        }
      },
      "14": {
        start: {
          line: 74,
          column: 4
        },
        end: {
          line: 205,
          column: 5
        }
      },
      "15": {
        start: {
          line: 75,
          column: 33
        },
        end: {
          line: 75,
          column: 53
        }
      },
      "16": {
        start: {
          line: 76,
          column: 27
        },
        end: {
          line: 76,
          column: 57
        }
      },
      "17": {
        start: {
          line: 77,
          column: 23
        },
        end: {
          line: 77,
          column: 49
        }
      },
      "18": {
        start: {
          line: 78,
          column: 32
        },
        end: {
          line: 78,
          column: 78
        }
      },
      "19": {
        start: {
          line: 79,
          column: 21
        },
        end: {
          line: 79,
          column: 62
        }
      },
      "20": {
        start: {
          line: 80,
          column: 22
        },
        end: {
          line: 80,
          column: 65
        }
      },
      "21": {
        start: {
          line: 81,
          column: 8
        },
        end: {
          line: 86,
          column: 11
        }
      },
      "22": {
        start: {
          line: 87,
          column: 21
        },
        end: {
          line: 87,
          column: 39
        }
      },
      "23": {
        start: {
          line: 89,
          column: 22
        },
        end: {
          line: 89,
          column: 24
        }
      },
      "24": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 92,
          column: 9
        }
      },
      "25": {
        start: {
          line: 91,
          column: 12
        },
        end: {
          line: 91,
          column: 52
        }
      },
      "26": {
        start: {
          line: 93,
          column: 8
        },
        end: {
          line: 114,
          column: 9
        }
      },
      "27": {
        start: {
          line: 94,
          column: 12
        },
        end: {
          line: 113,
          column: 14
        }
      },
      "28": {
        start: {
          line: 117,
          column: 8
        },
        end: {
          line: 185,
          column: 9
        }
      },
      "29": {
        start: {
          line: 118,
          column: 12
        },
        end: {
          line: 118,
          column: 75
        }
      },
      "30": {
        start: {
          line: 119,
          column: 12
        },
        end: {
          line: 155,
          column: 15
        }
      },
      "31": {
        start: {
          line: 157,
          column: 12
        },
        end: {
          line: 157,
          column: 75
        }
      },
      "32": {
        start: {
          line: 158,
          column: 12
        },
        end: {
          line: 184,
          column: 15
        }
      },
      "33": {
        start: {
          line: 186,
          column: 8
        },
        end: {
          line: 186,
          column: 57
        }
      },
      "34": {
        start: {
          line: 187,
          column: 8
        },
        end: {
          line: 195,
          column: 11
        }
      },
      "35": {
        start: {
          line: 197,
          column: 8
        },
        end: {
          line: 197,
          column: 57
        }
      },
      "36": {
        start: {
          line: 198,
          column: 8
        },
        end: {
          line: 204,
          column: 11
        }
      },
      "37": {
        start: {
          line: 208,
          column: 4
        },
        end: {
          line: 267,
          column: 5
        }
      },
      "38": {
        start: {
          line: 210,
          column: 27
        },
        end: {
          line: 210,
          column: 96
        }
      },
      "39": {
        start: {
          line: 211,
          column: 8
        },
        end: {
          line: 217,
          column: 9
        }
      },
      "40": {
        start: {
          line: 212,
          column: 12
        },
        end: {
          line: 216,
          column: 15
        }
      },
      "41": {
        start: {
          line: 218,
          column: 28
        },
        end: {
          line: 218,
          column: 48
        }
      },
      "42": {
        start: {
          line: 219,
          column: 8
        },
        end: {
          line: 219,
          column: 58
        }
      },
      "43": {
        start: {
          line: 220,
          column: 8
        },
        end: {
          line: 220,
          column: 81
        }
      },
      "44": {
        start: {
          line: 221,
          column: 8
        },
        end: {
          line: 221,
          column: 75
        }
      },
      "45": {
        start: {
          line: 222,
          column: 39
        },
        end: {
          line: 222,
          column: 65
        }
      },
      "46": {
        start: {
          line: 223,
          column: 8
        },
        end: {
          line: 223,
          column: 82
        }
      },
      "47": {
        start: {
          line: 224,
          column: 24
        },
        end: {
          line: 237,
          column: 44
        }
      },
      "48": {
        start: {
          line: 225,
          column: 12
        },
        end: {
          line: 236,
          column: 15
        }
      },
      "49": {
        start: {
          line: 238,
          column: 8
        },
        end: {
          line: 240,
          column: 9
        }
      },
      "50": {
        start: {
          line: 239,
          column: 12
        },
        end: {
          line: 239,
          column: 55
        }
      },
      "51": {
        start: {
          line: 241,
          column: 8
        },
        end: {
          line: 241,
          column: 91
        }
      },
      "52": {
        start: {
          line: 243,
          column: 8
        },
        end: {
          line: 243,
          column: 57
        }
      },
      "53": {
        start: {
          line: 245,
          column: 8
        },
        end: {
          line: 245,
          column: 46
        }
      },
      "54": {
        start: {
          line: 246,
          column: 8
        },
        end: {
          line: 246,
          column: 47
        }
      },
      "55": {
        start: {
          line: 247,
          column: 8
        },
        end: {
          line: 247,
          column: 49
        }
      },
      "56": {
        start: {
          line: 248,
          column: 8
        },
        end: {
          line: 248,
          column: 48
        }
      },
      "57": {
        start: {
          line: 251,
          column: 8
        },
        end: {
          line: 257,
          column: 11
        }
      },
      "58": {
        start: {
          line: 259,
          column: 8
        },
        end: {
          line: 259,
          column: 56
        }
      },
      "59": {
        start: {
          line: 260,
          column: 8
        },
        end: {
          line: 266,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 9
          },
          end: {
            line: 12,
            column: 10
          }
        },
        loc: {
          start: {
            line: 12,
            column: 20
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 10
          },
          end: {
            line: 15,
            column: 11
          }
        },
        loc: {
          start: {
            line: 15,
            column: 21
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 73,
            column: 61
          },
          end: {
            line: 73,
            column: 62
          }
        },
        loc: {
          start: {
            line: 73,
            column: 87
          },
          end: {
            line: 206,
            column: 1
          }
        },
        line: 73
      },
      "4": {
        name: "POST",
        decl: {
          start: {
            line: 207,
            column: 15
          },
          end: {
            line: 207,
            column: 19
          }
        },
        loc: {
          start: {
            line: 207,
            column: 29
          },
          end: {
            line: 268,
            column: 1
          }
        },
        line: 207
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 224,
            column: 53
          },
          end: {
            line: 224,
            column: 54
          }
        },
        loc: {
          start: {
            line: 224,
            column: 63
          },
          end: {
            line: 237,
            column: 9
          }
        },
        line: 224
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 79,
            column: 30
          },
          end: {
            line: 79,
            column: 61
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 79,
            column: 30
          },
          end: {
            line: 79,
            column: 54
          }
        }, {
          start: {
            line: 79,
            column: 58
          },
          end: {
            line: 79,
            column: 61
          }
        }],
        line: 79
      },
      "1": {
        loc: {
          start: {
            line: 80,
            column: 31
          },
          end: {
            line: 80,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 80,
            column: 31
          },
          end: {
            line: 80,
            column: 56
          }
        }, {
          start: {
            line: 80,
            column: 60
          },
          end: {
            line: 80,
            column: 64
          }
        }],
        line: 80
      },
      "2": {
        loc: {
          start: {
            line: 90,
            column: 8
          },
          end: {
            line: 92,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 90,
            column: 8
          },
          end: {
            line: 92,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 90
      },
      "3": {
        loc: {
          start: {
            line: 93,
            column: 8
          },
          end: {
            line: 114,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 93,
            column: 8
          },
          end: {
            line: 114,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 93
      },
      "4": {
        loc: {
          start: {
            line: 117,
            column: 8
          },
          end: {
            line: 185,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 117,
            column: 8
          },
          end: {
            line: 185,
            column: 9
          }
        }, {
          start: {
            line: 156,
            column: 15
          },
          end: {
            line: 185,
            column: 9
          }
        }],
        line: 117
      },
      "5": {
        loc: {
          start: {
            line: 117,
            column: 12
          },
          end: {
            line: 117,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 117,
            column: 12
          },
          end: {
            line: 117,
            column: 30
          }
        }, {
          start: {
            line: 117,
            column: 34
          },
          end: {
            line: 117,
            column: 48
          }
        }],
        line: 117
      },
      "6": {
        loc: {
          start: {
            line: 201,
            column: 19
          },
          end: {
            line: 201,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 201,
            column: 44
          },
          end: {
            line: 201,
            column: 57
          }
        }, {
          start: {
            line: 201,
            column: 60
          },
          end: {
            line: 201,
            column: 73
          }
        }],
        line: 201
      },
      "7": {
        loc: {
          start: {
            line: 211,
            column: 8
          },
          end: {
            line: 217,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 211,
            column: 8
          },
          end: {
            line: 217,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 211
      },
      "8": {
        loc: {
          start: {
            line: 222,
            column: 39
          },
          end: {
            line: 222,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 222,
            column: 39
          },
          end: {
            line: 222,
            column: 60
          }
        }, {
          start: {
            line: 222,
            column: 64
          },
          end: {
            line: 222,
            column: 65
          }
        }],
        line: 222
      },
      "9": {
        loc: {
          start: {
            line: 229,
            column: 29
          },
          end: {
            line: 229,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 229,
            column: 29
          },
          end: {
            line: 229,
            column: 48
          }
        }, {
          start: {
            line: 229,
            column: 52
          },
          end: {
            line: 229,
            column: 56
          }
        }],
        line: 229
      },
      "10": {
        loc: {
          start: {
            line: 230,
            column: 33
          },
          end: {
            line: 230,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 230,
            column: 33
          },
          end: {
            line: 230,
            column: 56
          }
        }, {
          start: {
            line: 230,
            column: 60
          },
          end: {
            line: 230,
            column: 64
          }
        }],
        line: 230
      },
      "11": {
        loc: {
          start: {
            line: 232,
            column: 27
          },
          end: {
            line: 232,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 232,
            column: 27
          },
          end: {
            line: 232,
            column: 50
          }
        }, {
          start: {
            line: 232,
            column: 54
          },
          end: {
            line: 232,
            column: 55
          }
        }],
        line: 232
      },
      "12": {
        loc: {
          start: {
            line: 233,
            column: 32
          },
          end: {
            line: 233,
            column: 96
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 233,
            column: 57
          },
          end: {
            line: 233,
            column: 89
          }
        }, {
          start: {
            line: 233,
            column: 92
          },
          end: {
            line: 233,
            column: 96
          }
        }],
        line: 233
      },
      "13": {
        loc: {
          start: {
            line: 234,
            column: 35
          },
          end: {
            line: 234,
            column: 103
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 234,
            column: 63
          },
          end: {
            line: 234,
            column: 98
          }
        }, {
          start: {
            line: 234,
            column: 101
          },
          end: {
            line: 234,
            column: 103
          }
        }],
        line: 234
      },
      "14": {
        loc: {
          start: {
            line: 238,
            column: 8
          },
          end: {
            line: 240,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 238,
            column: 8
          },
          end: {
            line: 240,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 238
      },
      "15": {
        loc: {
          start: {
            line: 263,
            column: 19
          },
          end: {
            line: 263,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 263,
            column: 44
          },
          end: {
            line: 263,
            column: 57
          }
        }, {
          start: {
            line: 263,
            column: 60
          },
          end: {
            line: 263,
            column: 73
          }
        }],
        line: 263
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/sachin/Documents/md-sports-/src/app/api/products/route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { revalidateTag, revalidatePath } from 'next/cache';\nimport { PrismaClient } from '@prisma/client';\nimport { getShopId } from '@/lib/utils/middleware';\nimport { cacheService } from '@/lib/cache';\n\nimport { safeQuery, prisma } from '@/lib/prisma';\nimport { ShopAccessControl } from '@/lib/utils/shopMiddleware';\nimport { validateTokenPermission } from '@/lib/auth';\n\n\n// Default fallback data for products\nconst defaultProductsData = [\n    { id: 1, name: 'Cricket Bat', sku: 'CB001', description: 'Professional cricket bat', price: 15000, weightedAverageCost: 12000, category_name: 'Cricket' },\n    { id: 2, name: 'Cricket Ball', sku: 'CB002', description: 'Match quality cricket ball', price: 2500, weightedAverageCost: 1800, category_name: 'Cricket' },\n    { id: 3, name: 'Football', sku: 'FB001', description: 'Size 5 football', price: 5000, weightedAverageCost: 3500, category_name: 'Football' },\n    { id: 4, name: 'Basketball', sku: 'BB001', description: 'Indoor basketball', price: 6000, weightedAverageCost: 4200, category_name: 'Basketball' },\n    { id: 5, name: 'Tennis Racket', sku: 'TR001', description: 'Professional tennis racket', price: 12000, weightedAverageCost: 8400, category_name: 'Tennis' }\n];\n\nexport const GET = ShopAccessControl.withShopAccess(async (request: NextRequest, context) => {\n    try {\n        const { searchParams } = new URL(request.url);\n        const categoryId = searchParams.get('categoryId');\n        const search = searchParams.get('search');\n        const includeInactive = searchParams.get('includeInactive') === 'true';\n        const page = parseInt(searchParams.get('page') || '1');\n        const limit = parseInt(searchParams.get('limit') || '50');\n\n        console.log('Products API - Shop context:', {\n            shopId: context.shopId,\n            isFiltered: context.isFiltered,\n            isAdmin: context.isAdmin,\n            userShopId: context.userShopId\n        });\n\n        const skip = (page - 1) * limit;\n\n        // Build where clause\n        const where: any = {};\n\n        if (categoryId) {\n            where.categoryId = parseInt(categoryId);\n        }\n\n        if (search) {\n            where.OR = [\n                {\n                    name: {\n                        contains: search,\n                        mode: 'insensitive'\n                    }\n                },\n                {\n                    sku: {\n                        contains: search,\n                        mode: 'insensitive'\n                    }\n                },\n                {\n                    barcode: {\n                        contains: search,\n                        mode: 'insensitive'\n                    }\n                }\n            ];\n        }\n\n        // Apply shop-based filtering for inventory\n        let products;\n        if (context.isFiltered && context.shopId) {\n            console.log(`Filtering products by shopId: ${context.shopId}`);\n            products = await prisma.product.findMany({\n                where: {\n                    ...where,\n                    inventoryItems: {\n                        some: {\n                            shopId: context.shopId\n                        }\n                    }\n                },\n                include: {\n                    category: {\n                        select: {\n                            id: true,\n                            name: true\n                        }\n                    },\n                    inventoryItems: {\n                        where: {\n                            shopId: context.shopId\n                        },\n                        include: {\n                            shop: {\n                                select: {\n                                    id: true,\n                                    name: true,\n                                    location: true\n                                }\n                            }\n                        }\n                    }\n                },\n                orderBy: {\n                    name: 'asc'\n                },\n                skip,\n                take: limit\n            });\n        } else {\n            console.log('Fetching all products (admin or no shop filter)');\n            products = await prisma.product.findMany({\n                where,\n                include: {\n                    category: {\n                        select: {\n                            id: true,\n                            name: true\n                        }\n                    },\n                    inventoryItems: {\n                        include: {\n                            shop: {\n                                select: {\n                                    id: true,\n                                    name: true,\n                                    location: true\n                                }\n                            }\n                        }\n                    }\n                },\n                orderBy: {\n                    name: 'asc'\n                },\n                skip,\n                take: limit\n            });\n        }\n\n        console.log(`Found ${products.length} products`);\n\n        return NextResponse.json({\n            success: true,\n            data: products,\n            meta: {\n                shopFiltered: context.isFiltered,\n                shopId: context.shopId,\n                totalItems: products.length\n            }\n        });\n    } catch (error) {\n        console.error('Error fetching products:', error);\n        return NextResponse.json({\n            success: false,\n            message: 'Error fetching products',\n            error: error instanceof Error ? error.message : String(error)\n        }, { status: 500 });\n    }\n});\n\nexport async function POST(request: NextRequest) {\n    try {\n        // Validate token and permissions\n        const authResult = await validateTokenPermission(request, 'inventory:manage');\n        if (!authResult.isValid) {\n            return NextResponse.json({ error: authResult.message }, { status: 401 });\n        }\n\n        const productData = await request.json();\n        console.log('Received productData:', productData);\n        console.log('productData.basePrice type:', typeof productData.basePrice);\n        console.log('productData.basePrice value:', productData.basePrice);\n\n        const newWeightedAverageCost = productData.basePrice || 0;\n        console.log('Calculated newWeightedAverageCost:', newWeightedAverageCost);\n\n        const product = await safeQuery(\n            async () => {\n                return await prisma.product.create({\n                    data: {\n                        name: productData.name,\n                        sku: productData.sku,\n                        barcode: productData.barcode || null,\n                        description: productData.description || null,\n                        weightedAverageCost: newWeightedAverageCost,\n                        price: productData.retailPrice || 0,\n                        categoryId: productData.categoryId ? parseInt(productData.categoryId) : null,\n                        minStockLevel: productData.minStockLevel ? parseInt(productData.minStockLevel) : 10,\n                    }\n                });\n            },\n            null,\n            'Failed to create product'\n        );\n\n        if (!product) {\n            throw new Error('Product creation failed');\n        }\n\n        console.log('Product created successfully with WAC:', product.weightedAverageCost);\n\n        // Invalidate inventory cache\n        await cacheService.invalidateInventory();\n\n        // Revalidate Next.js cached pages\n        revalidateTag('products');\n        revalidateTag('inventory');\n        revalidatePath('/inventory');\n        revalidatePath('/products');\n\n        // Emit WebSocket event for real-time updates using utility function\n        // Real-time updates now handled by polling system\n\n        return NextResponse.json({\n            success: true,\n            message: 'Product created successfully',\n            data: product\n        }, { status: 201 });\n    } catch (error) {\n        console.error('Error creating product:', error);\n        return NextResponse.json({\n            success: false,\n            message: 'Error creating product',\n            error: error instanceof Error ? error.message : String(error)\n        }, { status: 500 });\n    }\n}"],
      names: ["GET", "POST", "defaultProductsData", "id", "name", "sku", "description", "price", "weightedAverageCost", "category_name", "ShopAccessControl", "withShopAccess", "request", "context", "searchParams", "URL", "url", "categoryId", "get", "search", "includeInactive", "page", "parseInt", "limit", "console", "log", "shopId", "isFiltered", "isAdmin", "userShopId", "skip", "where", "OR", "contains", "mode", "barcode", "products", "prisma", "product", "findMany", "inventoryItems", "some", "include", "category", "select", "shop", "location", "orderBy", "take", "length", "NextResponse", "json", "success", "data", "meta", "shopFiltered", "totalItems", "error", "message", "Error", "String", "status", "authResult", "validateTokenPermission", "isValid", "productData", "basePrice", "newWeightedAverageCost", "safeQuery", "create", "retailPrice", "minStockLevel", "cacheService", "invalidateInventory", "revalidateTag", "revalidatePath"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "2c9c9bb16a8bfbc99e26bb5a04accc65b633d386"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_11b6nqn25m = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_11b6nqn25m();
cov_11b6nqn25m().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_11b6nqn25m().f[0]++;
  cov_11b6nqn25m().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_11b6nqn25m().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: all[name]
    });
  }
}
/* istanbul ignore next */
cov_11b6nqn25m().s[3]++;
_export(exports, {
  GET: function () {
    /* istanbul ignore next */
    cov_11b6nqn25m().f[1]++;
    cov_11b6nqn25m().s[4]++;
    return GET;
  },
  POST: function () {
    /* istanbul ignore next */
    cov_11b6nqn25m().f[2]++;
    cov_11b6nqn25m().s[5]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_11b6nqn25m().s[6]++, require("next/server"));
const _cache =
/* istanbul ignore next */
(cov_11b6nqn25m().s[7]++, require("next/cache"));
const _cache1 =
/* istanbul ignore next */
(cov_11b6nqn25m().s[8]++, require("../../../lib/cache"));
const _prisma =
/* istanbul ignore next */
(cov_11b6nqn25m().s[9]++, require("../../../lib/prisma"));
const _shopMiddleware =
/* istanbul ignore next */
(cov_11b6nqn25m().s[10]++, require("../../../lib/utils/shopMiddleware"));
const _auth =
/* istanbul ignore next */
(cov_11b6nqn25m().s[11]++, require("../../../lib/auth"));
// Default fallback data for products
const defaultProductsData =
/* istanbul ignore next */
(cov_11b6nqn25m().s[12]++, [{
  id: 1,
  name: "Cricket Bat",
  sku: "CB001",
  description: "Professional cricket bat",
  price: 15000,
  weightedAverageCost: 12000,
  category_name: "Cricket"
}, {
  id: 2,
  name: "Cricket Ball",
  sku: "CB002",
  description: "Match quality cricket ball",
  price: 2500,
  weightedAverageCost: 1800,
  category_name: "Cricket"
}, {
  id: 3,
  name: "Football",
  sku: "FB001",
  description: "Size 5 football",
  price: 5000,
  weightedAverageCost: 3500,
  category_name: "Football"
}, {
  id: 4,
  name: "Basketball",
  sku: "BB001",
  description: "Indoor basketball",
  price: 6000,
  weightedAverageCost: 4200,
  category_name: "Basketball"
}, {
  id: 5,
  name: "Tennis Racket",
  sku: "TR001",
  description: "Professional tennis racket",
  price: 12000,
  weightedAverageCost: 8400,
  category_name: "Tennis"
}]);
const GET =
/* istanbul ignore next */
(cov_11b6nqn25m().s[13]++, _shopMiddleware.ShopAccessControl.withShopAccess(async (request, context) => {
  /* istanbul ignore next */
  cov_11b6nqn25m().f[3]++;
  cov_11b6nqn25m().s[14]++;
  try {
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[15]++, new URL(request.url));
    const categoryId =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[16]++, searchParams.get("categoryId"));
    const search =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[17]++, searchParams.get("search"));
    const includeInactive =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[18]++, searchParams.get("includeInactive") === "true");
    const page =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[19]++, parseInt(
    /* istanbul ignore next */
    (cov_11b6nqn25m().b[0][0]++, searchParams.get("page")) ||
    /* istanbul ignore next */
    (cov_11b6nqn25m().b[0][1]++, "1")));
    const limit =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[20]++, parseInt(
    /* istanbul ignore next */
    (cov_11b6nqn25m().b[1][0]++, searchParams.get("limit")) ||
    /* istanbul ignore next */
    (cov_11b6nqn25m().b[1][1]++, "50")));
    /* istanbul ignore next */
    cov_11b6nqn25m().s[21]++;
    console.log("Products API - Shop context:", {
      shopId: context.shopId,
      isFiltered: context.isFiltered,
      isAdmin: context.isAdmin,
      userShopId: context.userShopId
    });
    const skip =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[22]++, (page - 1) * limit);
    // Build where clause
    const where =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[23]++, {});
    /* istanbul ignore next */
    cov_11b6nqn25m().s[24]++;
    if (categoryId) {
      /* istanbul ignore next */
      cov_11b6nqn25m().b[2][0]++;
      cov_11b6nqn25m().s[25]++;
      where.categoryId = parseInt(categoryId);
    } else
    /* istanbul ignore next */
    {
      cov_11b6nqn25m().b[2][1]++;
    }
    cov_11b6nqn25m().s[26]++;
    if (search) {
      /* istanbul ignore next */
      cov_11b6nqn25m().b[3][0]++;
      cov_11b6nqn25m().s[27]++;
      where.OR = [{
        name: {
          contains: search,
          mode: "insensitive"
        }
      }, {
        sku: {
          contains: search,
          mode: "insensitive"
        }
      }, {
        barcode: {
          contains: search,
          mode: "insensitive"
        }
      }];
    } else
    /* istanbul ignore next */
    {
      cov_11b6nqn25m().b[3][1]++;
    }
    // Apply shop-based filtering for inventory
    let products;
    /* istanbul ignore next */
    cov_11b6nqn25m().s[28]++;
    if (
    /* istanbul ignore next */
    (cov_11b6nqn25m().b[5][0]++, context.isFiltered) &&
    /* istanbul ignore next */
    (cov_11b6nqn25m().b[5][1]++, context.shopId)) {
      /* istanbul ignore next */
      cov_11b6nqn25m().b[4][0]++;
      cov_11b6nqn25m().s[29]++;
      console.log(`Filtering products by shopId: ${context.shopId}`);
      /* istanbul ignore next */
      cov_11b6nqn25m().s[30]++;
      products = await _prisma.prisma.product.findMany({
        where: {
          ...where,
          inventoryItems: {
            some: {
              shopId: context.shopId
            }
          }
        },
        include: {
          category: {
            select: {
              id: true,
              name: true
            }
          },
          inventoryItems: {
            where: {
              shopId: context.shopId
            },
            include: {
              shop: {
                select: {
                  id: true,
                  name: true,
                  location: true
                }
              }
            }
          }
        },
        orderBy: {
          name: "asc"
        },
        skip,
        take: limit
      });
    } else {
      /* istanbul ignore next */
      cov_11b6nqn25m().b[4][1]++;
      cov_11b6nqn25m().s[31]++;
      console.log("Fetching all products (admin or no shop filter)");
      /* istanbul ignore next */
      cov_11b6nqn25m().s[32]++;
      products = await _prisma.prisma.product.findMany({
        where,
        include: {
          category: {
            select: {
              id: true,
              name: true
            }
          },
          inventoryItems: {
            include: {
              shop: {
                select: {
                  id: true,
                  name: true,
                  location: true
                }
              }
            }
          }
        },
        orderBy: {
          name: "asc"
        },
        skip,
        take: limit
      });
    }
    /* istanbul ignore next */
    cov_11b6nqn25m().s[33]++;
    console.log(`Found ${products.length} products`);
    /* istanbul ignore next */
    cov_11b6nqn25m().s[34]++;
    return _server.NextResponse.json({
      success: true,
      data: products,
      meta: {
        shopFiltered: context.isFiltered,
        shopId: context.shopId,
        totalItems: products.length
      }
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_11b6nqn25m().s[35]++;
    console.error("Error fetching products:", error);
    /* istanbul ignore next */
    cov_11b6nqn25m().s[36]++;
    return _server.NextResponse.json({
      success: false,
      message: "Error fetching products",
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_11b6nqn25m().b[6][0]++, error.message) :
      /* istanbul ignore next */
      (cov_11b6nqn25m().b[6][1]++, String(error))
    }, {
      status: 500
    });
  }
}));
async function POST(request) {
  /* istanbul ignore next */
  cov_11b6nqn25m().f[4]++;
  cov_11b6nqn25m().s[37]++;
  try {
    // Validate token and permissions
    const authResult =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[38]++, await (0, _auth.validateTokenPermission)(request, "inventory:manage"));
    /* istanbul ignore next */
    cov_11b6nqn25m().s[39]++;
    if (!authResult.isValid) {
      /* istanbul ignore next */
      cov_11b6nqn25m().b[7][0]++;
      cov_11b6nqn25m().s[40]++;
      return _server.NextResponse.json({
        error: authResult.message
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_11b6nqn25m().b[7][1]++;
    }
    const productData =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[41]++, await request.json());
    /* istanbul ignore next */
    cov_11b6nqn25m().s[42]++;
    console.log("Received productData:", productData);
    /* istanbul ignore next */
    cov_11b6nqn25m().s[43]++;
    console.log("productData.basePrice type:", typeof productData.basePrice);
    /* istanbul ignore next */
    cov_11b6nqn25m().s[44]++;
    console.log("productData.basePrice value:", productData.basePrice);
    const newWeightedAverageCost =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[45]++,
    /* istanbul ignore next */
    (cov_11b6nqn25m().b[8][0]++, productData.basePrice) ||
    /* istanbul ignore next */
    (cov_11b6nqn25m().b[8][1]++, 0));
    /* istanbul ignore next */
    cov_11b6nqn25m().s[46]++;
    console.log("Calculated newWeightedAverageCost:", newWeightedAverageCost);
    const product =
    /* istanbul ignore next */
    (cov_11b6nqn25m().s[47]++, await (0, _prisma.safeQuery)(async () => {
      /* istanbul ignore next */
      cov_11b6nqn25m().f[5]++;
      cov_11b6nqn25m().s[48]++;
      return await _prisma.prisma.product.create({
        data: {
          name: productData.name,
          sku: productData.sku,
          barcode:
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[9][0]++, productData.barcode) ||
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[9][1]++, null),
          description:
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[10][0]++, productData.description) ||
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[10][1]++, null),
          weightedAverageCost: newWeightedAverageCost,
          price:
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[11][0]++, productData.retailPrice) ||
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[11][1]++, 0),
          categoryId: productData.categoryId ?
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[12][0]++, parseInt(productData.categoryId)) :
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[12][1]++, null),
          minStockLevel: productData.minStockLevel ?
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[13][0]++, parseInt(productData.minStockLevel)) :
          /* istanbul ignore next */
          (cov_11b6nqn25m().b[13][1]++, 10)
        }
      });
    }, null, "Failed to create product"));
    /* istanbul ignore next */
    cov_11b6nqn25m().s[49]++;
    if (!product) {
      /* istanbul ignore next */
      cov_11b6nqn25m().b[14][0]++;
      cov_11b6nqn25m().s[50]++;
      throw new Error("Product creation failed");
    } else
    /* istanbul ignore next */
    {
      cov_11b6nqn25m().b[14][1]++;
    }
    cov_11b6nqn25m().s[51]++;
    console.log("Product created successfully with WAC:", product.weightedAverageCost);
    // Invalidate inventory cache
    /* istanbul ignore next */
    cov_11b6nqn25m().s[52]++;
    await _cache1.cacheService.invalidateInventory();
    // Revalidate Next.js cached pages
    /* istanbul ignore next */
    cov_11b6nqn25m().s[53]++;
    (0, _cache.revalidateTag)("products");
    /* istanbul ignore next */
    cov_11b6nqn25m().s[54]++;
    (0, _cache.revalidateTag)("inventory");
    /* istanbul ignore next */
    cov_11b6nqn25m().s[55]++;
    (0, _cache.revalidatePath)("/inventory");
    /* istanbul ignore next */
    cov_11b6nqn25m().s[56]++;
    (0, _cache.revalidatePath)("/products");
    // Emit WebSocket event for real-time updates using utility function
    // Real-time updates now handled by polling system
    /* istanbul ignore next */
    cov_11b6nqn25m().s[57]++;
    return _server.NextResponse.json({
      success: true,
      message: "Product created successfully",
      data: product
    }, {
      status: 201
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_11b6nqn25m().s[58]++;
    console.error("Error creating product:", error);
    /* istanbul ignore next */
    cov_11b6nqn25m().s[59]++;
    return _server.NextResponse.json({
      success: false,
      message: "Error creating product",
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_11b6nqn25m().b[15][0]++, error.message) :
      /* istanbul ignore next */
      (cov_11b6nqn25m().b[15][1]++, String(error))
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHRVQiLCJjb3ZfMTFiNm5xbjI1bSIsImYiLCJzIiwiUE9TVCIsImRlZmF1bHRQcm9kdWN0c0RhdGEiLCJpZCIsIm5hbWUiLCJza3UiLCJkZXNjcmlwdGlvbiIsInByaWNlIiwid2VpZ2h0ZWRBdmVyYWdlQ29zdCIsImNhdGVnb3J5X25hbWUiLCJfc2hvcE1pZGRsZXdhcmUiLCJTaG9wQWNjZXNzQ29udHJvbCIsIndpdGhTaG9wQWNjZXNzIiwicmVxdWVzdCIsImNvbnRleHQiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJjYXRlZ29yeUlkIiwiZ2V0Iiwic2VhcmNoIiwiaW5jbHVkZUluYWN0aXZlIiwicGFnZSIsInBhcnNlSW50IiwiYiIsImxpbWl0IiwiY29uc29sZSIsImxvZyIsInNob3BJZCIsImlzRmlsdGVyZWQiLCJpc0FkbWluIiwidXNlclNob3BJZCIsInNraXAiLCJ3aGVyZSIsIk9SIiwiY29udGFpbnMiLCJtb2RlIiwiYmFyY29kZSIsInByb2R1Y3RzIiwiX3ByaXNtYSIsInByaXNtYSIsInByb2R1Y3QiLCJmaW5kTWFueSIsImludmVudG9yeUl0ZW1zIiwic29tZSIsImluY2x1ZGUiLCJjYXRlZ29yeSIsInNlbGVjdCIsInNob3AiLCJsb2NhdGlvbiIsIm9yZGVyQnkiLCJ0YWtlIiwibGVuZ3RoIiwiX3NlcnZlciIsIk5leHRSZXNwb25zZSIsImpzb24iLCJzdWNjZXNzIiwiZGF0YSIsIm1ldGEiLCJzaG9wRmlsdGVyZWQiLCJ0b3RhbEl0ZW1zIiwiZXJyb3IiLCJtZXNzYWdlIiwiRXJyb3IiLCJTdHJpbmciLCJzdGF0dXMiLCJhdXRoUmVzdWx0IiwiX2F1dGgiLCJ2YWxpZGF0ZVRva2VuUGVybWlzc2lvbiIsImlzVmFsaWQiLCJwcm9kdWN0RGF0YSIsImJhc2VQcmljZSIsIm5ld1dlaWdodGVkQXZlcmFnZUNvc3QiLCJzYWZlUXVlcnkiLCJjcmVhdGUiLCJyZXRhaWxQcmljZSIsIm1pblN0b2NrTGV2ZWwiLCJfY2FjaGUxIiwiY2FjaGVTZXJ2aWNlIiwiaW52YWxpZGF0ZUludmVudG9yeSIsIl9jYWNoZSIsInJldmFsaWRhdGVUYWciLCJyZXZhbGlkYXRlUGF0aCJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYWNoaW4vRG9jdW1lbnRzL21kLXNwb3J0cy0vc3JjL2FwcC9hcGkvcHJvZHVjdHMvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHJldmFsaWRhdGVUYWcsIHJldmFsaWRhdGVQYXRoIH0gZnJvbSAnbmV4dC9jYWNoZSc7XG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5pbXBvcnQgeyBnZXRTaG9wSWQgfSBmcm9tICdAL2xpYi91dGlscy9taWRkbGV3YXJlJztcbmltcG9ydCB7IGNhY2hlU2VydmljZSB9IGZyb20gJ0AvbGliL2NhY2hlJztcblxuaW1wb3J0IHsgc2FmZVF1ZXJ5LCBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnO1xuaW1wb3J0IHsgU2hvcEFjY2Vzc0NvbnRyb2wgfSBmcm9tICdAL2xpYi91dGlscy9zaG9wTWlkZGxld2FyZSc7XG5pbXBvcnQgeyB2YWxpZGF0ZVRva2VuUGVybWlzc2lvbiB9IGZyb20gJ0AvbGliL2F1dGgnO1xuXG5cbi8vIERlZmF1bHQgZmFsbGJhY2sgZGF0YSBmb3IgcHJvZHVjdHNcbmNvbnN0IGRlZmF1bHRQcm9kdWN0c0RhdGEgPSBbXG4gICAgeyBpZDogMSwgbmFtZTogJ0NyaWNrZXQgQmF0Jywgc2t1OiAnQ0IwMDEnLCBkZXNjcmlwdGlvbjogJ1Byb2Zlc3Npb25hbCBjcmlja2V0IGJhdCcsIHByaWNlOiAxNTAwMCwgd2VpZ2h0ZWRBdmVyYWdlQ29zdDogMTIwMDAsIGNhdGVnb3J5X25hbWU6ICdDcmlja2V0JyB9LFxuICAgIHsgaWQ6IDIsIG5hbWU6ICdDcmlja2V0IEJhbGwnLCBza3U6ICdDQjAwMicsIGRlc2NyaXB0aW9uOiAnTWF0Y2ggcXVhbGl0eSBjcmlja2V0IGJhbGwnLCBwcmljZTogMjUwMCwgd2VpZ2h0ZWRBdmVyYWdlQ29zdDogMTgwMCwgY2F0ZWdvcnlfbmFtZTogJ0NyaWNrZXQnIH0sXG4gICAgeyBpZDogMywgbmFtZTogJ0Zvb3RiYWxsJywgc2t1OiAnRkIwMDEnLCBkZXNjcmlwdGlvbjogJ1NpemUgNSBmb290YmFsbCcsIHByaWNlOiA1MDAwLCB3ZWlnaHRlZEF2ZXJhZ2VDb3N0OiAzNTAwLCBjYXRlZ29yeV9uYW1lOiAnRm9vdGJhbGwnIH0sXG4gICAgeyBpZDogNCwgbmFtZTogJ0Jhc2tldGJhbGwnLCBza3U6ICdCQjAwMScsIGRlc2NyaXB0aW9uOiAnSW5kb29yIGJhc2tldGJhbGwnLCBwcmljZTogNjAwMCwgd2VpZ2h0ZWRBdmVyYWdlQ29zdDogNDIwMCwgY2F0ZWdvcnlfbmFtZTogJ0Jhc2tldGJhbGwnIH0sXG4gICAgeyBpZDogNSwgbmFtZTogJ1Rlbm5pcyBSYWNrZXQnLCBza3U6ICdUUjAwMScsIGRlc2NyaXB0aW9uOiAnUHJvZmVzc2lvbmFsIHRlbm5pcyByYWNrZXQnLCBwcmljZTogMTIwMDAsIHdlaWdodGVkQXZlcmFnZUNvc3Q6IDg0MDAsIGNhdGVnb3J5X25hbWU6ICdUZW5uaXMnIH1cbl07XG5cbmV4cG9ydCBjb25zdCBHRVQgPSBTaG9wQWNjZXNzQ29udHJvbC53aXRoU2hvcEFjY2Vzcyhhc3luYyAocmVxdWVzdDogTmV4dFJlcXVlc3QsIGNvbnRleHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdjYXRlZ29yeUlkJyk7XG4gICAgICAgIGNvbnN0IHNlYXJjaCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3NlYXJjaCcpO1xuICAgICAgICBjb25zdCBpbmNsdWRlSW5hY3RpdmUgPSBzZWFyY2hQYXJhbXMuZ2V0KCdpbmNsdWRlSW5hY3RpdmUnKSA9PT0gJ3RydWUnO1xuICAgICAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgncGFnZScpIHx8ICcxJyk7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgnbGltaXQnKSB8fCAnNTAnKTtcblxuICAgICAgICBjb25zb2xlLmxvZygnUHJvZHVjdHMgQVBJIC0gU2hvcCBjb250ZXh0OicsIHtcbiAgICAgICAgICAgIHNob3BJZDogY29udGV4dC5zaG9wSWQsXG4gICAgICAgICAgICBpc0ZpbHRlcmVkOiBjb250ZXh0LmlzRmlsdGVyZWQsXG4gICAgICAgICAgICBpc0FkbWluOiBjb250ZXh0LmlzQWRtaW4sXG4gICAgICAgICAgICB1c2VyU2hvcElkOiBjb250ZXh0LnVzZXJTaG9wSWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc2tpcCA9IChwYWdlIC0gMSkgKiBsaW1pdDtcblxuICAgICAgICAvLyBCdWlsZCB3aGVyZSBjbGF1c2VcbiAgICAgICAgY29uc3Qgd2hlcmU6IGFueSA9IHt9O1xuXG4gICAgICAgIGlmIChjYXRlZ29yeUlkKSB7XG4gICAgICAgICAgICB3aGVyZS5jYXRlZ29yeUlkID0gcGFyc2VJbnQoY2F0ZWdvcnlJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VhcmNoKSB7XG4gICAgICAgICAgICB3aGVyZS5PUiA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zOiBzZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnaW5zZW5zaXRpdmUnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2t1OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluczogc2VhcmNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogJ2luc2Vuc2l0aXZlJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhcmNvZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zOiBzZWFyY2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnaW5zZW5zaXRpdmUnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgc2hvcC1iYXNlZCBmaWx0ZXJpbmcgZm9yIGludmVudG9yeVxuICAgICAgICBsZXQgcHJvZHVjdHM7XG4gICAgICAgIGlmIChjb250ZXh0LmlzRmlsdGVyZWQgJiYgY29udGV4dC5zaG9wSWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaWx0ZXJpbmcgcHJvZHVjdHMgYnkgc2hvcElkOiAke2NvbnRleHQuc2hvcElkfWApO1xuICAgICAgICAgICAgcHJvZHVjdHMgPSBhd2FpdCBwcmlzbWEucHJvZHVjdC5maW5kTWFueSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ud2hlcmUsXG4gICAgICAgICAgICAgICAgICAgIGludmVudG9yeUl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb21lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcElkOiBjb250ZXh0LnNob3BJZFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGludmVudG9yeUl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3BJZDogY29udGV4dC5zaG9wSWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2FzYydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNraXAsXG4gICAgICAgICAgICAgICAgdGFrZTogbGltaXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIGFsbCBwcm9kdWN0cyAoYWRtaW4gb3Igbm8gc2hvcCBmaWx0ZXIpJyk7XG4gICAgICAgICAgICBwcm9kdWN0cyA9IGF3YWl0IHByaXNtYS5wcm9kdWN0LmZpbmRNYW55KHtcbiAgICAgICAgICAgICAgICB3aGVyZSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGludmVudG9yeUl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2FzYydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNraXAsXG4gICAgICAgICAgICAgICAgdGFrZTogbGltaXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coYEZvdW5kICR7cHJvZHVjdHMubGVuZ3RofSBwcm9kdWN0c2ApO1xuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogcHJvZHVjdHMsXG4gICAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICAgICAgc2hvcEZpbHRlcmVkOiBjb250ZXh0LmlzRmlsdGVyZWQsXG4gICAgICAgICAgICAgICAgc2hvcElkOiBjb250ZXh0LnNob3BJZCxcbiAgICAgICAgICAgICAgICB0b3RhbEl0ZW1zOiBwcm9kdWN0cy5sZW5ndGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvZHVjdHM6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgZmV0Y2hpbmcgcHJvZHVjdHMnLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cbn0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIFZhbGlkYXRlIHRva2VuIGFuZCBwZXJtaXNzaW9uc1xuICAgICAgICBjb25zdCBhdXRoUmVzdWx0ID0gYXdhaXQgdmFsaWRhdGVUb2tlblBlcm1pc3Npb24ocmVxdWVzdCwgJ2ludmVudG9yeTptYW5hZ2UnKTtcbiAgICAgICAgaWYgKCFhdXRoUmVzdWx0LmlzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBhdXRoUmVzdWx0Lm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb2R1Y3REYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBwcm9kdWN0RGF0YTonLCBwcm9kdWN0RGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdwcm9kdWN0RGF0YS5iYXNlUHJpY2UgdHlwZTonLCB0eXBlb2YgcHJvZHVjdERhdGEuYmFzZVByaWNlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3Byb2R1Y3REYXRhLmJhc2VQcmljZSB2YWx1ZTonLCBwcm9kdWN0RGF0YS5iYXNlUHJpY2UpO1xuXG4gICAgICAgIGNvbnN0IG5ld1dlaWdodGVkQXZlcmFnZUNvc3QgPSBwcm9kdWN0RGF0YS5iYXNlUHJpY2UgfHwgMDtcbiAgICAgICAgY29uc29sZS5sb2coJ0NhbGN1bGF0ZWQgbmV3V2VpZ2h0ZWRBdmVyYWdlQ29zdDonLCBuZXdXZWlnaHRlZEF2ZXJhZ2VDb3N0KTtcblxuICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgc2FmZVF1ZXJ5KFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwcmlzbWEucHJvZHVjdC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm9kdWN0RGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2t1OiBwcm9kdWN0RGF0YS5za3UsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXJjb2RlOiBwcm9kdWN0RGF0YS5iYXJjb2RlIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdERhdGEuZGVzY3JpcHRpb24gfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodGVkQXZlcmFnZUNvc3Q6IG5ld1dlaWdodGVkQXZlcmFnZUNvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogcHJvZHVjdERhdGEucmV0YWlsUHJpY2UgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWQ6IHByb2R1Y3REYXRhLmNhdGVnb3J5SWQgPyBwYXJzZUludChwcm9kdWN0RGF0YS5jYXRlZ29yeUlkKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5TdG9ja0xldmVsOiBwcm9kdWN0RGF0YS5taW5TdG9ja0xldmVsID8gcGFyc2VJbnQocHJvZHVjdERhdGEubWluU3RvY2tMZXZlbCkgOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAnRmFpbGVkIHRvIGNyZWF0ZSBwcm9kdWN0J1xuICAgICAgICApO1xuXG4gICAgICAgIGlmICghcHJvZHVjdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9kdWN0IGNyZWF0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1Byb2R1Y3QgY3JlYXRlZCBzdWNjZXNzZnVsbHkgd2l0aCBXQUM6JywgcHJvZHVjdC53ZWlnaHRlZEF2ZXJhZ2VDb3N0KTtcblxuICAgICAgICAvLyBJbnZhbGlkYXRlIGludmVudG9yeSBjYWNoZVxuICAgICAgICBhd2FpdCBjYWNoZVNlcnZpY2UuaW52YWxpZGF0ZUludmVudG9yeSgpO1xuXG4gICAgICAgIC8vIFJldmFsaWRhdGUgTmV4dC5qcyBjYWNoZWQgcGFnZXNcbiAgICAgICAgcmV2YWxpZGF0ZVRhZygncHJvZHVjdHMnKTtcbiAgICAgICAgcmV2YWxpZGF0ZVRhZygnaW52ZW50b3J5Jyk7XG4gICAgICAgIHJldmFsaWRhdGVQYXRoKCcvaW52ZW50b3J5Jyk7XG4gICAgICAgIHJldmFsaWRhdGVQYXRoKCcvcHJvZHVjdHMnKTtcblxuICAgICAgICAvLyBFbWl0IFdlYlNvY2tldCBldmVudCBmb3IgcmVhbC10aW1lIHVwZGF0ZXMgdXNpbmcgdXRpbGl0eSBmdW5jdGlvblxuICAgICAgICAvLyBSZWFsLXRpbWUgdXBkYXRlcyBub3cgaGFuZGxlZCBieSBwb2xsaW5nIHN5c3RlbVxuXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1Byb2R1Y3QgY3JlYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgZGF0YTogcHJvZHVjdFxuICAgICAgICB9LCB7IHN0YXR1czogMjAxIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHByb2R1Y3Q6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgY3JlYXRpbmcgcHJvZHVjdCcsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG4gICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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