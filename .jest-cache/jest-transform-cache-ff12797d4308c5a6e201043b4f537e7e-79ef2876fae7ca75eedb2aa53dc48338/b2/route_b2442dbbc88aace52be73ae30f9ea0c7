c969725b708b6ac7d5a3b07cfd15caa2
"use strict";

/* istanbul ignore next */
function cov_2ng7jnwm2g() {
  var path = "/Users/sachin/Documents/md-sports-/src/app/api/inventory/transfers/[id]/route.ts";
  var hash = "fae11e6e97f3ec1e79b27414c4497eb8a7d20613";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/sachin/Documents/md-sports-/src/app/api/inventory/transfers/[id]/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 24,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 22
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 19
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 21
        }
      },
      "7": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 22,
          column: 19
        }
      },
      "8": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 38
        }
      },
      "9": {
        start: {
          line: 26,
          column: 20
        },
        end: {
          line: 26,
          column: 66
        }
      },
      "10": {
        start: {
          line: 27,
          column: 16
        },
        end: {
          line: 27,
          column: 52
        }
      },
      "11": {
        start: {
          line: 28,
          column: 23
        },
        end: {
          line: 28,
          column: 66
        }
      },
      "12": {
        start: {
          line: 29,
          column: 36
        },
        end: {
          line: 29,
          column: 92
        }
      },
      "13": {
        start: {
          line: 30,
          column: 30
        },
        end: {
          line: 30,
          column: 81
        }
      },
      "14": {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 44,
          column: 6
        }
      },
      "15": {
        start: {
          line: 47,
          column: 29
        },
        end: {
          line: 59,
          column: 1
        }
      },
      "16": {
        start: {
          line: 61,
          column: 22
        },
        end: {
          line: 61,
          column: 87
        }
      },
      "17": {
        start: {
          line: 63,
          column: 28
        },
        end: {
          line: 63,
          column: 91
        }
      },
      "18": {
        start: {
          line: 64,
          column: 4
        },
        end: {
          line: 67,
          column: 5
        }
      },
      "19": {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 65,
          column: 45
        }
      },
      "20": {
        start: {
          line: 66,
          column: 8
        },
        end: {
          line: 66,
          column: 31
        }
      },
      "21": {
        start: {
          line: 68,
          column: 15
        },
        end: {
          line: 68,
          column: 34
        }
      },
      "22": {
        start: {
          line: 69,
          column: 4
        },
        end: {
          line: 77,
          column: 5
        }
      },
      "23": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 70,
          column: 43
        }
      },
      "24": {
        start: {
          line: 71,
          column: 8
        },
        end: {
          line: 76,
          column: 11
        }
      },
      "25": {
        start: {
          line: 78,
          column: 4
        },
        end: {
          line: 160,
          column: 5
        }
      },
      "26": {
        start: {
          line: 80,
          column: 25
        },
        end: {
          line: 80,
          column: 100
        }
      },
      "27": {
        start: {
          line: 82,
          column: 23
        },
        end: {
          line: 82,
          column: 78
        }
      },
      "28": {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 89,
          column: 9
        }
      },
      "29": {
        start: {
          line: 84,
          column: 12
        },
        end: {
          line: 84,
          column: 49
        }
      },
      "30": {
        start: {
          line: 85,
          column: 12
        },
        end: {
          line: 88,
          column: 15
        }
      },
      "31": {
        start: {
          line: 91,
          column: 25
        },
        end: {
          line: 134,
          column: 51
        }
      },
      "32": {
        start: {
          line: 92,
          column: 12
        },
        end: {
          line: 133,
          column: 81
        }
      },
      "33": {
        start: {
          line: 94,
          column: 37
        },
        end: {
          line: 108,
          column: 18
        }
      },
      "34": {
        start: {
          line: 109,
          column: 16
        },
        end: {
          line: 111,
          column: 17
        }
      },
      "35": {
        start: {
          line: 110,
          column: 20
        },
        end: {
          line: 110,
          column: 32
        }
      },
      "36": {
        start: {
          line: 113,
          column: 16
        },
        end: {
          line: 132,
          column: 18
        }
      },
      "37": {
        start: {
          line: 123,
          column: 67
        },
        end: {
          line: 131,
          column: 25
        }
      },
      "38": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 143,
          column: 9
        }
      },
      "39": {
        start: {
          line: 136,
          column: 12
        },
        end: {
          line: 136,
          column: 46
        }
      },
      "40": {
        start: {
          line: 137,
          column: 12
        },
        end: {
          line: 142,
          column: 15
        }
      },
      "41": {
        start: {
          line: 145,
          column: 8
        },
        end: {
          line: 145,
          column: 74
        }
      },
      "42": {
        start: {
          line: 146,
          column: 8
        },
        end: {
          line: 146,
          column: 46
        }
      },
      "43": {
        start: {
          line: 147,
          column: 8
        },
        end: {
          line: 150,
          column: 11
        }
      },
      "44": {
        start: {
          line: 152,
          column: 8
        },
        end: {
          line: 152,
          column: 63
        }
      },
      "45": {
        start: {
          line: 153,
          column: 8
        },
        end: {
          line: 153,
          column: 44
        }
      },
      "46": {
        start: {
          line: 154,
          column: 8
        },
        end: {
          line: 159,
          column: 11
        }
      },
      "47": {
        start: {
          line: 163,
          column: 22
        },
        end: {
          line: 163,
          column: 89
        }
      },
      "48": {
        start: {
          line: 165,
          column: 28
        },
        end: {
          line: 165,
          column: 95
        }
      },
      "49": {
        start: {
          line: 166,
          column: 4
        },
        end: {
          line: 169,
          column: 5
        }
      },
      "50": {
        start: {
          line: 167,
          column: 8
        },
        end: {
          line: 167,
          column: 45
        }
      },
      "51": {
        start: {
          line: 168,
          column: 8
        },
        end: {
          line: 168,
          column: 31
        }
      },
      "52": {
        start: {
          line: 170,
          column: 15
        },
        end: {
          line: 170,
          column: 34
        }
      },
      "53": {
        start: {
          line: 171,
          column: 4
        },
        end: {
          line: 179,
          column: 5
        }
      },
      "54": {
        start: {
          line: 172,
          column: 8
        },
        end: {
          line: 172,
          column: 43
        }
      },
      "55": {
        start: {
          line: 173,
          column: 8
        },
        end: {
          line: 178,
          column: 11
        }
      },
      "56": {
        start: {
          line: 180,
          column: 4
        },
        end: {
          line: 386,
          column: 5
        }
      },
      "57": {
        start: {
          line: 181,
          column: 22
        },
        end: {
          line: 181,
          column: 38
        }
      },
      "58": {
        start: {
          line: 182,
          column: 27
        },
        end: {
          line: 182,
          column: 32
        }
      },
      "59": {
        start: {
          line: 183,
          column: 8
        },
        end: {
          line: 194,
          column: 9
        }
      },
      "60": {
        start: {
          line: 187,
          column: 12
        },
        end: {
          line: 187,
          column: 51
        }
      },
      "61": {
        start: {
          line: 188,
          column: 12
        },
        end: {
          line: 193,
          column: 15
        }
      },
      "62": {
        start: {
          line: 195,
          column: 23
        },
        end: {
          line: 356,
          column: 48
        }
      },
      "63": {
        start: {
          line: 196,
          column: 12
        },
        end: {
          line: 355,
          column: 14
        }
      },
      "64": {
        start: {
          line: 198,
          column: 43
        },
        end: {
          line: 198,
          column: 52
        }
      },
      "65": {
        start: {
          line: 200,
          column: 33
        },
        end: {
          line: 211,
          column: 18
        }
      },
      "66": {
        start: {
          line: 212,
          column: 16
        },
        end: {
          line: 214,
          column: 17
        }
      },
      "67": {
        start: {
          line: 213,
          column: 20
        },
        end: {
          line: 213,
          column: 58
        }
      },
      "68": {
        start: {
          line: 215,
          column: 16
        },
        end: {
          line: 217,
          column: 17
        }
      },
      "69": {
        start: {
          line: 216,
          column: 20
        },
        end: {
          line: 216,
          column: 97
        }
      },
      "70": {
        start: {
          line: 218,
          column: 16
        },
        end: {
          line: 341,
          column: 17
        }
      },
      "71": {
        start: {
          line: 220,
          column: 20
        },
        end: {
          line: 245,
          column: 21
        }
      },
      "72": {
        start: {
          line: 222,
          column: 48
        },
        end: {
          line: 227,
          column: 26
        }
      },
      "73": {
        start: {
          line: 228,
          column: 24
        },
        end: {
          line: 230,
          column: 25
        }
      },
      "74": {
        start: {
          line: 229,
          column: 28
        },
        end: {
          line: 229,
          column: 118
        }
      },
      "75": {
        start: {
          line: 232,
          column: 52
        },
        end: {
          line: 232,
          column: 89
        }
      },
      "76": {
        start: {
          line: 234,
          column: 24
        },
        end: {
          line: 242,
          column: 27
        }
      },
      "77": {
        start: {
          line: 244,
          column: 24
        },
        end: {
          line: 244,
          column: 63
        }
      },
      "78": {
        start: {
          line: 247,
          column: 45
        },
        end: {
          line: 247,
          column: 47
        }
      },
      "79": {
        start: {
          line: 248,
          column: 20
        },
        end: {
          line: 292,
          column: 21
        }
      },
      "80": {
        start: {
          line: 250,
          column: 48
        },
        end: {
          line: 255,
          column: 26
        }
      },
      "81": {
        start: {
          line: 256,
          column: 52
        },
        end: {
          line: 256,
          column: 90
        }
      },
      "82": {
        start: {
          line: 258,
          column: 46
        },
        end: {
          line: 263,
          column: 26
        }
      },
      "83": {
        start: {
          line: 264,
          column: 24
        },
        end: {
          line: 291,
          column: 25
        }
      },
      "84": {
        start: {
          line: 266,
          column: 28
        },
        end: {
          line: 273,
          column: 31
        }
      },
      "85": {
        start: {
          line: 276,
          column: 56
        },
        end: {
          line: 276,
          column: 78
        }
      },
      "86": {
        start: {
          line: 277,
          column: 52
        },
        end: {
          line: 277,
          column: 87
        }
      },
      "87": {
        start: {
          line: 278,
          column: 53
        },
        end: {
          line: 278,
          column: 66
        }
      },
      "88": {
        start: {
          line: 279,
          column: 54
        },
        end: {
          line: 279,
          column: 91
        }
      },
      "89": {
        start: {
          line: 280,
          column: 55
        },
        end: {
          line: 280,
          column: 93
        }
      },
      "90": {
        start: {
          line: 281,
          column: 53
        },
        end: {
          line: 281,
          column: 91
        }
      },
      "91": {
        start: {
          line: 282,
          column: 54
        },
        end: {
          line: 282,
          column: 55
        }
      },
      "92": {
        start: {
          line: 283,
          column: 28
        },
        end: {
          line: 285,
          column: 29
        }
      },
      "93": {
        start: {
          line: 284,
          column: 32
        },
        end: {
          line: 284,
          column: 114
        }
      },
      "94": {
        start: {
          line: 286,
          column: 28
        },
        end: {
          line: 290,
          column: 31
        }
      },
      "95": {
        start: {
          line: 294,
          column: 20
        },
        end: {
          line: 308,
          column: 21
        }
      },
      "96": {
        start: {
          line: 295,
          column: 24
        },
        end: {
          line: 307,
          column: 33
        }
      },
      "97": {
        start: {
          line: 295,
          column: 73
        },
        end: {
          line: 307,
          column: 30
        }
      },
      "98": {
        start: {
          line: 310,
          column: 39
        },
        end: {
          line: 331,
          column: 23
        }
      },
      "99": {
        start: {
          line: 311,
          column: 58
        },
        end: {
          line: 318,
          column: 26
        }
      },
      "100": {
        start: {
          line: 319,
          column: 24
        },
        end: {
          line: 329,
          column: 25
        }
      },
      "101": {
        start: {
          line: 320,
          column: 50
        },
        end: {
          line: 320,
          column: 117
        }
      },
      "102": {
        start: {
          line: 320,
          column: 95
        },
        end: {
          line: 320,
          column: 113
        }
      },
      "103": {
        start: {
          line: 321,
          column: 47
        },
        end: {
          line: 323,
          column: 33
        }
      },
      "104": {
        start: {
          line: 322,
          column: 32
        },
        end: {
          line: 322,
          column: 88
        }
      },
      "105": {
        start: {
          line: 324,
          column: 46
        },
        end: {
          line: 324,
          column: 96
        }
      },
      "106": {
        start: {
          line: 325,
          column: 28
        },
        end: {
          line: 328,
          column: 30
        }
      },
      "107": {
        start: {
          line: 330,
          column: 24
        },
        end: {
          line: 330,
          column: 36
        }
      },
      "108": {
        start: {
          line: 333,
          column: 20
        },
        end: {
          line: 340,
          column: 29
        }
      },
      "109": {
        start: {
          line: 333,
          column: 66
        },
        end: {
          line: 333,
          column: 81
        }
      },
      "110": {
        start: {
          line: 333,
          column: 97
        },
        end: {
          line: 340,
          column: 26
        }
      },
      "111": {
        start: {
          line: 343,
          column: 16
        },
        end: {
          line: 351,
          column: 19
        }
      },
      "112": {
        start: {
          line: 357,
          column: 8
        },
        end: {
          line: 365,
          column: 9
        }
      },
      "113": {
        start: {
          line: 358,
          column: 12
        },
        end: {
          line: 358,
          column: 50
        }
      },
      "114": {
        start: {
          line: 359,
          column: 12
        },
        end: {
          line: 364,
          column: 15
        }
      },
      "115": {
        start: {
          line: 367,
          column: 8
        },
        end: {
          line: 370,
          column: 11
        }
      },
      "116": {
        start: {
          line: 371,
          column: 8
        },
        end: {
          line: 371,
          column: 28
        }
      },
      "117": {
        start: {
          line: 372,
          column: 8
        },
        end: {
          line: 376,
          column: 11
        }
      },
      "118": {
        start: {
          line: 378,
          column: 8
        },
        end: {
          line: 378,
          column: 84
        }
      },
      "119": {
        start: {
          line: 379,
          column: 8
        },
        end: {
          line: 379,
          column: 45
        }
      },
      "120": {
        start: {
          line: 380,
          column: 8
        },
        end: {
          line: 385,
          column: 11
        }
      },
      "121": {
        start: {
          line: 389,
          column: 22
        },
        end: {
          line: 389,
          column: 87
        }
      },
      "122": {
        start: {
          line: 391,
          column: 28
        },
        end: {
          line: 391,
          column: 95
        }
      },
      "123": {
        start: {
          line: 392,
          column: 4
        },
        end: {
          line: 395,
          column: 5
        }
      },
      "124": {
        start: {
          line: 393,
          column: 8
        },
        end: {
          line: 393,
          column: 45
        }
      },
      "125": {
        start: {
          line: 394,
          column: 8
        },
        end: {
          line: 394,
          column: 31
        }
      },
      "126": {
        start: {
          line: 396,
          column: 15
        },
        end: {
          line: 396,
          column: 34
        }
      },
      "127": {
        start: {
          line: 397,
          column: 4
        },
        end: {
          line: 405,
          column: 5
        }
      },
      "128": {
        start: {
          line: 398,
          column: 8
        },
        end: {
          line: 398,
          column: 43
        }
      },
      "129": {
        start: {
          line: 399,
          column: 8
        },
        end: {
          line: 404,
          column: 11
        }
      },
      "130": {
        start: {
          line: 406,
          column: 4
        },
        end: {
          line: 567,
          column: 5
        }
      },
      "131": {
        start: {
          line: 407,
          column: 22
        },
        end: {
          line: 407,
          column: 38
        }
      },
      "132": {
        start: {
          line: 408,
          column: 59
        },
        end: {
          line: 408,
          column: 64
        }
      },
      "133": {
        start: {
          line: 410,
          column: 8
        },
        end: {
          line: 418,
          column: 9
        }
      },
      "134": {
        start: {
          line: 411,
          column: 12
        },
        end: {
          line: 411,
          column: 50
        }
      },
      "135": {
        start: {
          line: 412,
          column: 12
        },
        end: {
          line: 417,
          column: 15
        }
      },
      "136": {
        start: {
          line: 419,
          column: 8
        },
        end: {
          line: 427,
          column: 9
        }
      },
      "137": {
        start: {
          line: 420,
          column: 12
        },
        end: {
          line: 420,
          column: 46
        }
      },
      "138": {
        start: {
          line: 421,
          column: 12
        },
        end: {
          line: 426,
          column: 15
        }
      },
      "139": {
        start: {
          line: 428,
          column: 8
        },
        end: {
          line: 436,
          column: 9
        }
      },
      "140": {
        start: {
          line: 429,
          column: 12
        },
        end: {
          line: 429,
          column: 45
        }
      },
      "141": {
        start: {
          line: 430,
          column: 12
        },
        end: {
          line: 435,
          column: 15
        }
      },
      "142": {
        start: {
          line: 438,
          column: 8
        },
        end: {
          line: 448,
          column: 9
        }
      },
      "143": {
        start: {
          line: 439,
          column: 12
        },
        end: {
          line: 447,
          column: 13
        }
      },
      "144": {
        start: {
          line: 440,
          column: 16
        },
        end: {
          line: 440,
          column: 53
        }
      },
      "145": {
        start: {
          line: 441,
          column: 16
        },
        end: {
          line: 446,
          column: 19
        }
      },
      "146": {
        start: {
          line: 449,
          column: 23
        },
        end: {
          line: 535,
          column: 45
        }
      },
      "147": {
        start: {
          line: 450,
          column: 12
        },
        end: {
          line: 534,
          column: 14
        }
      },
      "148": {
        start: {
          line: 452,
          column: 41
        },
        end: {
          line: 456,
          column: 18
        }
      },
      "149": {
        start: {
          line: 457,
          column: 16
        },
        end: {
          line: 459,
          column: 17
        }
      },
      "150": {
        start: {
          line: 458,
          column: 20
        },
        end: {
          line: 458,
          column: 58
        }
      },
      "151": {
        start: {
          line: 460,
          column: 16
        },
        end: {
          line: 462,
          column: 17
        }
      },
      "152": {
        start: {
          line: 461,
          column: 20
        },
        end: {
          line: 461,
          column: 76
        }
      },
      "153": {
        start: {
          line: 464,
          column: 35
        },
        end: {
          line: 468,
          column: 18
        }
      },
      "154": {
        start: {
          line: 469,
          column: 40
        },
        end: {
          line: 473,
          column: 18
        }
      },
      "155": {
        start: {
          line: 474,
          column: 16
        },
        end: {
          line: 476,
          column: 17
        }
      },
      "156": {
        start: {
          line: 475,
          column: 20
        },
        end: {
          line: 475,
          column: 62
        }
      },
      "157": {
        start: {
          line: 478,
          column: 16
        },
        end: {
          line: 503,
          column: 17
        }
      },
      "158": {
        start: {
          line: 479,
          column: 38
        },
        end: {
          line: 484,
          column: 22
        }
      },
      "159": {
        start: {
          line: 485,
          column: 20
        },
        end: {
          line: 493,
          column: 21
        }
      },
      "160": {
        start: {
          line: 486,
          column: 40
        },
        end: {
          line: 490,
          column: 26
        }
      },
      "161": {
        start: {
          line: 491,
          column: 44
        },
        end: {
          line: 491,
          column: 99
        }
      },
      "162": {
        start: {
          line: 492,
          column: 24
        },
        end: {
          line: 492,
          column: 93
        }
      },
      "163": {
        start: {
          line: 494,
          column: 20
        },
        end: {
          line: 502,
          column: 21
        }
      },
      "164": {
        start: {
          line: 495,
          column: 40
        },
        end: {
          line: 499,
          column: 26
        }
      },
      "165": {
        start: {
          line: 500,
          column: 44
        },
        end: {
          line: 500,
          column: 99
        }
      },
      "166": {
        start: {
          line: 501,
          column: 24
        },
        end: {
          line: 501,
          column: 146
        }
      },
      "167": {
        start: {
          line: 505,
          column: 40
        },
        end: {
          line: 514,
          column: 18
        }
      },
      "168": {
        start: {
          line: 516,
          column: 16
        },
        end: {
          line: 520,
          column: 19
        }
      },
      "169": {
        start: {
          line: 522,
          column: 42
        },
        end: {
          line: 526,
          column: 23
        }
      },
      "170": {
        start: {
          line: 522,
          column: 61
        },
        end: {
          line: 526,
          column: 21
        }
      },
      "171": {
        start: {
          line: 527,
          column: 16
        },
        end: {
          line: 529,
          column: 19
        }
      },
      "172": {
        start: {
          line: 530,
          column: 16
        },
        end: {
          line: 530,
          column: 39
        }
      },
      "173": {
        start: {
          line: 536,
          column: 8
        },
        end: {
          line: 544,
          column: 9
        }
      },
      "174": {
        start: {
          line: 537,
          column: 12
        },
        end: {
          line: 537,
          column: 50
        }
      },
      "175": {
        start: {
          line: 538,
          column: 12
        },
        end: {
          line: 543,
          column: 15
        }
      },
      "176": {
        start: {
          line: 546,
          column: 8
        },
        end: {
          line: 549,
          column: 11
        }
      },
      "177": {
        start: {
          line: 550,
          column: 8
        },
        end: {
          line: 550,
          column: 28
        }
      },
      "178": {
        start: {
          line: 551,
          column: 8
        },
        end: {
          line: 557,
          column: 11
        }
      },
      "179": {
        start: {
          line: 559,
          column: 8
        },
        end: {
          line: 559,
          column: 63
        }
      },
      "180": {
        start: {
          line: 560,
          column: 8
        },
        end: {
          line: 560,
          column: 45
        }
      },
      "181": {
        start: {
          line: 561,
          column: 8
        },
        end: {
          line: 566,
          column: 11
        }
      },
      "182": {
        start: {
          line: 570,
          column: 22
        },
        end: {
          line: 570,
          column: 87
        }
      },
      "183": {
        start: {
          line: 572,
          column: 28
        },
        end: {
          line: 572,
          column: 95
        }
      },
      "184": {
        start: {
          line: 573,
          column: 4
        },
        end: {
          line: 576,
          column: 5
        }
      },
      "185": {
        start: {
          line: 574,
          column: 8
        },
        end: {
          line: 574,
          column: 45
        }
      },
      "186": {
        start: {
          line: 575,
          column: 8
        },
        end: {
          line: 575,
          column: 31
        }
      },
      "187": {
        start: {
          line: 577,
          column: 15
        },
        end: {
          line: 577,
          column: 34
        }
      },
      "188": {
        start: {
          line: 578,
          column: 4
        },
        end: {
          line: 586,
          column: 5
        }
      },
      "189": {
        start: {
          line: 579,
          column: 8
        },
        end: {
          line: 579,
          column: 43
        }
      },
      "190": {
        start: {
          line: 580,
          column: 8
        },
        end: {
          line: 585,
          column: 11
        }
      },
      "191": {
        start: {
          line: 587,
          column: 4
        },
        end: {
          line: 646,
          column: 5
        }
      },
      "192": {
        start: {
          line: 588,
          column: 23
        },
        end: {
          line: 617,
          column: 45
        }
      },
      "193": {
        start: {
          line: 589,
          column: 12
        },
        end: {
          line: 616,
          column: 14
        }
      },
      "194": {
        start: {
          line: 591,
          column: 33
        },
        end: {
          line: 595,
          column: 18
        }
      },
      "195": {
        start: {
          line: 596,
          column: 16
        },
        end: {
          line: 598,
          column: 17
        }
      },
      "196": {
        start: {
          line: 597,
          column: 20
        },
        end: {
          line: 597,
          column: 58
        }
      },
      "197": {
        start: {
          line: 599,
          column: 16
        },
        end: {
          line: 601,
          column: 17
        }
      },
      "198": {
        start: {
          line: 600,
          column: 20
        },
        end: {
          line: 600,
          column: 77
        }
      },
      "199": {
        start: {
          line: 603,
          column: 16
        },
        end: {
          line: 607,
          column: 19
        }
      },
      "200": {
        start: {
          line: 608,
          column: 16
        },
        end: {
          line: 612,
          column: 19
        }
      },
      "201": {
        start: {
          line: 618,
          column: 8
        },
        end: {
          line: 626,
          column: 9
        }
      },
      "202": {
        start: {
          line: 619,
          column: 12
        },
        end: {
          line: 619,
          column: 50
        }
      },
      "203": {
        start: {
          line: 620,
          column: 12
        },
        end: {
          line: 625,
          column: 15
        }
      },
      "204": {
        start: {
          line: 628,
          column: 8
        },
        end: {
          line: 631,
          column: 11
        }
      },
      "205": {
        start: {
          line: 632,
          column: 8
        },
        end: {
          line: 632,
          column: 28
        }
      },
      "206": {
        start: {
          line: 633,
          column: 8
        },
        end: {
          line: 636,
          column: 11
        }
      },
      "207": {
        start: {
          line: 638,
          column: 8
        },
        end: {
          line: 638,
          column: 63
        }
      },
      "208": {
        start: {
          line: 639,
          column: 8
        },
        end: {
          line: 639,
          column: 45
        }
      },
      "209": {
        start: {
          line: 640,
          column: 8
        },
        end: {
          line: 645,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 12
          },
          end: {
            line: 12,
            column: 13
          }
        },
        loc: {
          start: {
            line: 12,
            column: 23
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 9
          },
          end: {
            line: 15,
            column: 10
          }
        },
        loc: {
          start: {
            line: 15,
            column: 20
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 11
          },
          end: {
            line: 18,
            column: 12
          }
        },
        loc: {
          start: {
            line: 18,
            column: 22
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 21,
            column: 9
          },
          end: {
            line: 21,
            column: 10
          }
        },
        loc: {
          start: {
            line: 21,
            column: 20
          },
          end: {
            line: 23,
            column: 5
          }
        },
        line: 21
      },
      "5": {
        name: "getDefaultTransfer",
        decl: {
          start: {
            line: 32,
            column: 9
          },
          end: {
            line: 32,
            column: 27
          }
        },
        loc: {
          start: {
            line: 32,
            column: 32
          },
          end: {
            line: 45,
            column: 1
          }
        },
        line: 32
      },
      "6": {
        name: "GET",
        decl: {
          start: {
            line: 60,
            column: 15
          },
          end: {
            line: 60,
            column: 18
          }
        },
        loc: {
          start: {
            line: 60,
            column: 36
          },
          end: {
            line: 161,
            column: 1
          }
        },
        line: 60
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 91,
            column: 77
          },
          end: {
            line: 91,
            column: 78
          }
        },
        loc: {
          start: {
            line: 91,
            column: 87
          },
          end: {
            line: 134,
            column: 9
          }
        },
        line: 91
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 92,
            column: 48
          },
          end: {
            line: 92,
            column: 49
          }
        },
        loc: {
          start: {
            line: 92,
            column: 58
          },
          end: {
            line: 133,
            column: 13
          }
        },
        line: 92
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 123,
            column: 58
          },
          end: {
            line: 123,
            column: 59
          }
        },
        loc: {
          start: {
            line: 123,
            column: 67
          },
          end: {
            line: 131,
            column: 25
          }
        },
        line: 123
      },
      "10": {
        name: "PATCH",
        decl: {
          start: {
            line: 162,
            column: 15
          },
          end: {
            line: 162,
            column: 20
          }
        },
        loc: {
          start: {
            line: 162,
            column: 38
          },
          end: {
            line: 387,
            column: 1
          }
        },
        line: 162
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 195,
            column: 52
          },
          end: {
            line: 195,
            column: 53
          }
        },
        loc: {
          start: {
            line: 195,
            column: 62
          },
          end: {
            line: 356,
            column: 9
          }
        },
        line: 195
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 196,
            column: 53
          },
          end: {
            line: 196,
            column: 54
          }
        },
        loc: {
          start: {
            line: 196,
            column: 65
          },
          end: {
            line: 352,
            column: 13
          }
        },
        line: 196
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 295,
            column: 63
          },
          end: {
            line: 295,
            column: 64
          }
        },
        loc: {
          start: {
            line: 295,
            column: 73
          },
          end: {
            line: 307,
            column: 30
          }
        },
        line: 295
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 310,
            column: 92
          },
          end: {
            line: 310,
            column: 93
          }
        },
        loc: {
          start: {
            line: 310,
            column: 111
          },
          end: {
            line: 331,
            column: 21
          }
        },
        line: 310
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 320,
            column: 83
          },
          end: {
            line: 320,
            column: 84
          }
        },
        loc: {
          start: {
            line: 320,
            column: 95
          },
          end: {
            line: 320,
            column: 113
          }
        },
        line: 320
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 321,
            column: 80
          },
          end: {
            line: 321,
            column: 81
          }
        },
        loc: {
          start: {
            line: 321,
            column: 92
          },
          end: {
            line: 323,
            column: 29
          }
        },
        line: 321
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 333,
            column: 56
          },
          end: {
            line: 333,
            column: 57
          }
        },
        loc: {
          start: {
            line: 333,
            column: 66
          },
          end: {
            line: 333,
            column: 81
          }
        },
        line: 333
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 333,
            column: 87
          },
          end: {
            line: 333,
            column: 88
          }
        },
        loc: {
          start: {
            line: 333,
            column: 97
          },
          end: {
            line: 340,
            column: 26
          }
        },
        line: 333
      },
      "19": {
        name: "PUT",
        decl: {
          start: {
            line: 388,
            column: 15
          },
          end: {
            line: 388,
            column: 18
          }
        },
        loc: {
          start: {
            line: 388,
            column: 36
          },
          end: {
            line: 568,
            column: 1
          }
        },
        line: 388
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 449,
            column: 52
          },
          end: {
            line: 449,
            column: 53
          }
        },
        loc: {
          start: {
            line: 449,
            column: 62
          },
          end: {
            line: 535,
            column: 9
          }
        },
        line: 449
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 450,
            column: 53
          },
          end: {
            line: 450,
            column: 54
          }
        },
        loc: {
          start: {
            line: 450,
            column: 65
          },
          end: {
            line: 531,
            column: 13
          }
        },
        line: 450
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 522,
            column: 52
          },
          end: {
            line: 522,
            column: 53
          }
        },
        loc: {
          start: {
            line: 522,
            column: 61
          },
          end: {
            line: 526,
            column: 21
          }
        },
        line: 522
      },
      "23": {
        name: "DELETE",
        decl: {
          start: {
            line: 569,
            column: 15
          },
          end: {
            line: 569,
            column: 21
          }
        },
        loc: {
          start: {
            line: 569,
            column: 39
          },
          end: {
            line: 647,
            column: 1
          }
        },
        line: 569
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 588,
            column: 52
          },
          end: {
            line: 588,
            column: 53
          }
        },
        loc: {
          start: {
            line: 588,
            column: 62
          },
          end: {
            line: 617,
            column: 9
          }
        },
        line: 588
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 589,
            column: 53
          },
          end: {
            line: 589,
            column: 54
          }
        },
        loc: {
          start: {
            line: 589,
            column: 65
          },
          end: {
            line: 613,
            column: 13
          }
        },
        line: 589
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 67,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 67,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 64
      },
      "1": {
        loc: {
          start: {
            line: 69,
            column: 4
          },
          end: {
            line: 77,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 69,
            column: 4
          },
          end: {
            line: 77,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 69
      },
      "2": {
        loc: {
          start: {
            line: 83,
            column: 8
          },
          end: {
            line: 89,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 83,
            column: 8
          },
          end: {
            line: 89,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 83
      },
      "3": {
        loc: {
          start: {
            line: 109,
            column: 16
          },
          end: {
            line: 111,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 109,
            column: 16
          },
          end: {
            line: 111,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 109
      },
      "4": {
        loc: {
          start: {
            line: 127,
            column: 33
          },
          end: {
            line: 127,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 127,
            column: 33
          },
          end: {
            line: 127,
            column: 49
          }
        }, {
          start: {
            line: 127,
            column: 53
          },
          end: {
            line: 127,
            column: 55
          }
        }],
        line: 127
      },
      "5": {
        loc: {
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 143,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 143,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 135
      },
      "6": {
        loc: {
          start: {
            line: 166,
            column: 4
          },
          end: {
            line: 169,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 166,
            column: 4
          },
          end: {
            line: 169,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 166
      },
      "7": {
        loc: {
          start: {
            line: 171,
            column: 4
          },
          end: {
            line: 179,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 171,
            column: 4
          },
          end: {
            line: 179,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 171
      },
      "8": {
        loc: {
          start: {
            line: 183,
            column: 8
          },
          end: {
            line: 194,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 183,
            column: 8
          },
          end: {
            line: 194,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 183
      },
      "9": {
        loc: {
          start: {
            line: 183,
            column: 12
          },
          end: {
            line: 186,
            column: 26
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 183,
            column: 12
          },
          end: {
            line: 183,
            column: 19
          }
        }, {
          start: {
            line: 183,
            column: 23
          },
          end: {
            line: 186,
            column: 26
          }
        }],
        line: 183
      },
      "10": {
        loc: {
          start: {
            line: 212,
            column: 16
          },
          end: {
            line: 214,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 212,
            column: 16
          },
          end: {
            line: 214,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 212
      },
      "11": {
        loc: {
          start: {
            line: 215,
            column: 16
          },
          end: {
            line: 217,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 215,
            column: 16
          },
          end: {
            line: 217,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 215
      },
      "12": {
        loc: {
          start: {
            line: 218,
            column: 16
          },
          end: {
            line: 341,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 218,
            column: 16
          },
          end: {
            line: 341,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 218
      },
      "13": {
        loc: {
          start: {
            line: 228,
            column: 24
          },
          end: {
            line: 230,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 228,
            column: 24
          },
          end: {
            line: 230,
            column: 25
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 228
      },
      "14": {
        loc: {
          start: {
            line: 228,
            column: 28
          },
          end: {
            line: 228,
            column: 88
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 228,
            column: 28
          },
          end: {
            line: 228,
            column: 44
          }
        }, {
          start: {
            line: 228,
            column: 48
          },
          end: {
            line: 228,
            column: 88
          }
        }],
        line: 228
      },
      "15": {
        loc: {
          start: {
            line: 232,
            column: 52
          },
          end: {
            line: 232,
            column: 89
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 232,
            column: 52
          },
          end: {
            line: 232,
            column: 84
          }
        }, {
          start: {
            line: 232,
            column: 88
          },
          end: {
            line: 232,
            column: 89
          }
        }],
        line: 232
      },
      "16": {
        loc: {
          start: {
            line: 256,
            column: 52
          },
          end: {
            line: 256,
            column: 90
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 256,
            column: 52
          },
          end: {
            line: 256,
            column: 85
          }
        }, {
          start: {
            line: 256,
            column: 89
          },
          end: {
            line: 256,
            column: 90
          }
        }],
        line: 256
      },
      "17": {
        loc: {
          start: {
            line: 264,
            column: 24
          },
          end: {
            line: 291,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 264,
            column: 24
          },
          end: {
            line: 291,
            column: 25
          }
        }, {
          start: {
            line: 274,
            column: 31
          },
          end: {
            line: 291,
            column: 25
          }
        }],
        line: 264
      },
      "18": {
        loc: {
          start: {
            line: 277,
            column: 52
          },
          end: {
            line: 277,
            column: 87
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 277,
            column: 52
          },
          end: {
            line: 277,
            column: 82
          }
        }, {
          start: {
            line: 277,
            column: 86
          },
          end: {
            line: 277,
            column: 87
          }
        }],
        line: 277
      },
      "19": {
        loc: {
          start: {
            line: 283,
            column: 28
          },
          end: {
            line: 285,
            column: 29
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 283,
            column: 28
          },
          end: {
            line: 285,
            column: 29
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 283
      },
      "20": {
        loc: {
          start: {
            line: 294,
            column: 20
          },
          end: {
            line: 308,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 294,
            column: 20
          },
          end: {
            line: 308,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 294
      },
      "21": {
        loc: {
          start: {
            line: 319,
            column: 24
          },
          end: {
            line: 329,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 319,
            column: 24
          },
          end: {
            line: 329,
            column: 25
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 319
      },
      "22": {
        loc: {
          start: {
            line: 322,
            column: 61
          },
          end: {
            line: 322,
            column: 86
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 322,
            column: 61
          },
          end: {
            line: 322,
            column: 81
          }
        }, {
          start: {
            line: 322,
            column: 85
          },
          end: {
            line: 322,
            column: 86
          }
        }],
        line: 322
      },
      "23": {
        loc: {
          start: {
            line: 324,
            column: 46
          },
          end: {
            line: 324,
            column: 96
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 324,
            column: 66
          },
          end: {
            line: 324,
            column: 92
          }
        }, {
          start: {
            line: 324,
            column: 95
          },
          end: {
            line: 324,
            column: 96
          }
        }],
        line: 324
      },
      "24": {
        loc: {
          start: {
            line: 348,
            column: 32
          },
          end: {
            line: 348,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 348,
            column: 56
          },
          end: {
            line: 348,
            column: 67
          }
        }, {
          start: {
            line: 348,
            column: 70
          },
          end: {
            line: 348,
            column: 81
          }
        }],
        line: 348
      },
      "25": {
        loc: {
          start: {
            line: 357,
            column: 8
          },
          end: {
            line: 365,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 357,
            column: 8
          },
          end: {
            line: 365,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 357
      },
      "26": {
        loc: {
          start: {
            line: 378,
            column: 31
          },
          end: {
            line: 378,
            column: 57
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 378,
            column: 31
          },
          end: {
            line: 378,
            column: 43
          }
        }, {
          start: {
            line: 378,
            column: 47
          },
          end: {
            line: 378,
            column: 57
          }
        }],
        line: 378
      },
      "27": {
        loc: {
          start: {
            line: 382,
            column: 19
          },
          end: {
            line: 382,
            column: 87
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 382,
            column: 44
          },
          end: {
            line: 382,
            column: 57
          }
        }, {
          start: {
            line: 382,
            column: 60
          },
          end: {
            line: 382,
            column: 87
          }
        }],
        line: 382
      },
      "28": {
        loc: {
          start: {
            line: 392,
            column: 4
          },
          end: {
            line: 395,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 392,
            column: 4
          },
          end: {
            line: 395,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 392
      },
      "29": {
        loc: {
          start: {
            line: 397,
            column: 4
          },
          end: {
            line: 405,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 397,
            column: 4
          },
          end: {
            line: 405,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 397
      },
      "30": {
        loc: {
          start: {
            line: 410,
            column: 8
          },
          end: {
            line: 418,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 410,
            column: 8
          },
          end: {
            line: 418,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 410
      },
      "31": {
        loc: {
          start: {
            line: 410,
            column: 12
          },
          end: {
            line: 410,
            column: 82
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 410,
            column: 12
          },
          end: {
            line: 410,
            column: 25
          }
        }, {
          start: {
            line: 410,
            column: 29
          },
          end: {
            line: 410,
            column: 47
          }
        }, {
          start: {
            line: 410,
            column: 51
          },
          end: {
            line: 410,
            column: 57
          }
        }, {
          start: {
            line: 410,
            column: 61
          },
          end: {
            line: 410,
            column: 82
          }
        }],
        line: 410
      },
      "32": {
        loc: {
          start: {
            line: 419,
            column: 8
          },
          end: {
            line: 427,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 419,
            column: 8
          },
          end: {
            line: 427,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 419
      },
      "33": {
        loc: {
          start: {
            line: 428,
            column: 8
          },
          end: {
            line: 436,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 428,
            column: 8
          },
          end: {
            line: 436,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 428
      },
      "34": {
        loc: {
          start: {
            line: 439,
            column: 12
          },
          end: {
            line: 447,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 439,
            column: 12
          },
          end: {
            line: 447,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 439
      },
      "35": {
        loc: {
          start: {
            line: 439,
            column: 16
          },
          end: {
            line: 439,
            column: 71
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 439,
            column: 16
          },
          end: {
            line: 439,
            column: 31
          }
        }, {
          start: {
            line: 439,
            column: 35
          },
          end: {
            line: 439,
            column: 49
          }
        }, {
          start: {
            line: 439,
            column: 53
          },
          end: {
            line: 439,
            column: 71
          }
        }],
        line: 439
      },
      "36": {
        loc: {
          start: {
            line: 457,
            column: 16
          },
          end: {
            line: 459,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 457,
            column: 16
          },
          end: {
            line: 459,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 457
      },
      "37": {
        loc: {
          start: {
            line: 460,
            column: 16
          },
          end: {
            line: 462,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 460,
            column: 16
          },
          end: {
            line: 462,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 460
      },
      "38": {
        loc: {
          start: {
            line: 474,
            column: 16
          },
          end: {
            line: 476,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 474,
            column: 16
          },
          end: {
            line: 476,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 474
      },
      "39": {
        loc: {
          start: {
            line: 474,
            column: 20
          },
          end: {
            line: 474,
            column: 51
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 474,
            column: 20
          },
          end: {
            line: 474,
            column: 31
          }
        }, {
          start: {
            line: 474,
            column: 35
          },
          end: {
            line: 474,
            column: 51
          }
        }],
        line: 474
      },
      "40": {
        loc: {
          start: {
            line: 485,
            column: 20
          },
          end: {
            line: 493,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 485,
            column: 20
          },
          end: {
            line: 493,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 485
      },
      "41": {
        loc: {
          start: {
            line: 491,
            column: 44
          },
          end: {
            line: 491,
            column: 99
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 491,
            column: 54
          },
          end: {
            line: 491,
            column: 66
          }
        }, {
          start: {
            line: 491,
            column: 69
          },
          end: {
            line: 491,
            column: 99
          }
        }],
        line: 491
      },
      "42": {
        loc: {
          start: {
            line: 494,
            column: 20
          },
          end: {
            line: 502,
            column: 21
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 494,
            column: 20
          },
          end: {
            line: 502,
            column: 21
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 494
      },
      "43": {
        loc: {
          start: {
            line: 500,
            column: 44
          },
          end: {
            line: 500,
            column: 99
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 500,
            column: 54
          },
          end: {
            line: 500,
            column: 66
          }
        }, {
          start: {
            line: 500,
            column: 69
          },
          end: {
            line: 500,
            column: 99
          }
        }],
        line: 500
      },
      "44": {
        loc: {
          start: {
            line: 536,
            column: 8
          },
          end: {
            line: 544,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 536,
            column: 8
          },
          end: {
            line: 544,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 536
      },
      "45": {
        loc: {
          start: {
            line: 563,
            column: 19
          },
          end: {
            line: 563,
            column: 87
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 563,
            column: 44
          },
          end: {
            line: 563,
            column: 57
          }
        }, {
          start: {
            line: 563,
            column: 60
          },
          end: {
            line: 563,
            column: 87
          }
        }],
        line: 563
      },
      "46": {
        loc: {
          start: {
            line: 573,
            column: 4
          },
          end: {
            line: 576,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 573,
            column: 4
          },
          end: {
            line: 576,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 573
      },
      "47": {
        loc: {
          start: {
            line: 578,
            column: 4
          },
          end: {
            line: 586,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 578,
            column: 4
          },
          end: {
            line: 586,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 578
      },
      "48": {
        loc: {
          start: {
            line: 596,
            column: 16
          },
          end: {
            line: 598,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 596,
            column: 16
          },
          end: {
            line: 598,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 596
      },
      "49": {
        loc: {
          start: {
            line: 599,
            column: 16
          },
          end: {
            line: 601,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 599,
            column: 16
          },
          end: {
            line: 601,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 599
      },
      "50": {
        loc: {
          start: {
            line: 618,
            column: 8
          },
          end: {
            line: 626,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 618,
            column: 8
          },
          end: {
            line: 626,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 618
      },
      "51": {
        loc: {
          start: {
            line: 642,
            column: 19
          },
          end: {
            line: 642,
            column: 87
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 642,
            column: 44
          },
          end: {
            line: 642,
            column: 57
          }
        }, {
          start: {
            line: 642,
            column: 60
          },
          end: {
            line: 642,
            column: 87
          }
        }],
        line: 642
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0,
      "133": 0,
      "134": 0,
      "135": 0,
      "136": 0,
      "137": 0,
      "138": 0,
      "139": 0,
      "140": 0,
      "141": 0,
      "142": 0,
      "143": 0,
      "144": 0,
      "145": 0,
      "146": 0,
      "147": 0,
      "148": 0,
      "149": 0,
      "150": 0,
      "151": 0,
      "152": 0,
      "153": 0,
      "154": 0,
      "155": 0,
      "156": 0,
      "157": 0,
      "158": 0,
      "159": 0,
      "160": 0,
      "161": 0,
      "162": 0,
      "163": 0,
      "164": 0,
      "165": 0,
      "166": 0,
      "167": 0,
      "168": 0,
      "169": 0,
      "170": 0,
      "171": 0,
      "172": 0,
      "173": 0,
      "174": 0,
      "175": 0,
      "176": 0,
      "177": 0,
      "178": 0,
      "179": 0,
      "180": 0,
      "181": 0,
      "182": 0,
      "183": 0,
      "184": 0,
      "185": 0,
      "186": 0,
      "187": 0,
      "188": 0,
      "189": 0,
      "190": 0,
      "191": 0,
      "192": 0,
      "193": 0,
      "194": 0,
      "195": 0,
      "196": 0,
      "197": 0,
      "198": 0,
      "199": 0,
      "200": 0,
      "201": 0,
      "202": 0,
      "203": 0,
      "204": 0,
      "205": 0,
      "206": 0,
      "207": 0,
      "208": 0,
      "209": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0, 0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0],
      "43": [0, 0],
      "44": [0, 0],
      "45": [0, 0],
      "46": [0, 0],
      "47": [0, 0],
      "48": [0, 0],
      "49": [0, 0],
      "50": [0, 0],
      "51": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/sachin/Documents/md-sports-/src/app/api/inventory/transfers/[id]/route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { requirePermission } from '@/lib/utils/middleware';\nimport { prisma, safeQuery } from '@/lib/prisma';\nimport { transferCacheService, TRANSFER_CACHE_CONFIG } from '@/lib/transferCache';\nimport { trackTransferOperation } from '@/lib/transferPerformanceMonitor';\nimport { deduplicateRequest } from '@/lib/request-deduplication';\n\n// Default fallback data for a transfer\nfunction getDefaultTransfer(id: number) {\n    return {\n        id,\n        status: 'pending',\n        created_at: new Date().toISOString(),\n        completed_at: null,\n        source_shop_id: 0,\n        destination_shop_id: 0,\n        source_shop_name: 'Unknown Shop',\n        destination_shop_name: 'Unknown Shop',\n        initiated_by: 'Unknown User',\n        items: []\n    };\n}\n\n// Default fallback data for transfers list\nconst defaultTransfersData = [\n    {\n        id: 1,\n        status: 'pending',\n        created_at: new Date().toISOString(),\n        completed_at: null,\n        source_shop_name: 'Main Store',\n        destination_shop_name: 'Branch Store',\n        initiated_by: 'System',\n        item_count: 0,\n        total_items: 0\n    }\n];\n\n// GET: Fetch a specific inventory transfer by ID\nexport async function GET(\n    req: NextRequest,\n    { params }: { params: { id: string } }\n) {\n    const operation = trackTransferOperation('detail');\n\n    // Check for inventory:view permission\n    const permissionError = await requirePermission('inventory:view')(req);\n    if (permissionError) {\n        operation.end(false, 'unauthorized');\n        return permissionError;\n    }\n\n    const id = parseInt(params.id);\n    if (isNaN(id)) {\n        operation.end(false, 'invalid_id');\n        return NextResponse.json({\n            success: false,\n            error: 'Invalid transfer ID'\n        }, { status: 400 });\n    }\n\n    try {\n        // Generate cache key\n        const cacheKey = `${TRANSFER_CACHE_CONFIG.KEYS.TRANSFER_DETAIL}:${params.id}`;\n\n        // Try to get from cache first\n        const cached = await transferCacheService.get(cacheKey);\n        if (cached) {\n            operation.end(true, undefined, true);\n            return NextResponse.json({\n                success: true,\n                data: cached\n            });\n        }\n\n        // Use request deduplication\n        const transfer = await deduplicateRequest(\n            async () => {\n                return await safeQuery(\n                    async () => {\n                        // Get transfer details with related data\n                        const transferData = await prisma.inventoryTransfer.findUnique({\n                            where: { id },\n                            include: {\n                                fromShop: true,\n                                toShop: true,\n                                fromUser: true,\n                                transferItems: {\n                                    include: {\n                                        product: true\n                                    }\n                                }\n                            }\n                        });\n\n                        if (!transferData) {\n                            return null;\n                        }\n\n                        // Format the transfer data to match the expected format\n                        return {\n                            id: transferData.id,\n                            status: transferData.status,\n                            created_at: transferData.createdAt.toISOString(),\n                            completed_at: null, // This field isn't in the Prisma schema\n                            source_shop_id: transferData.fromShopId,\n                            destination_shop_id: transferData.toShopId,\n                            source_shop_name: transferData.fromShop.name,\n                            destination_shop_name: transferData.toShop.name,\n                            initiated_by: transferData.fromUser.name,\n                            items: transferData.transferItems.map(item => ({\n                                id: item.id,\n                                product_id: item.productId,\n                                product_name: item.product.name,\n                                sku: item.product.sku || '',\n                                quantity: item.quantity,\n                                notes: null, // This field isn't in the Prisma schema\n                                price: item.product.price.toString()\n                            }))\n                        };\n                    },\n                    getDefaultTransfer(id),\n                    `Failed to fetch transfer with ID ${id}`\n                );\n            },\n            `/api/inventory/transfers/${params.id}`\n        );\n\n        if (!transfer) {\n            operation.end(false, 'not_found');\n            return NextResponse.json({\n                success: false,\n                error: 'Transfer not found'\n            }, { status: 404 });\n        }\n\n        // Cache the result\n        await transferCacheService.set(cacheKey, transfer);\n\n        operation.end(true, undefined, false);\n        return NextResponse.json({\n            success: true,\n            data: transfer\n        });\n    } catch (error) {\n        console.error(`Error fetching transfer ${id}:`, error);\n        operation.end(false, 'fetch_error');\n        return NextResponse.json({\n            success: false,\n            error: 'Failed to fetch transfer'\n        }, { status: 500 });\n    }\n}\n\n// PATCH: Update a transfer (complete, cancel)\nexport async function PATCH(\n    req: NextRequest,\n    { params }: { params: { id: string } }\n) {\n    const operation = trackTransferOperation('complete');\n\n    // Check for inventory:transfer permission\n    const permissionError = await requirePermission('inventory:transfer')(req);\n    if (permissionError) {\n        operation.end(false, 'unauthorized');\n        return permissionError;\n    }\n\n    const id = parseInt(params.id);\n    if (isNaN(id)) {\n        operation.end(false, 'invalid_id');\n        return NextResponse.json({\n            success: false,\n            error: 'Invalid transfer ID'\n        }, { status: 400 });\n    }\n\n    try {\n        const body = await req.json();\n        const { action } = body;\n\n        if (!action || !['complete', 'cancel'].includes(action)) {\n            operation.end(false, 'invalid_action');\n            return NextResponse.json({\n                success: false,\n                error: 'Invalid action. Must be \"complete\" or \"cancel\"'\n            }, { status: 400 });\n        }\n\n        const result = await safeQuery(\n            async () => {\n                return await prisma.$transaction(\n                    async (tx) => {\n                        // Declare affectedProductIds before using it\n                        const affectedProductIds = new Set<number>();\n\n                        // Get transfer with items\n                        const transfer = await tx.inventoryTransfer.findUnique({\n                            where: { id },\n                            include: {\n                                transferItems: {\n                                    include: {\n                                        product: true\n                                    }\n                                }\n                            }\n                        });\n\n                        if (!transfer) {\n                            throw new Error('Transfer not found');\n                        }\n\n                        if (transfer.status !== 'pending') {\n                            throw new Error(`Cannot ${action} a transfer that is not in pending status`);\n                        }\n\n                        if (action === 'complete') {\n\n                            // Process each transfer item for completion\n                            for (const item of transfer.transferItems) {\n                                // Check source inventory\n                                const sourceInventory = await tx.inventoryItem.findFirst({\n                                    where: {\n                                        shopId: transfer.fromShopId,\n                                        productId: item.productId\n                                    }\n                                });\n\n                                if (!sourceInventory || sourceInventory.quantity < item.quantity) {\n                                    throw new Error(`Insufficient inventory for product ID ${item.productId} in source shop`);\n                                }\n\n                                // Get the shop-specific cost from source inventory\n                                const transferCostPerUnit = sourceInventory.shopSpecificCost || 0;\n\n                                // Update source inventory (decrease quantity)\n                                await tx.inventoryItem.update({\n                                    where: { id: sourceInventory.id },\n                                    data: {\n                                        quantity: sourceInventory.quantity - item.quantity,\n                                        updatedAt: new Date()\n                                    }\n                                });\n\n                                // Collect items for batch processing\n                                affectedProductIds.add(item.productId);\n                            }\n\n                            // Batch process inventory updates\n                            const inventoryUpdates: Array<{\n                                productId: number;\n                                quantity: number;\n                                cost: number;\n                            }> = [];\n\n                            for (const item of transfer.transferItems) {\n                                // Get the shop-specific cost from source inventory\n                                const sourceInventory = await tx.inventoryItem.findFirst({\n                                    where: {\n                                        shopId: transfer.fromShopId,\n                                        productId: item.productId\n                                    }\n                                });\n                                const transferCostPerUnit = sourceInventory?.shopSpecificCost || 0;\n\n                                // Check if destination already has this product\n                                const destInventory = await tx.inventoryItem.findFirst({\n                                    where: {\n                                        shopId: transfer.toShopId,\n                                        productId: item.productId\n                                    }\n                                });\n\n                                if (!destInventory) {\n                                    // Create new inventory item at destination\n                                    await tx.inventoryItem.create({\n                                        data: {\n                                            shopId: transfer.toShopId,\n                                            productId: item.productId,\n                                            quantity: item.quantity,\n                                            shopSpecificCost: transferCostPerUnit\n                                        }\n                                    });\n                                } else {\n                                    // Calculate new WAC for destination shop using weighted average\n                                    const currentDestQuantity = destInventory.quantity;\n                                    const currentDestCost = destInventory.shopSpecificCost || 0;\n                                    const transferQuantity = item.quantity;\n\n                                    const currentTotalValue = currentDestQuantity * currentDestCost;\n                                    const transferTotalValue = transferQuantity * transferCostPerUnit;\n                                    const newTotalQuantity = currentDestQuantity + transferQuantity;\n\n                                    let newShopSpecificCost = 0;\n                                    if (newTotalQuantity > 0) {\n                                        newShopSpecificCost = (currentTotalValue + transferTotalValue) / newTotalQuantity;\n                                    }\n\n                                    inventoryUpdates.push({\n                                        productId: item.productId,\n                                        quantity: item.quantity,\n                                        cost: newShopSpecificCost\n                                    });\n                                }\n                            }\n\n                            // Batch update existing inventory items\n                            if (inventoryUpdates.length > 0) {\n                                await Promise.all(\n                                    inventoryUpdates.map(update =>\n                                        tx.inventoryItem.updateMany({\n                                            where: {\n                                                shopId: transfer.toShopId,\n                                                productId: update.productId\n                                            },\n                                            data: {\n                                                quantity: { increment: update.quantity },\n                                                shopSpecificCost: update.cost,\n                                                updatedAt: new Date()\n                                            }\n                                        })\n                                    )\n                                );\n                            }\n\n                            // Batch recalculate global weighted average costs\n                            const wacUpdates = await Promise.all(\n                                Array.from(affectedProductIds).map(async (productId) => {\n                                    const allInventoryAfterTransfer = await tx.inventoryItem.findMany({\n                                        where: {\n                                            productId,\n                                            quantity: { gt: 0 } // Only consider inventories with stock\n                                        }\n                                    });\n\n                                    if (allInventoryAfterTransfer.length > 0) {\n                                        const totalQuantity = allInventoryAfterTransfer.reduce((sum, inv) => sum + inv.quantity, 0);\n                                        const totalValue = allInventoryAfterTransfer.reduce((sum, inv) => {\n                                            return sum + (inv.quantity * (inv.shopSpecificCost || 0));\n                                        }, 0);\n\n                                        const globalWAC = totalQuantity > 0 ? totalValue / totalQuantity : 0;\n                                        return { productId, globalWAC };\n                                    }\n                                    return null;\n                                })\n                            );\n\n                            // Update global WAC for all affected products\n                            await Promise.all(\n                                wacUpdates\n                                    .filter(update => update !== null)\n                                    .map(update =>\n                                        tx.product.update({\n                                            where: { id: update!.productId },\n                                            data: { weightedAverageCost: update!.globalWAC }\n                                        })\n                                    )\n                            );\n                        }\n\n                        // Update transfer status\n                        return await tx.inventoryTransfer.update({\n                            where: { id },\n                            data: {\n                                status: action === 'complete' ? 'completed' : 'cancelled',\n                                updatedAt: new Date()\n                            }\n                        });\n                    },\n                    { timeout: 30000 } // 30-second timeout\n                );\n            },\n            null,\n            `Failed to ${action} transfer`\n        );\n\n        if (!result) {\n            operation.end(false, 'update_failed');\n            return NextResponse.json({\n                success: false,\n                error: `Failed to ${action} transfer`\n            }, { status: 500 });\n        }\n\n        // Invalidate relevant caches\n        await transferCacheService.invalidateTransferCache(params.id, [result.fromShopId, result.toShopId]);\n\n        operation.end(true);\n        return NextResponse.json({\n            success: true,\n            message: `Transfer ${action}d successfully`,\n            data: result\n        });\n    } catch (error) {\n        console.error(`Error ${body?.action || 'updating'} transfer ${id}:`, error);\n        operation.end(false, 'update_error');\n        return NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : `Failed to update transfer`\n        }, { status: 500 });\n    }\n}\n\n// PUT: Update a transfer (only if pending)\nexport async function PUT(\n    req: NextRequest,\n    { params }: { params: { id: string } }\n) {\n    const operation = trackTransferOperation('update');\n\n    // Check for inventory:transfer permission\n    const permissionError = await requirePermission('inventory:transfer')(req);\n    if (permissionError) {\n        operation.end(false, 'unauthorized');\n        return permissionError;\n    }\n\n    const id = parseInt(params.id);\n    if (isNaN(id)) {\n        operation.end(false, 'invalid_id');\n        return NextResponse.json({\n            success: false,\n            error: 'Invalid transfer ID'\n        }, { status: 400 });\n    }\n\n    try {\n        const body = await req.json();\n        const { sourceShopId, destinationShopId, items } = body;\n\n        // Validate input\n        if (!sourceShopId || !destinationShopId || !items || !Array.isArray(items)) {\n            operation.end(false, 'invalid_input');\n            return NextResponse.json({\n                success: false,\n                error: 'Missing required fields'\n            }, { status: 400 });\n        }\n\n        if (sourceShopId === destinationShopId) {\n            operation.end(false, 'same_shop');\n            return NextResponse.json({\n                success: false,\n                error: 'Source and destination shops cannot be the same'\n            }, { status: 400 });\n        }\n\n        if (items.length === 0) {\n            operation.end(false, 'no_items');\n            return NextResponse.json({\n                success: false,\n                error: 'At least one item is required'\n            }, { status: 400 });\n        }\n\n        // Validate items\n        for (const item of items) {\n            if (!item.productId || !item.quantity || item.quantity <= 0) {\n                operation.end(false, 'invalid_item');\n                return NextResponse.json({\n                    success: false,\n                    error: 'Invalid item data'\n                }, { status: 400 });\n            }\n        }\n\n        const result = await safeQuery(\n            async () => {\n                return await prisma.$transaction(\n                    async (tx) => {\n                        // Check if transfer exists and is pending\n                        const existingTransfer = await tx.inventoryTransfer.findUnique({\n                            where: { id }\n                        });\n\n                        if (!existingTransfer) {\n                            throw new Error('Transfer not found');\n                        }\n\n                        if (existingTransfer.status !== 'pending') {\n                            throw new Error('Only pending transfers can be edited');\n                        }\n\n                        // Verify shops exist\n                        const sourceShop = await tx.shop.findUnique({ where: { id: sourceShopId } });\n                        const destinationShop = await tx.shop.findUnique({ where: { id: destinationShopId } });\n\n                        if (!sourceShop || !destinationShop) {\n                            throw new Error('Invalid shop selection');\n                        }\n\n                        // Verify products exist and have sufficient stock\n                        for (const item of items) {\n                            const inventory = await tx.inventoryItem.findFirst({\n                                where: {\n                                    productId: item.productId,\n                                    shopId: sourceShopId\n                                }\n                            });\n\n                            if (!inventory) {\n                                const product = await tx.product.findUnique({ where: { id: item.productId } });\n                                const productName = product ? product.name : `Product ID ${item.productId}`;\n                                throw new Error(`Product \"${productName}\" not found in source shop`);\n                            }\n\n                            if (inventory.quantity < item.quantity) {\n                                const product = await tx.product.findUnique({ where: { id: item.productId } });\n                                const productName = product ? product.name : `Product ID ${item.productId}`;\n                                throw new Error(`Insufficient stock for \"${productName}\". Available: ${inventory.quantity}, Requested: ${item.quantity}`);\n                            }\n                        }\n\n                        // Update transfer\n                        const updatedTransfer = await tx.inventoryTransfer.update({\n                            where: { id },\n                            data: {\n                                fromShopId: sourceShopId,\n                                toShopId: destinationShopId,\n                                updatedAt: new Date()\n                            }\n                        });\n\n                        // Delete existing transfer items\n                        await tx.transferItem.deleteMany({\n                            where: { transferId: id }\n                        });\n\n                        // Insert new transfer items\n                        const transferItemsData = items.map((item: any) => ({\n                            transferId: id,\n                            productId: item.productId,\n                            quantity: item.quantity\n                        }));\n\n                        await tx.transferItem.createMany({\n                            data: transferItemsData\n                        });\n\n                        return updatedTransfer;\n                    },\n                    { timeout: 30000 } // 30-second timeout\n                );\n            },\n            null,\n            'Failed to update transfer'\n        );\n\n        if (!result) {\n            operation.end(false, 'update_failed');\n            return NextResponse.json({\n                success: false,\n                error: 'Failed to update transfer'\n            }, { status: 500 });\n        }\n\n        // Invalidate relevant caches\n        await transferCacheService.invalidateTransferCache(params.id, [result.fromShopId, result.toShopId]);\n\n        operation.end(true);\n        return NextResponse.json({\n            success: true,\n            message: 'Transfer updated successfully',\n            data: { id }\n        });\n    } catch (error) {\n        console.error(`Error updating transfer ${id}:`, error);\n        operation.end(false, 'update_error');\n        return NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to update transfer'\n        }, { status: 500 });\n    }\n}\n\n// DELETE: Delete a transfer (only if pending)\nexport async function DELETE(\n    req: NextRequest,\n    { params }: { params: { id: string } }\n) {\n    const operation = trackTransferOperation('cancel');\n\n    // Check for inventory:transfer permission\n    const permissionError = await requirePermission('inventory:transfer')(req);\n    if (permissionError) {\n        operation.end(false, 'unauthorized');\n        return permissionError;\n    }\n\n    const id = parseInt(params.id);\n    if (isNaN(id)) {\n        operation.end(false, 'invalid_id');\n        return NextResponse.json({\n            success: false,\n            error: 'Invalid transfer ID'\n        }, { status: 400 });\n    }\n\n    try {\n        const result = await safeQuery(\n            async () => {\n                return await prisma.$transaction(\n                    async (tx) => {\n                        // Get transfer to check status\n                        const transfer = await tx.inventoryTransfer.findUnique({\n                            where: { id }\n                        });\n\n                        if (!transfer) {\n                            throw new Error('Transfer not found');\n                        }\n\n                        if (transfer.status !== 'pending') {\n                            throw new Error('Only pending transfers can be deleted');\n                        }\n\n                        // Delete transfer items and the transfer itself\n                        await tx.transferItem.deleteMany({\n                            where: { transferId: id }\n                        });\n\n                        return await tx.inventoryTransfer.delete({\n                            where: { id }\n                        });\n                    },\n                    { timeout: 30000 } // 30-second timeout\n                );\n            },\n            null,\n            'Failed to delete transfer'\n        );\n\n        if (!result) {\n            operation.end(false, 'delete_failed');\n            return NextResponse.json({\n                success: false,\n                error: 'Failed to delete transfer'\n            }, { status: 500 });\n        }\n\n        // Invalidate relevant caches\n        await transferCacheService.invalidateTransferCache(params.id, [result.fromShopId, result.toShopId]);\n\n        operation.end(true);\n        return NextResponse.json({\n            success: true,\n            message: 'Transfer deleted successfully'\n        });\n    } catch (error) {\n        console.error(`Error deleting transfer ${id}:`, error);\n        operation.end(false, 'delete_error');\n        return NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to delete transfer'\n        }, { status: 500 });\n    }\n}"],
      names: ["DELETE", "GET", "PATCH", "PUT", "getDefaultTransfer", "id", "status", "created_at", "Date", "toISOString", "completed_at", "source_shop_id", "destination_shop_id", "source_shop_name", "destination_shop_name", "initiated_by", "items", "defaultTransfersData", "item_count", "total_items", "req", "params", "operation", "trackTransferOperation", "permissionError", "requirePermission", "end", "parseInt", "isNaN", "NextResponse", "json", "success", "error", "cacheKey", "TRANSFER_CACHE_CONFIG", "KEYS", "TRANSFER_DETAIL", "cached", "transferCacheService", "get", "undefined", "data", "transfer", "deduplicateRequest", "safeQuery", "transferData", "prisma", "inventoryTransfer", "findUnique", "where", "include", "fromShop", "toShop", "fromUser", "transferItems", "product", "createdAt", "fromShopId", "toShopId", "name", "map", "item", "product_id", "productId", "product_name", "sku", "quantity", "notes", "price", "toString", "set", "console", "body", "action", "includes", "result", "$transaction", "tx", "affectedProductIds", "Set", "Error", "sourceInventory", "inventoryItem", "findFirst", "shopId", "transferCostPerUnit", "shopSpecificCost", "update", "updatedAt", "add", "inventoryUpdates", "destInventory", "create", "currentDestQuantity", "currentDestCost", "transferQuantity", "currentTotalValue", "transferTotalValue", "newTotalQuantity", "newShopSpecificCost", "push", "cost", "length", "Promise", "all", "updateMany", "increment", "wacUpdates", "Array", "from", "allInventoryAfterTransfer", "findMany", "gt", "totalQuantity", "reduce", "sum", "inv", "totalValue", "globalWAC", "filter", "weightedAverageCost", "timeout", "invalidateTransferCache", "message", "sourceShopId", "destinationShopId", "isArray", "existingTransfer", "sourceShop", "shop", "destinationShop", "inventory", "productName", "updatedTransfer", "transferItem", "deleteMany", "transferId", "transferItemsData", "createMany", "delete"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "fae11e6e97f3ec1e79b27414c4497eb8a7d20613"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2ng7jnwm2g = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2ng7jnwm2g();
cov_2ng7jnwm2g().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_2ng7jnwm2g().f[0]++;
  cov_2ng7jnwm2g().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: all[name]
    });
  }
}
/* istanbul ignore next */
cov_2ng7jnwm2g().s[3]++;
_export(exports, {
  DELETE: function () {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().f[1]++;
    cov_2ng7jnwm2g().s[4]++;
    return DELETE;
  },
  GET: function () {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().f[2]++;
    cov_2ng7jnwm2g().s[5]++;
    return GET;
  },
  PATCH: function () {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().f[3]++;
    cov_2ng7jnwm2g().s[6]++;
    return PATCH;
  },
  PUT: function () {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().f[4]++;
    cov_2ng7jnwm2g().s[7]++;
    return PUT;
  }
});
const _server =
/* istanbul ignore next */
(cov_2ng7jnwm2g().s[8]++, require("next/server"));
const _middleware =
/* istanbul ignore next */
(cov_2ng7jnwm2g().s[9]++, require("../../../../../lib/utils/middleware"));
const _prisma =
/* istanbul ignore next */
(cov_2ng7jnwm2g().s[10]++, require("../../../../../lib/prisma"));
const _transferCache =
/* istanbul ignore next */
(cov_2ng7jnwm2g().s[11]++, require("../../../../../lib/transferCache"));
const _transferPerformanceMonitor =
/* istanbul ignore next */
(cov_2ng7jnwm2g().s[12]++, require("../../../../../lib/transferPerformanceMonitor"));
const _requestdeduplication =
/* istanbul ignore next */
(cov_2ng7jnwm2g().s[13]++, require("../../../../../lib/request-deduplication"));
// Default fallback data for a transfer
function getDefaultTransfer(id) {
  /* istanbul ignore next */
  cov_2ng7jnwm2g().f[5]++;
  cov_2ng7jnwm2g().s[14]++;
  return {
    id,
    status: "pending",
    created_at: new Date().toISOString(),
    completed_at: null,
    source_shop_id: 0,
    destination_shop_id: 0,
    source_shop_name: "Unknown Shop",
    destination_shop_name: "Unknown Shop",
    initiated_by: "Unknown User",
    items: []
  };
}
// Default fallback data for transfers list
const defaultTransfersData =
/* istanbul ignore next */
(cov_2ng7jnwm2g().s[15]++, [{
  id: 1,
  status: "pending",
  created_at: new Date().toISOString(),
  completed_at: null,
  source_shop_name: "Main Store",
  destination_shop_name: "Branch Store",
  initiated_by: "System",
  item_count: 0,
  total_items: 0
}]);
async function GET(req, {
  params
}) {
  /* istanbul ignore next */
  cov_2ng7jnwm2g().f[6]++;
  const operation =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[16]++, (0, _transferPerformanceMonitor.trackTransferOperation)("detail"));
  // Check for inventory:view permission
  const permissionError =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[17]++, await (0, _middleware.requirePermission)("inventory:view")(req));
  /* istanbul ignore next */
  cov_2ng7jnwm2g().s[18]++;
  if (permissionError) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().b[0][0]++;
    cov_2ng7jnwm2g().s[19]++;
    operation.end(false, "unauthorized");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[20]++;
    return permissionError;
  } else
  /* istanbul ignore next */
  {
    cov_2ng7jnwm2g().b[0][1]++;
  }
  const id =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[21]++, parseInt(params.id));
  /* istanbul ignore next */
  cov_2ng7jnwm2g().s[22]++;
  if (isNaN(id)) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().b[1][0]++;
    cov_2ng7jnwm2g().s[23]++;
    operation.end(false, "invalid_id");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[24]++;
    return _server.NextResponse.json({
      success: false,
      error: "Invalid transfer ID"
    }, {
      status: 400
    });
  } else
  /* istanbul ignore next */
  {
    cov_2ng7jnwm2g().b[1][1]++;
  }
  cov_2ng7jnwm2g().s[25]++;
  try {
    // Generate cache key
    const cacheKey =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[26]++, `${_transferCache.TRANSFER_CACHE_CONFIG.KEYS.TRANSFER_DETAIL}:${params.id}`);
    // Try to get from cache first
    const cached =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[27]++, await _transferCache.transferCacheService.get(cacheKey));
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[28]++;
    if (cached) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().b[2][0]++;
      cov_2ng7jnwm2g().s[29]++;
      operation.end(true, undefined, true);
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[30]++;
      return _server.NextResponse.json({
        success: true,
        data: cached
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ng7jnwm2g().b[2][1]++;
    }
    // Use request deduplication
    const transfer =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[31]++, await (0, _requestdeduplication.deduplicateRequest)(async () => {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().f[7]++;
      cov_2ng7jnwm2g().s[32]++;
      return await (0, _prisma.safeQuery)(async () => {
        /* istanbul ignore next */
        cov_2ng7jnwm2g().f[8]++;
        // Get transfer details with related data
        const transferData =
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().s[33]++, await _prisma.prisma.inventoryTransfer.findUnique({
          where: {
            id
          },
          include: {
            fromShop: true,
            toShop: true,
            fromUser: true,
            transferItems: {
              include: {
                product: true
              }
            }
          }
        }));
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[34]++;
        if (!transferData) {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().b[3][0]++;
          cov_2ng7jnwm2g().s[35]++;
          return null;
        } else
        /* istanbul ignore next */
        {
          cov_2ng7jnwm2g().b[3][1]++;
        }
        // Format the transfer data to match the expected format
        cov_2ng7jnwm2g().s[36]++;
        return {
          id: transferData.id,
          status: transferData.status,
          created_at: transferData.createdAt.toISOString(),
          completed_at: null,
          source_shop_id: transferData.fromShopId,
          destination_shop_id: transferData.toShopId,
          source_shop_name: transferData.fromShop.name,
          destination_shop_name: transferData.toShop.name,
          initiated_by: transferData.fromUser.name,
          items: transferData.transferItems.map(item => {
            /* istanbul ignore next */
            cov_2ng7jnwm2g().f[9]++;
            cov_2ng7jnwm2g().s[37]++;
            return {
              id: item.id,
              product_id: item.productId,
              product_name: item.product.name,
              sku:
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().b[4][0]++, item.product.sku) ||
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().b[4][1]++, ""),
              quantity: item.quantity,
              notes: null,
              price: item.product.price.toString()
            };
          })
        };
      }, getDefaultTransfer(id), `Failed to fetch transfer with ID ${id}`);
    }, `/api/inventory/transfers/${params.id}`));
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[38]++;
    if (!transfer) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().b[5][0]++;
      cov_2ng7jnwm2g().s[39]++;
      operation.end(false, "not_found");
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[40]++;
      return _server.NextResponse.json({
        success: false,
        error: "Transfer not found"
      }, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ng7jnwm2g().b[5][1]++;
    }
    // Cache the result
    cov_2ng7jnwm2g().s[41]++;
    await _transferCache.transferCacheService.set(cacheKey, transfer);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[42]++;
    operation.end(true, undefined, false);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[43]++;
    return _server.NextResponse.json({
      success: true,
      data: transfer
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[44]++;
    console.error(`Error fetching transfer ${id}:`, error);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[45]++;
    operation.end(false, "fetch_error");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[46]++;
    return _server.NextResponse.json({
      success: false,
      error: "Failed to fetch transfer"
    }, {
      status: 500
    });
  }
}
async function PATCH(req, {
  params
}) {
  /* istanbul ignore next */
  cov_2ng7jnwm2g().f[10]++;
  const operation =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[47]++, (0, _transferPerformanceMonitor.trackTransferOperation)("complete"));
  // Check for inventory:transfer permission
  const permissionError =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[48]++, await (0, _middleware.requirePermission)("inventory:transfer")(req));
  /* istanbul ignore next */
  cov_2ng7jnwm2g().s[49]++;
  if (permissionError) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().b[6][0]++;
    cov_2ng7jnwm2g().s[50]++;
    operation.end(false, "unauthorized");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[51]++;
    return permissionError;
  } else
  /* istanbul ignore next */
  {
    cov_2ng7jnwm2g().b[6][1]++;
  }
  const id =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[52]++, parseInt(params.id));
  /* istanbul ignore next */
  cov_2ng7jnwm2g().s[53]++;
  if (isNaN(id)) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().b[7][0]++;
    cov_2ng7jnwm2g().s[54]++;
    operation.end(false, "invalid_id");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[55]++;
    return _server.NextResponse.json({
      success: false,
      error: "Invalid transfer ID"
    }, {
      status: 400
    });
  } else
  /* istanbul ignore next */
  {
    cov_2ng7jnwm2g().b[7][1]++;
  }
  cov_2ng7jnwm2g().s[56]++;
  try {
    const body1 =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[57]++, await req.json());
    const {
      action
    } =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[58]++, body1);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[59]++;
    if (
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().b[9][0]++, !action) ||
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().b[9][1]++, !["complete", "cancel"].includes(action))) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().b[8][0]++;
      cov_2ng7jnwm2g().s[60]++;
      operation.end(false, "invalid_action");
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[61]++;
      return _server.NextResponse.json({
        success: false,
        error: 'Invalid action. Must be "complete" or "cancel"'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ng7jnwm2g().b[8][1]++;
    }
    const result =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[62]++, await (0, _prisma.safeQuery)(async () => {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().f[11]++;
      cov_2ng7jnwm2g().s[63]++;
      return await _prisma.prisma.$transaction(async tx => {
        /* istanbul ignore next */
        cov_2ng7jnwm2g().f[12]++;
        // Declare affectedProductIds before using it
        const affectedProductIds =
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().s[64]++, new Set());
        // Get transfer with items
        const transfer =
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().s[65]++, await tx.inventoryTransfer.findUnique({
          where: {
            id
          },
          include: {
            transferItems: {
              include: {
                product: true
              }
            }
          }
        }));
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[66]++;
        if (!transfer) {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().b[10][0]++;
          cov_2ng7jnwm2g().s[67]++;
          throw new Error("Transfer not found");
        } else
        /* istanbul ignore next */
        {
          cov_2ng7jnwm2g().b[10][1]++;
        }
        cov_2ng7jnwm2g().s[68]++;
        if (transfer.status !== "pending") {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().b[11][0]++;
          cov_2ng7jnwm2g().s[69]++;
          throw new Error(`Cannot ${action} a transfer that is not in pending status`);
        } else
        /* istanbul ignore next */
        {
          cov_2ng7jnwm2g().b[11][1]++;
        }
        cov_2ng7jnwm2g().s[70]++;
        if (action === "complete") {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().b[12][0]++;
          cov_2ng7jnwm2g().s[71]++;
          // Process each transfer item for completion
          for (const item of transfer.transferItems) {
            // Check source inventory
            const sourceInventory =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[72]++, await tx.inventoryItem.findFirst({
              where: {
                shopId: transfer.fromShopId,
                productId: item.productId
              }
            }));
            /* istanbul ignore next */
            cov_2ng7jnwm2g().s[73]++;
            if (
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[14][0]++, !sourceInventory) ||
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[14][1]++, sourceInventory.quantity < item.quantity)) {
              /* istanbul ignore next */
              cov_2ng7jnwm2g().b[13][0]++;
              cov_2ng7jnwm2g().s[74]++;
              throw new Error(`Insufficient inventory for product ID ${item.productId} in source shop`);
            } else
            /* istanbul ignore next */
            {
              cov_2ng7jnwm2g().b[13][1]++;
            }
            // Get the shop-specific cost from source inventory
            const transferCostPerUnit =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[75]++,
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[15][0]++, sourceInventory.shopSpecificCost) ||
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[15][1]++, 0));
            // Update source inventory (decrease quantity)
            /* istanbul ignore next */
            cov_2ng7jnwm2g().s[76]++;
            await tx.inventoryItem.update({
              where: {
                id: sourceInventory.id
              },
              data: {
                quantity: sourceInventory.quantity - item.quantity,
                updatedAt: new Date()
              }
            });
            // Collect items for batch processing
            /* istanbul ignore next */
            cov_2ng7jnwm2g().s[77]++;
            affectedProductIds.add(item.productId);
          }
          // Batch process inventory updates
          const inventoryUpdates =
          /* istanbul ignore next */
          (cov_2ng7jnwm2g().s[78]++, []);
          /* istanbul ignore next */
          cov_2ng7jnwm2g().s[79]++;
          for (const item of transfer.transferItems) {
            // Get the shop-specific cost from source inventory
            const sourceInventory =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[80]++, await tx.inventoryItem.findFirst({
              where: {
                shopId: transfer.fromShopId,
                productId: item.productId
              }
            }));
            const transferCostPerUnit =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[81]++,
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[16][0]++, sourceInventory?.shopSpecificCost) ||
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[16][1]++, 0));
            // Check if destination already has this product
            const destInventory =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[82]++, await tx.inventoryItem.findFirst({
              where: {
                shopId: transfer.toShopId,
                productId: item.productId
              }
            }));
            /* istanbul ignore next */
            cov_2ng7jnwm2g().s[83]++;
            if (!destInventory) {
              /* istanbul ignore next */
              cov_2ng7jnwm2g().b[17][0]++;
              cov_2ng7jnwm2g().s[84]++;
              // Create new inventory item at destination
              await tx.inventoryItem.create({
                data: {
                  shopId: transfer.toShopId,
                  productId: item.productId,
                  quantity: item.quantity,
                  shopSpecificCost: transferCostPerUnit
                }
              });
            } else {
              /* istanbul ignore next */
              cov_2ng7jnwm2g().b[17][1]++;
              // Calculate new WAC for destination shop using weighted average
              const currentDestQuantity =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[85]++, destInventory.quantity);
              const currentDestCost =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[86]++,
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().b[18][0]++, destInventory.shopSpecificCost) ||
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().b[18][1]++, 0));
              const transferQuantity =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[87]++, item.quantity);
              const currentTotalValue =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[88]++, currentDestQuantity * currentDestCost);
              const transferTotalValue =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[89]++, transferQuantity * transferCostPerUnit);
              const newTotalQuantity =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[90]++, currentDestQuantity + transferQuantity);
              let newShopSpecificCost =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[91]++, 0);
              /* istanbul ignore next */
              cov_2ng7jnwm2g().s[92]++;
              if (newTotalQuantity > 0) {
                /* istanbul ignore next */
                cov_2ng7jnwm2g().b[19][0]++;
                cov_2ng7jnwm2g().s[93]++;
                newShopSpecificCost = (currentTotalValue + transferTotalValue) / newTotalQuantity;
              } else
              /* istanbul ignore next */
              {
                cov_2ng7jnwm2g().b[19][1]++;
              }
              cov_2ng7jnwm2g().s[94]++;
              inventoryUpdates.push({
                productId: item.productId,
                quantity: item.quantity,
                cost: newShopSpecificCost
              });
            }
          }
          // Batch update existing inventory items
          /* istanbul ignore next */
          cov_2ng7jnwm2g().s[95]++;
          if (inventoryUpdates.length > 0) {
            /* istanbul ignore next */
            cov_2ng7jnwm2g().b[20][0]++;
            cov_2ng7jnwm2g().s[96]++;
            await Promise.all(inventoryUpdates.map(update => {
              /* istanbul ignore next */
              cov_2ng7jnwm2g().f[13]++;
              cov_2ng7jnwm2g().s[97]++;
              return tx.inventoryItem.updateMany({
                where: {
                  shopId: transfer.toShopId,
                  productId: update.productId
                },
                data: {
                  quantity: {
                    increment: update.quantity
                  },
                  shopSpecificCost: update.cost,
                  updatedAt: new Date()
                }
              });
            }));
          } else
          /* istanbul ignore next */
          {
            cov_2ng7jnwm2g().b[20][1]++;
          }
          // Batch recalculate global weighted average costs
          const wacUpdates =
          /* istanbul ignore next */
          (cov_2ng7jnwm2g().s[98]++, await Promise.all(Array.from(affectedProductIds).map(async productId => {
            /* istanbul ignore next */
            cov_2ng7jnwm2g().f[14]++;
            const allInventoryAfterTransfer =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[99]++, await tx.inventoryItem.findMany({
              where: {
                productId,
                quantity: {
                  gt: 0
                } // Only consider inventories with stock
              }
            }));
            /* istanbul ignore next */
            cov_2ng7jnwm2g().s[100]++;
            if (allInventoryAfterTransfer.length > 0) {
              /* istanbul ignore next */
              cov_2ng7jnwm2g().b[21][0]++;
              const totalQuantity =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[101]++, allInventoryAfterTransfer.reduce((sum, inv) => {
                /* istanbul ignore next */
                cov_2ng7jnwm2g().f[15]++;
                cov_2ng7jnwm2g().s[102]++;
                return sum + inv.quantity;
              }, 0));
              const totalValue =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[103]++, allInventoryAfterTransfer.reduce((sum, inv) => {
                /* istanbul ignore next */
                cov_2ng7jnwm2g().f[16]++;
                cov_2ng7jnwm2g().s[104]++;
                return sum + inv.quantity * (
                /* istanbul ignore next */
                (cov_2ng7jnwm2g().b[22][0]++, inv.shopSpecificCost) ||
                /* istanbul ignore next */
                (cov_2ng7jnwm2g().b[22][1]++, 0));
              }, 0));
              const globalWAC =
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().s[105]++, totalQuantity > 0 ?
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().b[23][0]++, totalValue / totalQuantity) :
              /* istanbul ignore next */
              (cov_2ng7jnwm2g().b[23][1]++, 0));
              /* istanbul ignore next */
              cov_2ng7jnwm2g().s[106]++;
              return {
                productId,
                globalWAC
              };
            } else
            /* istanbul ignore next */
            {
              cov_2ng7jnwm2g().b[21][1]++;
            }
            cov_2ng7jnwm2g().s[107]++;
            return null;
          })));
          // Update global WAC for all affected products
          /* istanbul ignore next */
          cov_2ng7jnwm2g().s[108]++;
          await Promise.all(wacUpdates.filter(update => {
            /* istanbul ignore next */
            cov_2ng7jnwm2g().f[17]++;
            cov_2ng7jnwm2g().s[109]++;
            return update !== null;
          }).map(update => {
            /* istanbul ignore next */
            cov_2ng7jnwm2g().f[18]++;
            cov_2ng7jnwm2g().s[110]++;
            return tx.product.update({
              where: {
                id: update.productId
              },
              data: {
                weightedAverageCost: update.globalWAC
              }
            });
          }));
        } else
        /* istanbul ignore next */
        {
          cov_2ng7jnwm2g().b[12][1]++;
        }
        // Update transfer status
        cov_2ng7jnwm2g().s[111]++;
        return await tx.inventoryTransfer.update({
          where: {
            id
          },
          data: {
            status: action === "complete" ?
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[24][0]++, "completed") :
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[24][1]++, "cancelled"),
            updatedAt: new Date()
          }
        });
      }, {
        timeout: 30000
      } // 30-second timeout
      );
    }, null, `Failed to ${action} transfer`));
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[112]++;
    if (!result) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().b[25][0]++;
      cov_2ng7jnwm2g().s[113]++;
      operation.end(false, "update_failed");
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[114]++;
      return _server.NextResponse.json({
        success: false,
        error: `Failed to ${action} transfer`
      }, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ng7jnwm2g().b[25][1]++;
    }
    // Invalidate relevant caches
    cov_2ng7jnwm2g().s[115]++;
    await _transferCache.transferCacheService.invalidateTransferCache(params.id, [result.fromShopId, result.toShopId]);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[116]++;
    operation.end(true);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[117]++;
    return _server.NextResponse.json({
      success: true,
      message: `Transfer ${action}d successfully`,
      data: result
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[118]++;
    console.error(`Error ${
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().b[26][0]++, body?.action) ||
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().b[26][1]++, "updating")} transfer ${id}:`, error);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[119]++;
    operation.end(false, "update_error");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[120]++;
    return _server.NextResponse.json({
      success: false,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_2ng7jnwm2g().b[27][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2ng7jnwm2g().b[27][1]++, `Failed to update transfer`)
    }, {
      status: 500
    });
  }
}
async function PUT(req, {
  params
}) {
  /* istanbul ignore next */
  cov_2ng7jnwm2g().f[19]++;
  const operation =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[121]++, (0, _transferPerformanceMonitor.trackTransferOperation)("update"));
  // Check for inventory:transfer permission
  const permissionError =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[122]++, await (0, _middleware.requirePermission)("inventory:transfer")(req));
  /* istanbul ignore next */
  cov_2ng7jnwm2g().s[123]++;
  if (permissionError) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().b[28][0]++;
    cov_2ng7jnwm2g().s[124]++;
    operation.end(false, "unauthorized");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[125]++;
    return permissionError;
  } else
  /* istanbul ignore next */
  {
    cov_2ng7jnwm2g().b[28][1]++;
  }
  const id =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[126]++, parseInt(params.id));
  /* istanbul ignore next */
  cov_2ng7jnwm2g().s[127]++;
  if (isNaN(id)) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().b[29][0]++;
    cov_2ng7jnwm2g().s[128]++;
    operation.end(false, "invalid_id");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[129]++;
    return _server.NextResponse.json({
      success: false,
      error: "Invalid transfer ID"
    }, {
      status: 400
    });
  } else
  /* istanbul ignore next */
  {
    cov_2ng7jnwm2g().b[29][1]++;
  }
  cov_2ng7jnwm2g().s[130]++;
  try {
    const body1 =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[131]++, await req.json());
    const {
      sourceShopId,
      destinationShopId,
      items
    } =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[132]++, body1);
    // Validate input
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[133]++;
    if (
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().b[31][0]++, !sourceShopId) ||
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().b[31][1]++, !destinationShopId) ||
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().b[31][2]++, !items) ||
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().b[31][3]++, !Array.isArray(items))) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().b[30][0]++;
      cov_2ng7jnwm2g().s[134]++;
      operation.end(false, "invalid_input");
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[135]++;
      return _server.NextResponse.json({
        success: false,
        error: "Missing required fields"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ng7jnwm2g().b[30][1]++;
    }
    cov_2ng7jnwm2g().s[136]++;
    if (sourceShopId === destinationShopId) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().b[32][0]++;
      cov_2ng7jnwm2g().s[137]++;
      operation.end(false, "same_shop");
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[138]++;
      return _server.NextResponse.json({
        success: false,
        error: "Source and destination shops cannot be the same"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ng7jnwm2g().b[32][1]++;
    }
    cov_2ng7jnwm2g().s[139]++;
    if (items.length === 0) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().b[33][0]++;
      cov_2ng7jnwm2g().s[140]++;
      operation.end(false, "no_items");
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[141]++;
      return _server.NextResponse.json({
        success: false,
        error: "At least one item is required"
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ng7jnwm2g().b[33][1]++;
    }
    // Validate items
    cov_2ng7jnwm2g().s[142]++;
    for (const item of items) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[143]++;
      if (
      /* istanbul ignore next */
      (cov_2ng7jnwm2g().b[35][0]++, !item.productId) ||
      /* istanbul ignore next */
      (cov_2ng7jnwm2g().b[35][1]++, !item.quantity) ||
      /* istanbul ignore next */
      (cov_2ng7jnwm2g().b[35][2]++, item.quantity <= 0)) {
        /* istanbul ignore next */
        cov_2ng7jnwm2g().b[34][0]++;
        cov_2ng7jnwm2g().s[144]++;
        operation.end(false, "invalid_item");
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[145]++;
        return _server.NextResponse.json({
          success: false,
          error: "Invalid item data"
        }, {
          status: 400
        });
      } else
      /* istanbul ignore next */
      {
        cov_2ng7jnwm2g().b[34][1]++;
      }
    }
    const result =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[146]++, await (0, _prisma.safeQuery)(async () => {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().f[20]++;
      cov_2ng7jnwm2g().s[147]++;
      return await _prisma.prisma.$transaction(async tx => {
        /* istanbul ignore next */
        cov_2ng7jnwm2g().f[21]++;
        // Check if transfer exists and is pending
        const existingTransfer =
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().s[148]++, await tx.inventoryTransfer.findUnique({
          where: {
            id
          }
        }));
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[149]++;
        if (!existingTransfer) {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().b[36][0]++;
          cov_2ng7jnwm2g().s[150]++;
          throw new Error("Transfer not found");
        } else
        /* istanbul ignore next */
        {
          cov_2ng7jnwm2g().b[36][1]++;
        }
        cov_2ng7jnwm2g().s[151]++;
        if (existingTransfer.status !== "pending") {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().b[37][0]++;
          cov_2ng7jnwm2g().s[152]++;
          throw new Error("Only pending transfers can be edited");
        } else
        /* istanbul ignore next */
        {
          cov_2ng7jnwm2g().b[37][1]++;
        }
        // Verify shops exist
        const sourceShop =
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().s[153]++, await tx.shop.findUnique({
          where: {
            id: sourceShopId
          }
        }));
        const destinationShop =
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().s[154]++, await tx.shop.findUnique({
          where: {
            id: destinationShopId
          }
        }));
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[155]++;
        if (
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().b[39][0]++, !sourceShop) ||
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().b[39][1]++, !destinationShop)) {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().b[38][0]++;
          cov_2ng7jnwm2g().s[156]++;
          throw new Error("Invalid shop selection");
        } else
        /* istanbul ignore next */
        {
          cov_2ng7jnwm2g().b[38][1]++;
        }
        // Verify products exist and have sufficient stock
        cov_2ng7jnwm2g().s[157]++;
        for (const item of items) {
          const inventory =
          /* istanbul ignore next */
          (cov_2ng7jnwm2g().s[158]++, await tx.inventoryItem.findFirst({
            where: {
              productId: item.productId,
              shopId: sourceShopId
            }
          }));
          /* istanbul ignore next */
          cov_2ng7jnwm2g().s[159]++;
          if (!inventory) {
            /* istanbul ignore next */
            cov_2ng7jnwm2g().b[40][0]++;
            const product =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[160]++, await tx.product.findUnique({
              where: {
                id: item.productId
              }
            }));
            const productName =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[161]++, product ?
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[41][0]++, product.name) :
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[41][1]++, `Product ID ${item.productId}`));
            /* istanbul ignore next */
            cov_2ng7jnwm2g().s[162]++;
            throw new Error(`Product "${productName}" not found in source shop`);
          } else
          /* istanbul ignore next */
          {
            cov_2ng7jnwm2g().b[40][1]++;
          }
          cov_2ng7jnwm2g().s[163]++;
          if (inventory.quantity < item.quantity) {
            /* istanbul ignore next */
            cov_2ng7jnwm2g().b[42][0]++;
            const product =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[164]++, await tx.product.findUnique({
              where: {
                id: item.productId
              }
            }));
            const productName =
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().s[165]++, product ?
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[43][0]++, product.name) :
            /* istanbul ignore next */
            (cov_2ng7jnwm2g().b[43][1]++, `Product ID ${item.productId}`));
            /* istanbul ignore next */
            cov_2ng7jnwm2g().s[166]++;
            throw new Error(`Insufficient stock for "${productName}". Available: ${inventory.quantity}, Requested: ${item.quantity}`);
          } else
          /* istanbul ignore next */
          {
            cov_2ng7jnwm2g().b[42][1]++;
          }
        }
        // Update transfer
        const updatedTransfer =
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().s[167]++, await tx.inventoryTransfer.update({
          where: {
            id
          },
          data: {
            fromShopId: sourceShopId,
            toShopId: destinationShopId,
            updatedAt: new Date()
          }
        }));
        // Delete existing transfer items
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[168]++;
        await tx.transferItem.deleteMany({
          where: {
            transferId: id
          }
        });
        // Insert new transfer items
        const transferItemsData =
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().s[169]++, items.map(item => {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().f[22]++;
          cov_2ng7jnwm2g().s[170]++;
          return {
            transferId: id,
            productId: item.productId,
            quantity: item.quantity
          };
        }));
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[171]++;
        await tx.transferItem.createMany({
          data: transferItemsData
        });
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[172]++;
        return updatedTransfer;
      }, {
        timeout: 30000
      } // 30-second timeout
      );
    }, null, "Failed to update transfer"));
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[173]++;
    if (!result) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().b[44][0]++;
      cov_2ng7jnwm2g().s[174]++;
      operation.end(false, "update_failed");
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[175]++;
      return _server.NextResponse.json({
        success: false,
        error: "Failed to update transfer"
      }, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ng7jnwm2g().b[44][1]++;
    }
    // Invalidate relevant caches
    cov_2ng7jnwm2g().s[176]++;
    await _transferCache.transferCacheService.invalidateTransferCache(params.id, [result.fromShopId, result.toShopId]);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[177]++;
    operation.end(true);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[178]++;
    return _server.NextResponse.json({
      success: true,
      message: "Transfer updated successfully",
      data: {
        id
      }
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[179]++;
    console.error(`Error updating transfer ${id}:`, error);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[180]++;
    operation.end(false, "update_error");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[181]++;
    return _server.NextResponse.json({
      success: false,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_2ng7jnwm2g().b[45][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2ng7jnwm2g().b[45][1]++, "Failed to update transfer")
    }, {
      status: 500
    });
  }
}
async function DELETE(req, {
  params
}) {
  /* istanbul ignore next */
  cov_2ng7jnwm2g().f[23]++;
  const operation =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[182]++, (0, _transferPerformanceMonitor.trackTransferOperation)("cancel"));
  // Check for inventory:transfer permission
  const permissionError =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[183]++, await (0, _middleware.requirePermission)("inventory:transfer")(req));
  /* istanbul ignore next */
  cov_2ng7jnwm2g().s[184]++;
  if (permissionError) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().b[46][0]++;
    cov_2ng7jnwm2g().s[185]++;
    operation.end(false, "unauthorized");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[186]++;
    return permissionError;
  } else
  /* istanbul ignore next */
  {
    cov_2ng7jnwm2g().b[46][1]++;
  }
  const id =
  /* istanbul ignore next */
  (cov_2ng7jnwm2g().s[187]++, parseInt(params.id));
  /* istanbul ignore next */
  cov_2ng7jnwm2g().s[188]++;
  if (isNaN(id)) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().b[47][0]++;
    cov_2ng7jnwm2g().s[189]++;
    operation.end(false, "invalid_id");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[190]++;
    return _server.NextResponse.json({
      success: false,
      error: "Invalid transfer ID"
    }, {
      status: 400
    });
  } else
  /* istanbul ignore next */
  {
    cov_2ng7jnwm2g().b[47][1]++;
  }
  cov_2ng7jnwm2g().s[191]++;
  try {
    const result =
    /* istanbul ignore next */
    (cov_2ng7jnwm2g().s[192]++, await (0, _prisma.safeQuery)(async () => {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().f[24]++;
      cov_2ng7jnwm2g().s[193]++;
      return await _prisma.prisma.$transaction(async tx => {
        /* istanbul ignore next */
        cov_2ng7jnwm2g().f[25]++;
        // Get transfer to check status
        const transfer =
        /* istanbul ignore next */
        (cov_2ng7jnwm2g().s[194]++, await tx.inventoryTransfer.findUnique({
          where: {
            id
          }
        }));
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[195]++;
        if (!transfer) {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().b[48][0]++;
          cov_2ng7jnwm2g().s[196]++;
          throw new Error("Transfer not found");
        } else
        /* istanbul ignore next */
        {
          cov_2ng7jnwm2g().b[48][1]++;
        }
        cov_2ng7jnwm2g().s[197]++;
        if (transfer.status !== "pending") {
          /* istanbul ignore next */
          cov_2ng7jnwm2g().b[49][0]++;
          cov_2ng7jnwm2g().s[198]++;
          throw new Error("Only pending transfers can be deleted");
        } else
        /* istanbul ignore next */
        {
          cov_2ng7jnwm2g().b[49][1]++;
        }
        // Delete transfer items and the transfer itself
        cov_2ng7jnwm2g().s[199]++;
        await tx.transferItem.deleteMany({
          where: {
            transferId: id
          }
        });
        /* istanbul ignore next */
        cov_2ng7jnwm2g().s[200]++;
        return await tx.inventoryTransfer.delete({
          where: {
            id
          }
        });
      }, {
        timeout: 30000
      } // 30-second timeout
      );
    }, null, "Failed to delete transfer"));
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[201]++;
    if (!result) {
      /* istanbul ignore next */
      cov_2ng7jnwm2g().b[50][0]++;
      cov_2ng7jnwm2g().s[202]++;
      operation.end(false, "delete_failed");
      /* istanbul ignore next */
      cov_2ng7jnwm2g().s[203]++;
      return _server.NextResponse.json({
        success: false,
        error: "Failed to delete transfer"
      }, {
        status: 500
      });
    } else
    /* istanbul ignore next */
    {
      cov_2ng7jnwm2g().b[50][1]++;
    }
    // Invalidate relevant caches
    cov_2ng7jnwm2g().s[204]++;
    await _transferCache.transferCacheService.invalidateTransferCache(params.id, [result.fromShopId, result.toShopId]);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[205]++;
    operation.end(true);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[206]++;
    return _server.NextResponse.json({
      success: true,
      message: "Transfer deleted successfully"
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[207]++;
    console.error(`Error deleting transfer ${id}:`, error);
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[208]++;
    operation.end(false, "delete_error");
    /* istanbul ignore next */
    cov_2ng7jnwm2g().s[209]++;
    return _server.NextResponse.json({
      success: false,
      error: error instanceof Error ?
      /* istanbul ignore next */
      (cov_2ng7jnwm2g().b[51][0]++, error.message) :
      /* istanbul ignore next */
      (cov_2ng7jnwm2g().b[51][1]++, "Failed to delete transfer")
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUxFVEUiLCJjb3ZfMm5nN2pud20yZyIsImYiLCJzIiwiR0VUIiwiUEFUQ0giLCJQVVQiLCJnZXREZWZhdWx0VHJhbnNmZXIiLCJpZCIsInN0YXR1cyIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjb21wbGV0ZWRfYXQiLCJzb3VyY2Vfc2hvcF9pZCIsImRlc3RpbmF0aW9uX3Nob3BfaWQiLCJzb3VyY2Vfc2hvcF9uYW1lIiwiZGVzdGluYXRpb25fc2hvcF9uYW1lIiwiaW5pdGlhdGVkX2J5IiwiaXRlbXMiLCJkZWZhdWx0VHJhbnNmZXJzRGF0YSIsIml0ZW1fY291bnQiLCJ0b3RhbF9pdGVtcyIsInJlcSIsInBhcmFtcyIsIm9wZXJhdGlvbiIsIl90cmFuc2ZlclBlcmZvcm1hbmNlTW9uaXRvciIsInRyYWNrVHJhbnNmZXJPcGVyYXRpb24iLCJwZXJtaXNzaW9uRXJyb3IiLCJfbWlkZGxld2FyZSIsInJlcXVpcmVQZXJtaXNzaW9uIiwiYiIsImVuZCIsInBhcnNlSW50IiwiaXNOYU4iLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsImNhY2hlS2V5IiwiX3RyYW5zZmVyQ2FjaGUiLCJUUkFOU0ZFUl9DQUNIRV9DT05GSUciLCJLRVlTIiwiVFJBTlNGRVJfREVUQUlMIiwiY2FjaGVkIiwidHJhbnNmZXJDYWNoZVNlcnZpY2UiLCJnZXQiLCJ1bmRlZmluZWQiLCJkYXRhIiwidHJhbnNmZXIiLCJfcmVxdWVzdGRlZHVwbGljYXRpb24iLCJkZWR1cGxpY2F0ZVJlcXVlc3QiLCJfcHJpc21hIiwic2FmZVF1ZXJ5IiwidHJhbnNmZXJEYXRhIiwicHJpc21hIiwiaW52ZW50b3J5VHJhbnNmZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpbmNsdWRlIiwiZnJvbVNob3AiLCJ0b1Nob3AiLCJmcm9tVXNlciIsInRyYW5zZmVySXRlbXMiLCJwcm9kdWN0IiwiY3JlYXRlZEF0IiwiZnJvbVNob3BJZCIsInRvU2hvcElkIiwibmFtZSIsIm1hcCIsIml0ZW0iLCJwcm9kdWN0X2lkIiwicHJvZHVjdElkIiwicHJvZHVjdF9uYW1lIiwic2t1IiwicXVhbnRpdHkiLCJub3RlcyIsInByaWNlIiwidG9TdHJpbmciLCJzZXQiLCJjb25zb2xlIiwiYm9keTEiLCJhY3Rpb24iLCJpbmNsdWRlcyIsInJlc3VsdCIsIiR0cmFuc2FjdGlvbiIsInR4IiwiYWZmZWN0ZWRQcm9kdWN0SWRzIiwiU2V0IiwiRXJyb3IiLCJzb3VyY2VJbnZlbnRvcnkiLCJpbnZlbnRvcnlJdGVtIiwiZmluZEZpcnN0Iiwic2hvcElkIiwidHJhbnNmZXJDb3N0UGVyVW5pdCIsInNob3BTcGVjaWZpY0Nvc3QiLCJ1cGRhdGUiLCJ1cGRhdGVkQXQiLCJhZGQiLCJpbnZlbnRvcnlVcGRhdGVzIiwiZGVzdEludmVudG9yeSIsImNyZWF0ZSIsImN1cnJlbnREZXN0UXVhbnRpdHkiLCJjdXJyZW50RGVzdENvc3QiLCJ0cmFuc2ZlclF1YW50aXR5IiwiY3VycmVudFRvdGFsVmFsdWUiLCJ0cmFuc2ZlclRvdGFsVmFsdWUiLCJuZXdUb3RhbFF1YW50aXR5IiwibmV3U2hvcFNwZWNpZmljQ29zdCIsInB1c2giLCJjb3N0IiwibGVuZ3RoIiwiUHJvbWlzZSIsImFsbCIsInVwZGF0ZU1hbnkiLCJpbmNyZW1lbnQiLCJ3YWNVcGRhdGVzIiwiQXJyYXkiLCJmcm9tIiwiYWxsSW52ZW50b3J5QWZ0ZXJUcmFuc2ZlciIsImZpbmRNYW55IiwiZ3QiLCJ0b3RhbFF1YW50aXR5IiwicmVkdWNlIiwic3VtIiwiaW52IiwidG90YWxWYWx1ZSIsImdsb2JhbFdBQyIsImZpbHRlciIsIndlaWdodGVkQXZlcmFnZUNvc3QiLCJ0aW1lb3V0IiwiaW52YWxpZGF0ZVRyYW5zZmVyQ2FjaGUiLCJtZXNzYWdlIiwiYm9keSIsInNvdXJjZVNob3BJZCIsImRlc3RpbmF0aW9uU2hvcElkIiwiaXNBcnJheSIsImV4aXN0aW5nVHJhbnNmZXIiLCJzb3VyY2VTaG9wIiwic2hvcCIsImRlc3RpbmF0aW9uU2hvcCIsImludmVudG9yeSIsInByb2R1Y3ROYW1lIiwidXBkYXRlZFRyYW5zZmVyIiwidHJhbnNmZXJJdGVtIiwiZGVsZXRlTWFueSIsInRyYW5zZmVySWQiLCJ0cmFuc2Zlckl0ZW1zRGF0YSIsImNyZWF0ZU1hbnkiLCJkZWxldGUiXSwic291cmNlcyI6WyIvVXNlcnMvc2FjaGluL0RvY3VtZW50cy9tZC1zcG9ydHMtL3NyYy9hcHAvYXBpL2ludmVudG9yeS90cmFuc2ZlcnMvW2lkXS9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgcmVxdWlyZVBlcm1pc3Npb24gfSBmcm9tICdAL2xpYi91dGlscy9taWRkbGV3YXJlJztcbmltcG9ydCB7IHByaXNtYSwgc2FmZVF1ZXJ5IH0gZnJvbSAnQC9saWIvcHJpc21hJztcbmltcG9ydCB7IHRyYW5zZmVyQ2FjaGVTZXJ2aWNlLCBUUkFOU0ZFUl9DQUNIRV9DT05GSUcgfSBmcm9tICdAL2xpYi90cmFuc2ZlckNhY2hlJztcbmltcG9ydCB7IHRyYWNrVHJhbnNmZXJPcGVyYXRpb24gfSBmcm9tICdAL2xpYi90cmFuc2ZlclBlcmZvcm1hbmNlTW9uaXRvcic7XG5pbXBvcnQgeyBkZWR1cGxpY2F0ZVJlcXVlc3QgfSBmcm9tICdAL2xpYi9yZXF1ZXN0LWRlZHVwbGljYXRpb24nO1xuXG4vLyBEZWZhdWx0IGZhbGxiYWNrIGRhdGEgZm9yIGEgdHJhbnNmZXJcbmZ1bmN0aW9uIGdldERlZmF1bHRUcmFuc2ZlcihpZDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQsXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGNvbXBsZXRlZF9hdDogbnVsbCxcbiAgICAgICAgc291cmNlX3Nob3BfaWQ6IDAsXG4gICAgICAgIGRlc3RpbmF0aW9uX3Nob3BfaWQ6IDAsXG4gICAgICAgIHNvdXJjZV9zaG9wX25hbWU6ICdVbmtub3duIFNob3AnLFxuICAgICAgICBkZXN0aW5hdGlvbl9zaG9wX25hbWU6ICdVbmtub3duIFNob3AnLFxuICAgICAgICBpbml0aWF0ZWRfYnk6ICdVbmtub3duIFVzZXInLFxuICAgICAgICBpdGVtczogW11cbiAgICB9O1xufVxuXG4vLyBEZWZhdWx0IGZhbGxiYWNrIGRhdGEgZm9yIHRyYW5zZmVycyBsaXN0XG5jb25zdCBkZWZhdWx0VHJhbnNmZXJzRGF0YSA9IFtcbiAgICB7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBjb21wbGV0ZWRfYXQ6IG51bGwsXG4gICAgICAgIHNvdXJjZV9zaG9wX25hbWU6ICdNYWluIFN0b3JlJyxcbiAgICAgICAgZGVzdGluYXRpb25fc2hvcF9uYW1lOiAnQnJhbmNoIFN0b3JlJyxcbiAgICAgICAgaW5pdGlhdGVkX2J5OiAnU3lzdGVtJyxcbiAgICAgICAgaXRlbV9jb3VudDogMCxcbiAgICAgICAgdG90YWxfaXRlbXM6IDBcbiAgICB9XG5dO1xuXG4vLyBHRVQ6IEZldGNoIGEgc3BlY2lmaWMgaW52ZW50b3J5IHRyYW5zZmVyIGJ5IElEXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKFxuICAgIHJlcTogTmV4dFJlcXVlc3QsXG4gICAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgaWQ6IHN0cmluZyB9IH1cbikge1xuICAgIGNvbnN0IG9wZXJhdGlvbiA9IHRyYWNrVHJhbnNmZXJPcGVyYXRpb24oJ2RldGFpbCcpO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGludmVudG9yeTp2aWV3IHBlcm1pc3Npb25cbiAgICBjb25zdCBwZXJtaXNzaW9uRXJyb3IgPSBhd2FpdCByZXF1aXJlUGVybWlzc2lvbignaW52ZW50b3J5OnZpZXcnKShyZXEpO1xuICAgIGlmIChwZXJtaXNzaW9uRXJyb3IpIHtcbiAgICAgICAgb3BlcmF0aW9uLmVuZChmYWxzZSwgJ3VuYXV0aG9yaXplZCcpO1xuICAgICAgICByZXR1cm4gcGVybWlzc2lvbkVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gcGFyc2VJbnQocGFyYW1zLmlkKTtcbiAgICBpZiAoaXNOYU4oaWQpKSB7XG4gICAgICAgIG9wZXJhdGlvbi5lbmQoZmFsc2UsICdpbnZhbGlkX2lkJyk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiAnSW52YWxpZCB0cmFuc2ZlciBJRCdcbiAgICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICAvLyBHZW5lcmF0ZSBjYWNoZSBrZXlcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBgJHtUUkFOU0ZFUl9DQUNIRV9DT05GSUcuS0VZUy5UUkFOU0ZFUl9ERVRBSUx9OiR7cGFyYW1zLmlkfWA7XG5cbiAgICAgICAgLy8gVHJ5IHRvIGdldCBmcm9tIGNhY2hlIGZpcnN0XG4gICAgICAgIGNvbnN0IGNhY2hlZCA9IGF3YWl0IHRyYW5zZmVyQ2FjaGVTZXJ2aWNlLmdldChjYWNoZUtleSk7XG4gICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbi5lbmQodHJ1ZSwgdW5kZWZpbmVkLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkYXRhOiBjYWNoZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlIHJlcXVlc3QgZGVkdXBsaWNhdGlvblxuICAgICAgICBjb25zdCB0cmFuc2ZlciA9IGF3YWl0IGRlZHVwbGljYXRlUmVxdWVzdChcbiAgICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgc2FmZVF1ZXJ5KFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdHJhbnNmZXIgZGV0YWlscyB3aXRoIHJlbGF0ZWQgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJEYXRhID0gYXdhaXQgcHJpc21hLmludmVudG9yeVRyYW5zZmVyLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tU2hvcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9TaG9wOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tVXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJJdGVtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYW5zZmVyRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgdGhlIHRyYW5zZmVyIGRhdGEgdG8gbWF0Y2ggdGhlIGV4cGVjdGVkIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdHJhbnNmZXJEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogdHJhbnNmZXJEYXRhLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiB0cmFuc2ZlckRhdGEuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkX2F0OiBudWxsLCAvLyBUaGlzIGZpZWxkIGlzbid0IGluIHRoZSBQcmlzbWEgc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX3Nob3BfaWQ6IHRyYW5zZmVyRGF0YS5mcm9tU2hvcElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uX3Nob3BfaWQ6IHRyYW5zZmVyRGF0YS50b1Nob3BJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2Vfc2hvcF9uYW1lOiB0cmFuc2ZlckRhdGEuZnJvbVNob3AubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbl9zaG9wX25hbWU6IHRyYW5zZmVyRGF0YS50b1Nob3AubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWF0ZWRfYnk6IHRyYW5zZmVyRGF0YS5mcm9tVXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiB0cmFuc2ZlckRhdGEudHJhbnNmZXJJdGVtcy5tYXAoaXRlbSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdF9pZDogaXRlbS5wcm9kdWN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RfbmFtZTogaXRlbS5wcm9kdWN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNrdTogaXRlbS5wcm9kdWN0LnNrdSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiBudWxsLCAvLyBUaGlzIGZpZWxkIGlzbid0IGluIHRoZSBQcmlzbWEgc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBpdGVtLnByb2R1Y3QucHJpY2UudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0RGVmYXVsdFRyYW5zZmVyKGlkKSxcbiAgICAgICAgICAgICAgICAgICAgYEZhaWxlZCB0byBmZXRjaCB0cmFuc2ZlciB3aXRoIElEICR7aWR9YFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYC9hcGkvaW52ZW50b3J5L3RyYW5zZmVycy8ke3BhcmFtcy5pZH1gXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCF0cmFuc2Zlcikge1xuICAgICAgICAgICAgb3BlcmF0aW9uLmVuZChmYWxzZSwgJ25vdF9mb3VuZCcpO1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogJ1RyYW5zZmVyIG5vdCBmb3VuZCdcbiAgICAgICAgICAgIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWNoZSB0aGUgcmVzdWx0XG4gICAgICAgIGF3YWl0IHRyYW5zZmVyQ2FjaGVTZXJ2aWNlLnNldChjYWNoZUtleSwgdHJhbnNmZXIpO1xuXG4gICAgICAgIG9wZXJhdGlvbi5lbmQodHJ1ZSwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgZGF0YTogdHJhbnNmZXJcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgdHJhbnNmZXIgJHtpZH06YCwgZXJyb3IpO1xuICAgICAgICBvcGVyYXRpb24uZW5kKGZhbHNlLCAnZmV0Y2hfZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggdHJhbnNmZXInXG4gICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufVxuXG4vLyBQQVRDSDogVXBkYXRlIGEgdHJhbnNmZXIgKGNvbXBsZXRlLCBjYW5jZWwpXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUEFUQ0goXG4gICAgcmVxOiBOZXh0UmVxdWVzdCxcbiAgICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uID0gdHJhY2tUcmFuc2Zlck9wZXJhdGlvbignY29tcGxldGUnKTtcblxuICAgIC8vIENoZWNrIGZvciBpbnZlbnRvcnk6dHJhbnNmZXIgcGVybWlzc2lvblxuICAgIGNvbnN0IHBlcm1pc3Npb25FcnJvciA9IGF3YWl0IHJlcXVpcmVQZXJtaXNzaW9uKCdpbnZlbnRvcnk6dHJhbnNmZXInKShyZXEpO1xuICAgIGlmIChwZXJtaXNzaW9uRXJyb3IpIHtcbiAgICAgICAgb3BlcmF0aW9uLmVuZChmYWxzZSwgJ3VuYXV0aG9yaXplZCcpO1xuICAgICAgICByZXR1cm4gcGVybWlzc2lvbkVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gcGFyc2VJbnQocGFyYW1zLmlkKTtcbiAgICBpZiAoaXNOYU4oaWQpKSB7XG4gICAgICAgIG9wZXJhdGlvbi5lbmQoZmFsc2UsICdpbnZhbGlkX2lkJyk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiAnSW52YWxpZCB0cmFuc2ZlciBJRCdcbiAgICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICAgICAgY29uc3QgeyBhY3Rpb24gfSA9IGJvZHk7XG5cbiAgICAgICAgaWYgKCFhY3Rpb24gfHwgIVsnY29tcGxldGUnLCAnY2FuY2VsJ10uaW5jbHVkZXMoYWN0aW9uKSkge1xuICAgICAgICAgICAgb3BlcmF0aW9uLmVuZChmYWxzZSwgJ2ludmFsaWRfYWN0aW9uJyk7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiAnSW52YWxpZCBhY3Rpb24uIE11c3QgYmUgXCJjb21wbGV0ZVwiIG9yIFwiY2FuY2VsXCInXG4gICAgICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FmZVF1ZXJ5KFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAodHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlY2xhcmUgYWZmZWN0ZWRQcm9kdWN0SWRzIGJlZm9yZSB1c2luZyBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWZmZWN0ZWRQcm9kdWN0SWRzID0gbmV3IFNldDxudW1iZXI+KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0cmFuc2ZlciB3aXRoIGl0ZW1zXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2ZlciA9IGF3YWl0IHR4LmludmVudG9yeVRyYW5zZmVyLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zlckl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zZmVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNmZXIuc3RhdHVzICE9PSAncGVuZGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCAke2FjdGlvbn0gYSB0cmFuc2ZlciB0aGF0IGlzIG5vdCBpbiBwZW5kaW5nIHN0YXR1c2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSAnY29tcGxldGUnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGVhY2ggdHJhbnNmZXIgaXRlbSBmb3IgY29tcGxldGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0cmFuc2Zlci50cmFuc2Zlckl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHNvdXJjZSBpbnZlbnRvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlSW52ZW50b3J5ID0gYXdhaXQgdHguaW52ZW50b3J5SXRlbS5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wSWQ6IHRyYW5zZmVyLmZyb21TaG9wSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZUludmVudG9yeSB8fCBzb3VyY2VJbnZlbnRvcnkucXVhbnRpdHkgPCBpdGVtLnF1YW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3VmZmljaWVudCBpbnZlbnRvcnkgZm9yIHByb2R1Y3QgSUQgJHtpdGVtLnByb2R1Y3RJZH0gaW4gc291cmNlIHNob3BgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgc2hvcC1zcGVjaWZpYyBjb3N0IGZyb20gc291cmNlIGludmVudG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2ZlckNvc3RQZXJVbml0ID0gc291cmNlSW52ZW50b3J5LnNob3BTcGVjaWZpY0Nvc3QgfHwgMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc291cmNlIGludmVudG9yeSAoZGVjcmVhc2UgcXVhbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LmludmVudG9yeUl0ZW0udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBzb3VyY2VJbnZlbnRvcnkuaWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogc291cmNlSW52ZW50b3J5LnF1YW50aXR5IC0gaXRlbS5xdWFudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29sbGVjdCBpdGVtcyBmb3IgYmF0Y2ggcHJvY2Vzc2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZmZlY3RlZFByb2R1Y3RJZHMuYWRkKGl0ZW0ucHJvZHVjdElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCYXRjaCBwcm9jZXNzIGludmVudG9yeSB1cGRhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5VXBkYXRlczogQXJyYXk8e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29zdDogbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0+ID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdHJhbnNmZXIudHJhbnNmZXJJdGVtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHNob3Atc3BlY2lmaWMgY29zdCBmcm9tIHNvdXJjZSBpbnZlbnRvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlSW52ZW50b3J5ID0gYXdhaXQgdHguaW52ZW50b3J5SXRlbS5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wSWQ6IHRyYW5zZmVyLmZyb21TaG9wSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmZXJDb3N0UGVyVW5pdCA9IHNvdXJjZUludmVudG9yeT8uc2hvcFNwZWNpZmljQ29zdCB8fCAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGRlc3RpbmF0aW9uIGFscmVhZHkgaGFzIHRoaXMgcHJvZHVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXN0SW52ZW50b3J5ID0gYXdhaXQgdHguaW52ZW50b3J5SXRlbS5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wSWQ6IHRyYW5zZmVyLnRvU2hvcElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZDogaXRlbS5wcm9kdWN0SWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZXN0SW52ZW50b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGludmVudG9yeSBpdGVtIGF0IGRlc3RpbmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0eC5pbnZlbnRvcnlJdGVtLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wSWQ6IHRyYW5zZmVyLnRvU2hvcElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IGl0ZW0ucHJvZHVjdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvcFNwZWNpZmljQ29zdDogdHJhbnNmZXJDb3N0UGVyVW5pdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIG5ldyBXQUMgZm9yIGRlc3RpbmF0aW9uIHNob3AgdXNpbmcgd2VpZ2h0ZWQgYXZlcmFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudERlc3RRdWFudGl0eSA9IGRlc3RJbnZlbnRvcnkucXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50RGVzdENvc3QgPSBkZXN0SW52ZW50b3J5LnNob3BTcGVjaWZpY0Nvc3QgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZmVyUXVhbnRpdHkgPSBpdGVtLnF1YW50aXR5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VG90YWxWYWx1ZSA9IGN1cnJlbnREZXN0UXVhbnRpdHkgKiBjdXJyZW50RGVzdENvc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2ZlclRvdGFsVmFsdWUgPSB0cmFuc2ZlclF1YW50aXR5ICogdHJhbnNmZXJDb3N0UGVyVW5pdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RvdGFsUXVhbnRpdHkgPSBjdXJyZW50RGVzdFF1YW50aXR5ICsgdHJhbnNmZXJRdWFudGl0eTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1Nob3BTcGVjaWZpY0Nvc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1RvdGFsUXVhbnRpdHkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2hvcFNwZWNpZmljQ29zdCA9IChjdXJyZW50VG90YWxWYWx1ZSArIHRyYW5zZmVyVG90YWxWYWx1ZSkgLyBuZXdUb3RhbFF1YW50aXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlVcGRhdGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZDogaXRlbS5wcm9kdWN0SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29zdDogbmV3U2hvcFNwZWNpZmljQ29zdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCYXRjaCB1cGRhdGUgZXhpc3RpbmcgaW52ZW50b3J5IGl0ZW1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludmVudG9yeVVwZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVudG9yeVVwZGF0ZXMubWFwKHVwZGF0ZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmludmVudG9yeUl0ZW0udXBkYXRlTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wSWQ6IHRyYW5zZmVyLnRvU2hvcElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiB1cGRhdGUucHJvZHVjdElkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiB7IGluY3JlbWVudDogdXBkYXRlLnF1YW50aXR5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wU3BlY2lmaWNDb3N0OiB1cGRhdGUuY29zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCYXRjaCByZWNhbGN1bGF0ZSBnbG9iYWwgd2VpZ2h0ZWQgYXZlcmFnZSBjb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhY1VwZGF0ZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkuZnJvbShhZmZlY3RlZFByb2R1Y3RJZHMpLm1hcChhc3luYyAocHJvZHVjdElkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxJbnZlbnRvcnlBZnRlclRyYW5zZmVyID0gYXdhaXQgdHguaW52ZW50b3J5SXRlbS5maW5kTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogeyBndDogMCB9IC8vIE9ubHkgY29uc2lkZXIgaW52ZW50b3JpZXMgd2l0aCBzdG9ja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxsSW52ZW50b3J5QWZ0ZXJUcmFuc2Zlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxRdWFudGl0eSA9IGFsbEludmVudG9yeUFmdGVyVHJhbnNmZXIucmVkdWNlKChzdW0sIGludikgPT4gc3VtICsgaW52LnF1YW50aXR5LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFZhbHVlID0gYWxsSW52ZW50b3J5QWZ0ZXJUcmFuc2Zlci5yZWR1Y2UoKHN1bSwgaW52KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdW0gKyAoaW52LnF1YW50aXR5ICogKGludi5zaG9wU3BlY2lmaWNDb3N0IHx8IDApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsb2JhbFdBQyA9IHRvdGFsUXVhbnRpdHkgPiAwID8gdG90YWxWYWx1ZSAvIHRvdGFsUXVhbnRpdHkgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHByb2R1Y3RJZCwgZ2xvYmFsV0FDIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGdsb2JhbCBXQUMgZm9yIGFsbCBhZmZlY3RlZCBwcm9kdWN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YWNVcGRhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHVwZGF0ZSA9PiB1cGRhdGUgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKHVwZGF0ZSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LnByb2R1Y3QudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQ6IHVwZGF0ZSEucHJvZHVjdElkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgd2VpZ2h0ZWRBdmVyYWdlQ29zdDogdXBkYXRlIS5nbG9iYWxXQUMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRyYW5zZmVyIHN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHR4LmludmVudG9yeVRyYW5zZmVyLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogYWN0aW9uID09PSAnY29tcGxldGUnID8gJ2NvbXBsZXRlZCcgOiAnY2FuY2VsbGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdGltZW91dDogMzAwMDAgfSAvLyAzMC1zZWNvbmQgdGltZW91dFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGBGYWlsZWQgdG8gJHthY3Rpb259IHRyYW5zZmVyYFxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICBvcGVyYXRpb24uZW5kKGZhbHNlLCAndXBkYXRlX2ZhaWxlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogYEZhaWxlZCB0byAke2FjdGlvbn0gdHJhbnNmZXJgXG4gICAgICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW52YWxpZGF0ZSByZWxldmFudCBjYWNoZXNcbiAgICAgICAgYXdhaXQgdHJhbnNmZXJDYWNoZVNlcnZpY2UuaW52YWxpZGF0ZVRyYW5zZmVyQ2FjaGUocGFyYW1zLmlkLCBbcmVzdWx0LmZyb21TaG9wSWQsIHJlc3VsdC50b1Nob3BJZF0pO1xuXG4gICAgICAgIG9wZXJhdGlvbi5lbmQodHJ1ZSk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogYFRyYW5zZmVyICR7YWN0aW9ufWQgc3VjY2Vzc2Z1bGx5YCxcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciAke2JvZHk/LmFjdGlvbiB8fCAndXBkYXRpbmcnfSB0cmFuc2ZlciAke2lkfTpgLCBlcnJvcik7XG4gICAgICAgIG9wZXJhdGlvbi5lbmQoZmFsc2UsICd1cGRhdGVfZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogYEZhaWxlZCB0byB1cGRhdGUgdHJhbnNmZXJgXG4gICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufVxuXG4vLyBQVVQ6IFVwZGF0ZSBhIHRyYW5zZmVyIChvbmx5IGlmIHBlbmRpbmcpXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKFxuICAgIHJlcTogTmV4dFJlcXVlc3QsXG4gICAgeyBwYXJhbXMgfTogeyBwYXJhbXM6IHsgaWQ6IHN0cmluZyB9IH1cbikge1xuICAgIGNvbnN0IG9wZXJhdGlvbiA9IHRyYWNrVHJhbnNmZXJPcGVyYXRpb24oJ3VwZGF0ZScpO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGludmVudG9yeTp0cmFuc2ZlciBwZXJtaXNzaW9uXG4gICAgY29uc3QgcGVybWlzc2lvbkVycm9yID0gYXdhaXQgcmVxdWlyZVBlcm1pc3Npb24oJ2ludmVudG9yeTp0cmFuc2ZlcicpKHJlcSk7XG4gICAgaWYgKHBlcm1pc3Npb25FcnJvcikge1xuICAgICAgICBvcGVyYXRpb24uZW5kKGZhbHNlLCAndW5hdXRob3JpemVkJyk7XG4gICAgICAgIHJldHVybiBwZXJtaXNzaW9uRXJyb3I7XG4gICAgfVxuXG4gICAgY29uc3QgaWQgPSBwYXJzZUludChwYXJhbXMuaWQpO1xuICAgIGlmIChpc05hTihpZCkpIHtcbiAgICAgICAgb3BlcmF0aW9uLmVuZChmYWxzZSwgJ2ludmFsaWRfaWQnKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIHRyYW5zZmVyIElEJ1xuICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICAgICAgICBjb25zdCB7IHNvdXJjZVNob3BJZCwgZGVzdGluYXRpb25TaG9wSWQsIGl0ZW1zIH0gPSBib2R5O1xuXG4gICAgICAgIC8vIFZhbGlkYXRlIGlucHV0XG4gICAgICAgIGlmICghc291cmNlU2hvcElkIHx8ICFkZXN0aW5hdGlvblNob3BJZCB8fCAhaXRlbXMgfHwgIUFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgICAgICAgICBvcGVyYXRpb24uZW5kKGZhbHNlLCAnaW52YWxpZF9pbnB1dCcpO1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogJ01pc3NpbmcgcmVxdWlyZWQgZmllbGRzJ1xuICAgICAgICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3VyY2VTaG9wSWQgPT09IGRlc3RpbmF0aW9uU2hvcElkKSB7XG4gICAgICAgICAgICBvcGVyYXRpb24uZW5kKGZhbHNlLCAnc2FtZV9zaG9wJyk7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiAnU291cmNlIGFuZCBkZXN0aW5hdGlvbiBzaG9wcyBjYW5ub3QgYmUgdGhlIHNhbWUnXG4gICAgICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgb3BlcmF0aW9uLmVuZChmYWxzZSwgJ25vX2l0ZW1zJyk7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yOiAnQXQgbGVhc3Qgb25lIGl0ZW0gaXMgcmVxdWlyZWQnXG4gICAgICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVmFsaWRhdGUgaXRlbXNcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0ucHJvZHVjdElkIHx8ICFpdGVtLnF1YW50aXR5IHx8IGl0ZW0ucXVhbnRpdHkgPD0gMCkge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbi5lbmQoZmFsc2UsICdpbnZhbGlkX2l0ZW0nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdJbnZhbGlkIGl0ZW0gZGF0YSdcbiAgICAgICAgICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2FmZVF1ZXJ5KFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBhc3luYyAodHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRyYW5zZmVyIGV4aXN0cyBhbmQgaXMgcGVuZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdUcmFuc2ZlciA9IGF3YWl0IHR4LmludmVudG9yeVRyYW5zZmVyLmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zZmVyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdUcmFuc2Zlci5zdGF0dXMgIT09ICdwZW5kaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBwZW5kaW5nIHRyYW5zZmVycyBjYW4gYmUgZWRpdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBzaG9wcyBleGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlU2hvcCA9IGF3YWl0IHR4LnNob3AuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiBzb3VyY2VTaG9wSWQgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc3RpbmF0aW9uU2hvcCA9IGF3YWl0IHR4LnNob3AuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiBkZXN0aW5hdGlvblNob3BJZCB9IH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZVNob3AgfHwgIWRlc3RpbmF0aW9uU2hvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzaG9wIHNlbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZnkgcHJvZHVjdHMgZXhpc3QgYW5kIGhhdmUgc3VmZmljaWVudCBzdG9ja1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5ID0gYXdhaXQgdHguaW52ZW50b3J5SXRlbS5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3BJZDogc291cmNlU2hvcElkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW52ZW50b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCB0eC5wcm9kdWN0LmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZDogaXRlbS5wcm9kdWN0SWQgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdE5hbWUgPSBwcm9kdWN0ID8gcHJvZHVjdC5uYW1lIDogYFByb2R1Y3QgSUQgJHtpdGVtLnByb2R1Y3RJZH1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb2R1Y3QgXCIke3Byb2R1Y3ROYW1lfVwiIG5vdCBmb3VuZCBpbiBzb3VyY2Ugc2hvcGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnZlbnRvcnkucXVhbnRpdHkgPCBpdGVtLnF1YW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCB0eC5wcm9kdWN0LmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZDogaXRlbS5wcm9kdWN0SWQgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdE5hbWUgPSBwcm9kdWN0ID8gcHJvZHVjdC5uYW1lIDogYFByb2R1Y3QgSUQgJHtpdGVtLnByb2R1Y3RJZH1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEluc3VmZmljaWVudCBzdG9jayBmb3IgXCIke3Byb2R1Y3ROYW1lfVwiLiBBdmFpbGFibGU6ICR7aW52ZW50b3J5LnF1YW50aXR5fSwgUmVxdWVzdGVkOiAke2l0ZW0ucXVhbnRpdHl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdHJhbnNmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRUcmFuc2ZlciA9IGF3YWl0IHR4LmludmVudG9yeVRyYW5zZmVyLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21TaG9wSWQ6IHNvdXJjZVNob3BJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9TaG9wSWQ6IGRlc3RpbmF0aW9uU2hvcElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIGV4aXN0aW5nIHRyYW5zZmVyIGl0ZW1zXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0eC50cmFuc2Zlckl0ZW0uZGVsZXRlTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgdHJhbnNmZXJJZDogaWQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluc2VydCBuZXcgdHJhbnNmZXIgaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZmVySXRlbXNEYXRhID0gaXRlbXMubWFwKChpdGVtOiBhbnkpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXJJZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBpdGVtLnByb2R1Y3RJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogaXRlbS5xdWFudGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0eC50cmFuc2Zlckl0ZW0uY3JlYXRlTWFueSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdHJhbnNmZXJJdGVtc0RhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZFRyYW5zZmVyO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7IHRpbWVvdXQ6IDMwMDAwIH0gLy8gMzAtc2Vjb25kIHRpbWVvdXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAnRmFpbGVkIHRvIHVwZGF0ZSB0cmFuc2ZlcidcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgb3BlcmF0aW9uLmVuZChmYWxzZSwgJ3VwZGF0ZV9mYWlsZWQnKTtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHRyYW5zZmVyJ1xuICAgICAgICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEludmFsaWRhdGUgcmVsZXZhbnQgY2FjaGVzXG4gICAgICAgIGF3YWl0IHRyYW5zZmVyQ2FjaGVTZXJ2aWNlLmludmFsaWRhdGVUcmFuc2ZlckNhY2hlKHBhcmFtcy5pZCwgW3Jlc3VsdC5mcm9tU2hvcElkLCByZXN1bHQudG9TaG9wSWRdKTtcblxuICAgICAgICBvcGVyYXRpb24uZW5kKHRydWUpO1xuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdUcmFuc2ZlciB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICBkYXRhOiB7IGlkIH1cbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgdHJhbnNmZXIgJHtpZH06YCwgZXJyb3IpO1xuICAgICAgICBvcGVyYXRpb24uZW5kKGZhbHNlLCAndXBkYXRlX2Vycm9yJyk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gdXBkYXRlIHRyYW5zZmVyJ1xuICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgIH1cbn1cblxuLy8gREVMRVRFOiBEZWxldGUgYSB0cmFuc2ZlciAob25seSBpZiBwZW5kaW5nKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShcbiAgICByZXE6IE5leHRSZXF1ZXN0LFxuICAgIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XG4pIHtcbiAgICBjb25zdCBvcGVyYXRpb24gPSB0cmFja1RyYW5zZmVyT3BlcmF0aW9uKCdjYW5jZWwnKTtcblxuICAgIC8vIENoZWNrIGZvciBpbnZlbnRvcnk6dHJhbnNmZXIgcGVybWlzc2lvblxuICAgIGNvbnN0IHBlcm1pc3Npb25FcnJvciA9IGF3YWl0IHJlcXVpcmVQZXJtaXNzaW9uKCdpbnZlbnRvcnk6dHJhbnNmZXInKShyZXEpO1xuICAgIGlmIChwZXJtaXNzaW9uRXJyb3IpIHtcbiAgICAgICAgb3BlcmF0aW9uLmVuZChmYWxzZSwgJ3VuYXV0aG9yaXplZCcpO1xuICAgICAgICByZXR1cm4gcGVybWlzc2lvbkVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gcGFyc2VJbnQocGFyYW1zLmlkKTtcbiAgICBpZiAoaXNOYU4oaWQpKSB7XG4gICAgICAgIG9wZXJhdGlvbi5lbmQoZmFsc2UsICdpbnZhbGlkX2lkJyk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiAnSW52YWxpZCB0cmFuc2ZlciBJRCdcbiAgICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzYWZlUXVlcnkoXG4gICAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHByaXNtYS4kdHJhbnNhY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jICh0eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRyYW5zZmVyIHRvIGNoZWNrIHN0YXR1c1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmZXIgPSBhd2FpdCB0eC5pbnZlbnRvcnlUcmFuc2Zlci5maW5kVW5pcXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBpZCB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFuc2Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNmZXIgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zlci5zdGF0dXMgIT09ICdwZW5kaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBwZW5kaW5nIHRyYW5zZmVycyBjYW4gYmUgZGVsZXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgdHJhbnNmZXIgaXRlbXMgYW5kIHRoZSB0cmFuc2ZlciBpdHNlbGZcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LnRyYW5zZmVySXRlbS5kZWxldGVNYW55KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyB0cmFuc2ZlcklkOiBpZCB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHR4LmludmVudG9yeVRyYW5zZmVyLmRlbGV0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHsgaWQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdGltZW91dDogMzAwMDAgfSAvLyAzMC1zZWNvbmQgdGltZW91dFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICdGYWlsZWQgdG8gZGVsZXRlIHRyYW5zZmVyJ1xuICAgICAgICApO1xuXG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICBvcGVyYXRpb24uZW5kKGZhbHNlLCAnZGVsZXRlX2ZhaWxlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgdHJhbnNmZXInXG4gICAgICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW52YWxpZGF0ZSByZWxldmFudCBjYWNoZXNcbiAgICAgICAgYXdhaXQgdHJhbnNmZXJDYWNoZVNlcnZpY2UuaW52YWxpZGF0ZVRyYW5zZmVyQ2FjaGUocGFyYW1zLmlkLCBbcmVzdWx0LmZyb21TaG9wSWQsIHJlc3VsdC50b1Nob3BJZF0pO1xuXG4gICAgICAgIG9wZXJhdGlvbi5lbmQodHJ1ZSk7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1RyYW5zZmVyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBkZWxldGluZyB0cmFuc2ZlciAke2lkfTpgLCBlcnJvcik7XG4gICAgICAgIG9wZXJhdGlvbi5lbmQoZmFsc2UsICdkZWxldGVfZXJyb3InKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBkZWxldGUgdHJhbnNmZXInXG4gICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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LENBQUNrRixNQUFBLEVBQVE7TUFBQTtNQUFBcEYsY0FBQSxHQUFBOEIsQ0FBQTtNQUFBOUIsY0FBQSxHQUFBRSxDQUFBO01BQ1RzQixTQUFBLENBQVVPLEdBQUcsQ0FBQyxPQUFPO01BQUE7TUFBQS9CLGNBQUEsR0FBQUUsQ0FBQTtNQUNyQixPQUFPZ0MsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQztRQUNyQkMsT0FBQSxFQUFTO1FBQ1RDLEtBQUEsRUFBTztNQUNYLEdBQUc7UUFBRTlCLE1BQUEsRUFBUTtNQUFJO0lBQ3JCO0lBQUE7SUFBQTtNQUFBUixjQUFBLEdBQUE4QixDQUFBO0lBQUE7SUFFQTtJQUFBOUIsY0FBQSxHQUFBRSxDQUFBO0lBQ0EsTUFBTXNDLGNBQUEsQ0FBQUssb0JBQW9CLENBQUNzRix1QkFBdUIsQ0FBQzVHLE1BQUEsQ0FBT2hCLEVBQUUsRUFBRSxDQUFDNkUsTUFBQSxDQUFPbEIsVUFBVSxFQUFFa0IsTUFBQSxDQUFPakIsUUFBUSxDQUFDO0lBQUE7SUFBQW5FLGNBQUEsR0FBQUUsQ0FBQTtJQUVsR3NCLFNBQUEsQ0FBVU8sR0FBRyxDQUFDO0lBQUE7SUFBQS9CLGNBQUEsR0FBQUUsQ0FBQTtJQUNkLE9BQU9nQyxPQUFBLENBQUFDLFlBQVksQ0FBQ0MsSUFBSSxDQUFDO01BQ3JCQyxPQUFBLEVBQVM7TUFDVCtGLE9BQUEsRUFBUztJQUNiO0VBQ0osRUFBRSxPQUFPOUYsS0FBQSxFQUFPO0lBQUE7SUFBQXRDLGNBQUEsR0FBQUUsQ0FBQTtJQUNaOEUsT0FBQSxDQUFRMUMsS0FBSyxDQUFDLDJCQUEyQi9CLEVBQUEsR0FBSyxFQUFFK0IsS0FBQTtJQUFBO0lBQUF0QyxjQUFBLEdBQUFFLENBQUE7SUFDaERzQixTQUFBLENBQVVPLEdBQUcsQ0FBQyxPQUFPO0lBQUE7SUFBQS9CLGNBQUEsR0FBQUUsQ0FBQTtJQUNyQixPQUFPZ0MsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQztNQUNyQkMsT0FBQSxFQUFTO01BQ1RDLEtBQUEsRUFBT0EsS0FBQSxZQUFpQm1ELEtBQUE7TUFBQTtNQUFBLENBQUF6RixjQUFBLEdBQUE4QixDQUFBLFdBQVFRLEtBQUEsQ0FBTThGLE9BQU87TUFBQTtNQUFBLENBQUFwSSxjQUFBLEdBQUE4QixDQUFBLFdBQUc7SUFDcEQsR0FBRztNQUFFdEIsTUFBQSxFQUFRO0lBQUk7RUFDckI7QUFDSiIsImlnbm9yZUxpc3QiOltdfQ==