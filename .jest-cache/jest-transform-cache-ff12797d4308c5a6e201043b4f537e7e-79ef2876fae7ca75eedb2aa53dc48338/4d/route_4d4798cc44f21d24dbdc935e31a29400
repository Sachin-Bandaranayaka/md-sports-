0249871be36cb911e38eab78627f3ddf
"use strict";

/* istanbul ignore next */
function cov_1mz236g7zl() {
  var path = "/Users/sachin/Documents/md-sports-/src/app/api/dashboard/sales/route.ts";
  var hash = "a5c31464f371ae6d0f6992f6433bac23792e1367";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/sachin/Documents/md-sports-/src/app/api/dashboard/sales/route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 19
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 30
        }
      },
      "6": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 38
        }
      },
      "7": {
        start: {
          line: 20,
          column: 16
        },
        end: {
          line: 20,
          column: 49
        }
      },
      "8": {
        start: {
          line: 21,
          column: 15
        },
        end: {
          line: 21,
          column: 47
        }
      },
      "9": {
        start: {
          line: 22,
          column: 24
        },
        end: {
          line: 22,
          column: 71
        }
      },
      "10": {
        start: {
          line: 23,
          column: 14
        },
        end: {
          line: 23,
          column: 45
        }
      },
      "11": {
        start: {
          line: 24,
          column: 27
        },
        end: {
          line: 24,
          column: 80
        }
      },
      "12": {
        start: {
          line: 26,
          column: 23
        },
        end: {
          line: 39,
          column: 5
        }
      },
      "13": {
        start: {
          line: 42,
          column: 4
        },
        end: {
          line: 50,
          column: 5
        }
      },
      "14": {
        start: {
          line: 43,
          column: 8
        },
        end: {
          line: 43,
          column: 26
        }
      },
      "15": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 44,
          column: 22
        }
      },
      "16": {
        start: {
          line: 47,
          column: 20
        },
        end: {
          line: 47,
          column: 30
        }
      },
      "17": {
        start: {
          line: 48,
          column: 8
        },
        end: {
          line: 48,
          column: 25
        }
      },
      "18": {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 49,
          column: 67
        }
      },
      "19": {
        start: {
          line: 51,
          column: 19
        },
        end: {
          line: 51,
          column: 21
        }
      },
      "20": {
        start: {
          line: 52,
          column: 20
        },
        end: {
          line: 52,
          column: 70
        }
      },
      "21": {
        start: {
          line: 53,
          column: 4
        },
        end: {
          line: 86,
          column: 5
        }
      },
      "22": {
        start: {
          line: 54,
          column: 27
        },
        end: {
          line: 54,
          column: 81
        }
      },
      "23": {
        start: {
          line: 55,
          column: 25
        },
        end: {
          line: 55,
          column: 100
        }
      },
      "24": {
        start: {
          line: 57,
          column: 26
        },
        end: {
          line: 57,
          column: 57
        }
      },
      "25": {
        start: {
          line: 58,
          column: 28
        },
        end: {
          line: 58,
          column: 67
        }
      },
      "26": {
        start: {
          line: 59,
          column: 32
        },
        end: {
          line: 79,
          column: 105
        }
      },
      "27": {
        start: {
          line: 59,
          column: 65
        },
        end: {
          line: 75,
          column: 14
        }
      },
      "28": {
        start: {
          line: 80,
          column: 8
        },
        end: {
          line: 83,
          column: 11
        }
      },
      "29": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 85,
          column: 49
        }
      },
      "30": {
        start: {
          line: 87,
          column: 4
        },
        end: {
          line: 90,
          column: 6
        }
      },
      "31": {
        start: {
          line: 92,
          column: 12
        },
        end: {
          line: 191,
          column: 2
        }
      },
      "32": {
        start: {
          line: 93,
          column: 4
        },
        end: {
          line: 190,
          column: 5
        }
      },
      "33": {
        start: {
          line: 95,
          column: 27
        },
        end: {
          line: 95,
          column: 90
        }
      },
      "34": {
        start: {
          line: 96,
          column: 8
        },
        end: {
          line: 102,
          column: 9
        }
      },
      "35": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 101,
          column: 15
        }
      },
      "36": {
        start: {
          line: 103,
          column: 33
        },
        end: {
          line: 103,
          column: 53
        }
      },
      "37": {
        start: {
          line: 104,
          column: 31
        },
        end: {
          line: 104,
          column: 60
        }
      },
      "38": {
        start: {
          line: 105,
          column: 29
        },
        end: {
          line: 105,
          column: 56
        }
      },
      "39": {
        start: {
          line: 107,
          column: 28
        },
        end: {
          line: 107,
          column: 72
        }
      },
      "40": {
        start: {
          line: 108,
          column: 8
        },
        end: {
          line: 114,
          column: 9
        }
      },
      "41": {
        start: {
          line: 109,
          column: 12
        },
        end: {
          line: 113,
          column: 15
        }
      },
      "42": {
        start: {
          line: 116,
          column: 21
        },
        end: {
          line: 129,
          column: 10
        }
      },
      "43": {
        start: {
          line: 130,
          column: 8
        },
        end: {
          line: 136,
          column: 9
        }
      },
      "44": {
        start: {
          line: 131,
          column: 12
        },
        end: {
          line: 135,
          column: 15
        }
      },
      "45": {
        start: {
          line: 138,
          column: 24
        },
        end: {
          line: 138,
          column: 236
        }
      },
      "46": {
        start: {
          line: 140,
          column: 27
        },
        end: {
          line: 140,
          column: 31
        }
      },
      "47": {
        start: {
          line: 141,
          column: 8
        },
        end: {
          line: 143,
          column: 9
        }
      },
      "48": {
        start: {
          line: 142,
          column: 12
        },
        end: {
          line: 142,
          column: 39
        }
      },
      "49": {
        start: {
          line: 144,
          column: 23
        },
        end: {
          line: 144,
          column: 65
        }
      },
      "50": {
        start: {
          line: 146,
          column: 24
        },
        end: {
          line: 146,
          column: 74
        }
      },
      "51": {
        start: {
          line: 147,
          column: 26
        },
        end: {
          line: 147,
          column: 116
        }
      },
      "52": {
        start: {
          line: 149,
          column: 28
        },
        end: {
          line: 149,
          column: 60
        }
      },
      "53": {
        start: {
          line: 150,
          column: 29
        },
        end: {
          line: 150,
          column: 110
        }
      },
      "54": {
        start: {
          line: 151,
          column: 25
        },
        end: {
          line: 151,
          column: 97
        }
      },
      "55": {
        start: {
          line: 152,
          column: 27
        },
        end: {
          line: 152,
          column: 66
        }
      },
      "56": {
        start: {
          line: 153,
          column: 8
        },
        end: {
          line: 163,
          column: 9
        }
      },
      "57": {
        start: {
          line: 154,
          column: 12
        },
        end: {
          line: 154,
          column: 58
        }
      },
      "58": {
        start: {
          line: 155,
          column: 12
        },
        end: {
          line: 162,
          column: 15
        }
      },
      "59": {
        start: {
          line: 164,
          column: 8
        },
        end: {
          line: 164,
          column: 62
        }
      },
      "60": {
        start: {
          line: 165,
          column: 28
        },
        end: {
          line: 165,
          column: 101
        }
      },
      "61": {
        start: {
          line: 167,
          column: 8
        },
        end: {
          line: 167,
          column: 66
        }
      },
      "62": {
        start: {
          line: 168,
          column: 8
        },
        end: {
          line: 168,
          column: 68
        }
      },
      "63": {
        start: {
          line: 169,
          column: 8
        },
        end: {
          line: 176,
          column: 11
        }
      },
      "64": {
        start: {
          line: 178,
          column: 8
        },
        end: {
          line: 178,
          column: 61
        }
      },
      "65": {
        start: {
          line: 180,
          column: 8
        },
        end: {
          line: 189,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 9
          },
          end: {
            line: 12,
            column: 10
          }
        },
        loc: {
          start: {
            line: 12,
            column: 20
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 20
          },
          end: {
            line: 15,
            column: 21
          }
        },
        loc: {
          start: {
            line: 15,
            column: 31
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "fetchSalesData",
        decl: {
          start: {
            line: 25,
            column: 15
          },
          end: {
            line: 25,
            column: 29
          }
        },
        loc: {
          start: {
            line: 25,
            column: 78
          },
          end: {
            line: 91,
            column: 1
          }
        },
        line: 25
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 59,
            column: 61
          },
          end: {
            line: 59,
            column: 62
          }
        },
        loc: {
          start: {
            line: 59,
            column: 65
          },
          end: {
            line: 75,
            column: 14
          }
        },
        line: 59
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 92,
            column: 61
          },
          end: {
            line: 92,
            column: 62
          }
        },
        loc: {
          start: {
            line: 92,
            column: 87
          },
          end: {
            line: 191,
            column: 1
          }
        },
        line: 92
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 42,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 42,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        }, {
          start: {
            line: 45,
            column: 11
          },
          end: {
            line: 50,
            column: 5
          }
        }],
        line: 42
      },
      "1": {
        loc: {
          start: {
            line: 42,
            column: 8
          },
          end: {
            line: 42,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 42,
            column: 8
          },
          end: {
            line: 42,
            column: 17
          }
        }, {
          start: {
            line: 42,
            column: 21
          },
          end: {
            line: 42,
            column: 28
          }
        }],
        line: 42
      },
      "2": {
        loc: {
          start: {
            line: 57,
            column: 26
          },
          end: {
            line: 57,
            column: 57
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 57,
            column: 43
          },
          end: {
            line: 57,
            column: 46
          }
        }, {
          start: {
            line: 57,
            column: 49
          },
          end: {
            line: 57,
            column: 57
          }
        }],
        line: 57
      },
      "3": {
        loc: {
          start: {
            line: 58,
            column: 28
          },
          end: {
            line: 58,
            column: 67
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 58,
            column: 49
          },
          end: {
            line: 58,
            column: 54
          }
        }, {
          start: {
            line: 58,
            column: 57
          },
          end: {
            line: 58,
            column: 67
          }
        }],
        line: 58
      },
      "4": {
        loc: {
          start: {
            line: 65,
            column: 23
          },
          end: {
            line: 67,
            column: 26
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 65,
            column: 32
          },
          end: {
            line: 67,
            column: 21
          }
        }, {
          start: {
            line: 67,
            column: 24
          },
          end: {
            line: 67,
            column: 26
          }
        }],
        line: 65
      },
      "5": {
        loc: {
          start: {
            line: 68,
            column: 23
          },
          end: {
            line: 70,
            column: 26
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 68,
            column: 32
          },
          end: {
            line: 70,
            column: 21
          }
        }, {
          start: {
            line: 70,
            column: 24
          },
          end: {
            line: 70,
            column: 26
          }
        }],
        line: 68
      },
      "6": {
        loc: {
          start: {
            line: 82,
            column: 19
          },
          end: {
            line: 82,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 82,
            column: 19
          },
          end: {
            line: 82,
            column: 45
          }
        }, {
          start: {
            line: 82,
            column: 49
          },
          end: {
            line: 82,
            column: 50
          }
        }],
        line: 82
      },
      "7": {
        loc: {
          start: {
            line: 96,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 96,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 96
      },
      "8": {
        loc: {
          start: {
            line: 108,
            column: 8
          },
          end: {
            line: 114,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 108,
            column: 8
          },
          end: {
            line: 114,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 108
      },
      "9": {
        loc: {
          start: {
            line: 130,
            column: 8
          },
          end: {
            line: 136,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 130,
            column: 8
          },
          end: {
            line: 136,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 130
      },
      "10": {
        loc: {
          start: {
            line: 138,
            column: 24
          },
          end: {
            line: 138,
            column: 236
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 138,
            column: 24
          },
          end: {
            line: 138,
            column: 49
          }
        }, {
          start: {
            line: 138,
            column: 53
          },
          end: {
            line: 138,
            column: 84
          }
        }, {
          start: {
            line: 138,
            column: 88
          },
          end: {
            line: 138,
            column: 163
          }
        }, {
          start: {
            line: 138,
            column: 167
          },
          end: {
            line: 138,
            column: 236
          }
        }],
        line: 138
      },
      "11": {
        loc: {
          start: {
            line: 141,
            column: 8
          },
          end: {
            line: 143,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 141,
            column: 8
          },
          end: {
            line: 143,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 141
      },
      "12": {
        loc: {
          start: {
            line: 144,
            column: 23
          },
          end: {
            line: 144,
            column: 65
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 144,
            column: 44
          },
          end: {
            line: 144,
            column: 58
          }
        }, {
          start: {
            line: 144,
            column: 61
          },
          end: {
            line: 144,
            column: 65
          }
        }],
        line: 144
      },
      "13": {
        loc: {
          start: {
            line: 146,
            column: 24
          },
          end: {
            line: 146,
            column: 74
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 146,
            column: 39
          },
          end: {
            line: 146,
            column: 61
          }
        }, {
          start: {
            line: 146,
            column: 64
          },
          end: {
            line: 146,
            column: 74
          }
        }],
        line: 146
      },
      "14": {
        loc: {
          start: {
            line: 147,
            column: 26
          },
          end: {
            line: 147,
            column: 116
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 147,
            column: 43
          },
          end: {
            line: 147,
            column: 67
          }
        }, {
          start: {
            line: 147,
            column: 70
          },
          end: {
            line: 147,
            column: 116
          }
        }],
        line: 147
      },
      "15": {
        loc: {
          start: {
            line: 149,
            column: 28
          },
          end: {
            line: 149,
            column: 60
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 149,
            column: 38
          },
          end: {
            line: 149,
            column: 45
          }
        }, {
          start: {
            line: 149,
            column: 48
          },
          end: {
            line: 149,
            column: 60
          }
        }],
        line: 149
      },
      "16": {
        loc: {
          start: {
            line: 151,
            column: 44
          },
          end: {
            line: 151,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 151,
            column: 44
          },
          end: {
            line: 151,
            column: 50
          }
        }, {
          start: {
            line: 151,
            column: 54
          },
          end: {
            line: 151,
            column: 59
          }
        }],
        line: 151
      },
      "17": {
        loc: {
          start: {
            line: 153,
            column: 8
          },
          end: {
            line: 163,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 153,
            column: 8
          },
          end: {
            line: 163,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 153
      },
      "18": {
        loc: {
          start: {
            line: 183,
            column: 21
          },
          end: {
            line: 183,
            column: 77
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 183,
            column: 46
          },
          end: {
            line: 183,
            column: 59
          }
        }, {
          start: {
            line: 183,
            column: 62
          },
          end: {
            line: 183,
            column: 77
          }
        }],
        line: 183
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0, 0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/sachin/Documents/md-sports-/src/app/api/dashboard/sales/route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { prisma, safeQuery } from '@/lib/prisma';\nimport { cacheService } from '@/lib/cache';\nimport { ShopAccessControl } from '@/lib/utils/shopMiddleware';\nimport { validateTokenPermission, getUserIdFromToken } from '@/lib/auth';\nimport { permissionService } from '@/lib/services/PermissionService';\n\nexport async function fetchSalesData(shopId?: string | null, periodDays?: number, startDate?: Date, endDate?: Date, userId?: string | null) {\n    const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    \n    let start: Date;\n    let end: Date;\n\n    if (startDate && endDate) {\n        start = startDate;\n        end = endDate;\n    } else {\n        // Default behavior - last 6 months\n        const now = new Date();\n        end = new Date();\n        start = new Date(now.getFullYear(), now.getMonth() - 5, 1);\n    }\n    \n    const months = [];\n    const current = new Date(start.getFullYear(), start.getMonth(), 1);\n\n    while (current <= end) {\n        const monthStart = new Date(current.getFullYear(), current.getMonth(), 1);\n        const monthEnd = new Date(current.getFullYear(), current.getMonth() + 1, 0, 23, 59, 59, 999);\n\n        // Ensure we don't go beyond the specified end date\n        const actualEnd = monthEnd > end ? end : monthEnd;\n        const actualStart = monthStart < start ? start : monthStart;\n\n        const monthlyInvoices = await safeQuery(\n            () => prisma.invoice.aggregate({\n                where: {\n                    createdAt: {\n                        gte: actualStart,\n                        lte: actualEnd\n                    },\n                    ...(shopId ? { shopId } : {}),\n                    ...(userId ? { createdBy: userId } : {})\n                },\n                _sum: {\n                    total: true\n                }\n            }),\n            { _sum: { total: null } },\n            `Failed to fetch invoice data for ${monthNames[current.getMonth()]} ${current.getFullYear()}`\n        );\n\n        months.push({\n            month: `${monthNames[current.getMonth()]} ${current.getFullYear()}`,\n            sales: monthlyInvoices._sum.total || 0\n        });\n\n        // Move to next month\n        current.setMonth(current.getMonth() + 1);\n    }\n\n    return {\n        success: true,\n        data: months\n    };\n}\n\n// GET: Fetch monthly sales data with shop-based filtering\nexport const GET = ShopAccessControl.withShopAccess(async (request: NextRequest, context) => {\n    try {\n        // Validate token and permissions\n        const authResult = await validateTokenPermission(request, 'view_sales');\n        if (!authResult.isValid) {\n            return NextResponse.json({ error: authResult.message }, { status: 401 });\n        }\n\n        const { searchParams } = new URL(request.url);\n        const startDateParam = searchParams.get('startDate');\n        const endDateParam = searchParams.get('endDate');\n\n        // Get user ID from token\n        const tokenUserId = await getUserIdFromToken(request);\n        if (!tokenUserId) {\n            return NextResponse.json({ error: 'User ID not found in token' }, { status: 401 });\n        }\n\n        // Fetch user details to check role and permissions\n        const user = await prisma.user.findUnique({\n            where: { id: tokenUserId },\n            select: {\n                id: true,\n                name: true,\n                email: true,\n                roleId: true,\n                roleName: true,\n                permissions: true,\n                shopId: true\n            }\n        });\n\n        if (!user) {\n            return NextResponse.json({ error: 'User not found' }, { status: 404 });\n        }\n\n        // Check if user is admin or has admin permissions\n        const isAdmin = user.roleName === 'Admin' || user.roleName === 'Super Admin' || \n                       await permissionService.hasPermission(user, 'admin:all') || \n                       await permissionService.hasPermission(user, 'ALL');\n\n        // Determine user filtering\n        let filterUserId: string | null = null;\n        if (!isAdmin) {\n            filterUserId = tokenUserId;\n        }\n\n        const shopId = context.isFiltered ? context.shopId : null;\n        \n        // Determine date range\n        const endDate = endDateParam ? new Date(endDateParam) : new Date();\n        const startDate = startDateParam ? new Date(startDateParam) : new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);\n\n        // Create cache key that includes shop context and user context and date range\n        const userContext = isAdmin ? 'admin' : filterUserId;\n        const dateRangeKey = `${startDate.toISOString().split('T')[0]}-${endDate.toISOString().split('T')[0]}`;\n        const cacheKey = `dashboard:sales:${shopId || 'all'}:user:${userContext}:${dateRangeKey}`;\n        \n        const cachedData = await cacheService.get(cacheKey);\n\n        if (cachedData) {\n            console.log('\u2705 Sales data served from cache');\n            return NextResponse.json({\n                ...cachedData,\n                meta: {\n                    shopFiltered: context.isFiltered,\n                    shopId: context.shopId,\n                    fromCache: true\n                }\n            });\n        }\n\n        console.log('\uD83D\uDD04 Fetching fresh sales data');\n        const salesResult = await fetchSalesData(\n            shopId,\n            undefined,\n            startDate,\n            endDate,\n            filterUserId\n        );\n\n        // Cache for 5 minutes (sales data changes less frequently)\n        await cacheService.set(cacheKey, salesResult, 300);\n        console.log('\uD83D\uDCBE Sales data cached for 5 minutes');\n\n        return NextResponse.json({\n            ...salesResult,\n            meta: {\n                shopFiltered: context.isFiltered,\n                shopId: context.shopId,\n                fromCache: false\n            }\n        });\n    } catch (error) {\n        console.error('Error generating sales data:', error);\n\n        // Return empty array on error\n        return NextResponse.json({\n            success: false,\n            data: [],\n            message: error instanceof Error ? error.message : 'Unknown error',\n            meta: {\n                shopFiltered: context.isFiltered,\n                shopId: context.shopId,\n                error: true\n            }\n        });\n    }\n});"],
      names: ["GET", "fetchSalesData", "shopId", "periodDays", "startDate", "endDate", "userId", "monthNames", "start", "end", "now", "Date", "getFullYear", "getMonth", "months", "current", "monthStart", "monthEnd", "actualEnd", "actualStart", "monthlyInvoices", "safeQuery", "prisma", "invoice", "aggregate", "where", "createdAt", "gte", "lte", "createdBy", "_sum", "total", "push", "month", "sales", "setMonth", "success", "data", "ShopAccessControl", "withShopAccess", "request", "context", "authResult", "validateTokenPermission", "isValid", "NextResponse", "json", "error", "message", "status", "searchParams", "URL", "url", "startDateParam", "get", "endDateParam", "tokenUserId", "getUserIdFromToken", "user", "findUnique", "id", "select", "name", "email", "roleId", "roleName", "permissions", "isAdmin", "permissionService", "hasPermission", "filterUserId", "isFiltered", "userContext", "dateRangeKey", "toISOString", "split", "cacheKey", "cachedData", "cacheService", "console", "log", "meta", "shopFiltered", "fromCache", "salesResult", "undefined", "set", "Error"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "a5c31464f371ae6d0f6992f6433bac23792e1367"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1mz236g7zl = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1mz236g7zl();
cov_1mz236g7zl().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1mz236g7zl().f[0]++;
  cov_1mz236g7zl().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1mz236g7zl().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: all[name]
    });
  }
}
/* istanbul ignore next */
cov_1mz236g7zl().s[3]++;
_export(exports, {
  GET: function () {
    /* istanbul ignore next */
    cov_1mz236g7zl().f[1]++;
    cov_1mz236g7zl().s[4]++;
    return GET;
  },
  fetchSalesData: function () {
    /* istanbul ignore next */
    cov_1mz236g7zl().f[2]++;
    cov_1mz236g7zl().s[5]++;
    return fetchSalesData;
  }
});
const _server =
/* istanbul ignore next */
(cov_1mz236g7zl().s[6]++, require("next/server"));
const _prisma =
/* istanbul ignore next */
(cov_1mz236g7zl().s[7]++, require("../../../../lib/prisma"));
const _cache =
/* istanbul ignore next */
(cov_1mz236g7zl().s[8]++, require("../../../../lib/cache"));
const _shopMiddleware =
/* istanbul ignore next */
(cov_1mz236g7zl().s[9]++, require("../../../../lib/utils/shopMiddleware"));
const _auth =
/* istanbul ignore next */
(cov_1mz236g7zl().s[10]++, require("../../../../lib/auth"));
const _PermissionService =
/* istanbul ignore next */
(cov_1mz236g7zl().s[11]++, require("../../../../lib/services/PermissionService"));
async function fetchSalesData(shopId, periodDays, startDate, endDate, userId) {
  /* istanbul ignore next */
  cov_1mz236g7zl().f[3]++;
  const monthNames =
  /* istanbul ignore next */
  (cov_1mz236g7zl().s[12]++, ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]);
  let start;
  let end;
  /* istanbul ignore next */
  cov_1mz236g7zl().s[13]++;
  if (
  /* istanbul ignore next */
  (cov_1mz236g7zl().b[1][0]++, startDate) &&
  /* istanbul ignore next */
  (cov_1mz236g7zl().b[1][1]++, endDate)) {
    /* istanbul ignore next */
    cov_1mz236g7zl().b[0][0]++;
    cov_1mz236g7zl().s[14]++;
    start = startDate;
    /* istanbul ignore next */
    cov_1mz236g7zl().s[15]++;
    end = endDate;
  } else {
    /* istanbul ignore next */
    cov_1mz236g7zl().b[0][1]++;
    // Default behavior - last 6 months
    const now =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[16]++, new Date());
    /* istanbul ignore next */
    cov_1mz236g7zl().s[17]++;
    end = new Date();
    /* istanbul ignore next */
    cov_1mz236g7zl().s[18]++;
    start = new Date(now.getFullYear(), now.getMonth() - 5, 1);
  }
  const months =
  /* istanbul ignore next */
  (cov_1mz236g7zl().s[19]++, []);
  const current =
  /* istanbul ignore next */
  (cov_1mz236g7zl().s[20]++, new Date(start.getFullYear(), start.getMonth(), 1));
  /* istanbul ignore next */
  cov_1mz236g7zl().s[21]++;
  while (current <= end) {
    const monthStart =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[22]++, new Date(current.getFullYear(), current.getMonth(), 1));
    const monthEnd =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[23]++, new Date(current.getFullYear(), current.getMonth() + 1, 0, 23, 59, 59, 999));
    // Ensure we don't go beyond the specified end date
    const actualEnd =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[24]++, monthEnd > end ?
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[2][0]++, end) :
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[2][1]++, monthEnd));
    const actualStart =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[25]++, monthStart < start ?
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[3][0]++, start) :
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[3][1]++, monthStart));
    const monthlyInvoices =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[26]++, await (0, _prisma.safeQuery)(() => {
      /* istanbul ignore next */
      cov_1mz236g7zl().f[4]++;
      cov_1mz236g7zl().s[27]++;
      return _prisma.prisma.invoice.aggregate({
        where: {
          createdAt: {
            gte: actualStart,
            lte: actualEnd
          },
          ...(shopId ?
          /* istanbul ignore next */
          (cov_1mz236g7zl().b[4][0]++, {
            shopId
          }) :
          /* istanbul ignore next */
          (cov_1mz236g7zl().b[4][1]++, {})),
          ...(userId ?
          /* istanbul ignore next */
          (cov_1mz236g7zl().b[5][0]++, {
            createdBy: userId
          }) :
          /* istanbul ignore next */
          (cov_1mz236g7zl().b[5][1]++, {}))
        },
        _sum: {
          total: true
        }
      });
    }, {
      _sum: {
        total: null
      }
    }, `Failed to fetch invoice data for ${monthNames[current.getMonth()]} ${current.getFullYear()}`));
    /* istanbul ignore next */
    cov_1mz236g7zl().s[28]++;
    months.push({
      month: `${monthNames[current.getMonth()]} ${current.getFullYear()}`,
      sales:
      /* istanbul ignore next */
      (cov_1mz236g7zl().b[6][0]++, monthlyInvoices._sum.total) ||
      /* istanbul ignore next */
      (cov_1mz236g7zl().b[6][1]++, 0)
    });
    // Move to next month
    /* istanbul ignore next */
    cov_1mz236g7zl().s[29]++;
    current.setMonth(current.getMonth() + 1);
  }
  /* istanbul ignore next */
  cov_1mz236g7zl().s[30]++;
  return {
    success: true,
    data: months
  };
}
const GET =
/* istanbul ignore next */
(cov_1mz236g7zl().s[31]++, _shopMiddleware.ShopAccessControl.withShopAccess(async (request, context) => {
  /* istanbul ignore next */
  cov_1mz236g7zl().f[5]++;
  cov_1mz236g7zl().s[32]++;
  try {
    // Validate token and permissions
    const authResult =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[33]++, await (0, _auth.validateTokenPermission)(request, "view_sales"));
    /* istanbul ignore next */
    cov_1mz236g7zl().s[34]++;
    if (!authResult.isValid) {
      /* istanbul ignore next */
      cov_1mz236g7zl().b[7][0]++;
      cov_1mz236g7zl().s[35]++;
      return _server.NextResponse.json({
        error: authResult.message
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_1mz236g7zl().b[7][1]++;
    }
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[36]++, new URL(request.url));
    const startDateParam =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[37]++, searchParams.get("startDate"));
    const endDateParam =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[38]++, searchParams.get("endDate"));
    // Get user ID from token
    const tokenUserId =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[39]++, await (0, _auth.getUserIdFromToken)(request));
    /* istanbul ignore next */
    cov_1mz236g7zl().s[40]++;
    if (!tokenUserId) {
      /* istanbul ignore next */
      cov_1mz236g7zl().b[8][0]++;
      cov_1mz236g7zl().s[41]++;
      return _server.NextResponse.json({
        error: "User ID not found in token"
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_1mz236g7zl().b[8][1]++;
    }
    // Fetch user details to check role and permissions
    const user =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[42]++, await _prisma.prisma.user.findUnique({
      where: {
        id: tokenUserId
      },
      select: {
        id: true,
        name: true,
        email: true,
        roleId: true,
        roleName: true,
        permissions: true,
        shopId: true
      }
    }));
    /* istanbul ignore next */
    cov_1mz236g7zl().s[43]++;
    if (!user) {
      /* istanbul ignore next */
      cov_1mz236g7zl().b[9][0]++;
      cov_1mz236g7zl().s[44]++;
      return _server.NextResponse.json({
        error: "User not found"
      }, {
        status: 404
      });
    } else
    /* istanbul ignore next */
    {
      cov_1mz236g7zl().b[9][1]++;
    }
    // Check if user is admin or has admin permissions
    const isAdmin =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[45]++,
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[10][0]++, user.roleName === "Admin") ||
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[10][1]++, user.roleName === "Super Admin") ||
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[10][2]++, await _PermissionService.permissionService.hasPermission(user, "admin:all")) ||
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[10][3]++, await _PermissionService.permissionService.hasPermission(user, "ALL")));
    // Determine user filtering
    let filterUserId =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[46]++, null);
    /* istanbul ignore next */
    cov_1mz236g7zl().s[47]++;
    if (!isAdmin) {
      /* istanbul ignore next */
      cov_1mz236g7zl().b[11][0]++;
      cov_1mz236g7zl().s[48]++;
      filterUserId = tokenUserId;
    } else
    /* istanbul ignore next */
    {
      cov_1mz236g7zl().b[11][1]++;
    }
    const shopId =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[49]++, context.isFiltered ?
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[12][0]++, context.shopId) :
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[12][1]++, null));
    // Determine date range
    const endDate =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[50]++, endDateParam ?
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[13][0]++, new Date(endDateParam)) :
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[13][1]++, new Date()));
    const startDate =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[51]++, startDateParam ?
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[14][0]++, new Date(startDateParam)) :
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[14][1]++, new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)));
    // Create cache key that includes shop context and user context and date range
    const userContext =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[52]++, isAdmin ?
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[15][0]++, "admin") :
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[15][1]++, filterUserId));
    const dateRangeKey =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[53]++, `${startDate.toISOString().split("T")[0]}-${endDate.toISOString().split("T")[0]}`);
    const cacheKey =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[54]++, `dashboard:sales:${
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[16][0]++, shopId) ||
    /* istanbul ignore next */
    (cov_1mz236g7zl().b[16][1]++, "all")}:user:${userContext}:${dateRangeKey}`);
    const cachedData =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[55]++, await _cache.cacheService.get(cacheKey));
    /* istanbul ignore next */
    cov_1mz236g7zl().s[56]++;
    if (cachedData) {
      /* istanbul ignore next */
      cov_1mz236g7zl().b[17][0]++;
      cov_1mz236g7zl().s[57]++;
      console.log("✅ Sales data served from cache");
      /* istanbul ignore next */
      cov_1mz236g7zl().s[58]++;
      return _server.NextResponse.json({
        ...cachedData,
        meta: {
          shopFiltered: context.isFiltered,
          shopId: context.shopId,
          fromCache: true
        }
      });
    } else
    /* istanbul ignore next */
    {
      cov_1mz236g7zl().b[17][1]++;
    }
    cov_1mz236g7zl().s[59]++;
    console.log("\uD83D\uDD04 Fetching fresh sales data");
    const salesResult =
    /* istanbul ignore next */
    (cov_1mz236g7zl().s[60]++, await fetchSalesData(shopId, undefined, startDate, endDate, filterUserId));
    // Cache for 5 minutes (sales data changes less frequently)
    /* istanbul ignore next */
    cov_1mz236g7zl().s[61]++;
    await _cache.cacheService.set(cacheKey, salesResult, 300);
    /* istanbul ignore next */
    cov_1mz236g7zl().s[62]++;
    console.log("\uD83D\uDCBE Sales data cached for 5 minutes");
    /* istanbul ignore next */
    cov_1mz236g7zl().s[63]++;
    return _server.NextResponse.json({
      ...salesResult,
      meta: {
        shopFiltered: context.isFiltered,
        shopId: context.shopId,
        fromCache: false
      }
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_1mz236g7zl().s[64]++;
    console.error("Error generating sales data:", error);
    // Return empty array on error
    /* istanbul ignore next */
    cov_1mz236g7zl().s[65]++;
    return _server.NextResponse.json({
      success: false,
      data: [],
      message: error instanceof Error ?
      /* istanbul ignore next */
      (cov_1mz236g7zl().b[18][0]++, error.message) :
      /* istanbul ignore next */
      (cov_1mz236g7zl().b[18][1]++, "Unknown error"),
      meta: {
        shopFiltered: context.isFiltered,
        shopId: context.shopId,
        error: true
      }
    });
  }
}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHRVQiLCJjb3ZfMW16MjM2Zzd6bCIsImYiLCJzIiwiZmV0Y2hTYWxlc0RhdGEiLCJzaG9wSWQiLCJwZXJpb2REYXlzIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInVzZXJJZCIsIm1vbnRoTmFtZXMiLCJzdGFydCIsImVuZCIsImIiLCJub3ciLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsIm1vbnRocyIsImN1cnJlbnQiLCJtb250aFN0YXJ0IiwibW9udGhFbmQiLCJhY3R1YWxFbmQiLCJhY3R1YWxTdGFydCIsIm1vbnRobHlJbnZvaWNlcyIsIl9wcmlzbWEiLCJzYWZlUXVlcnkiLCJwcmlzbWEiLCJpbnZvaWNlIiwiYWdncmVnYXRlIiwid2hlcmUiLCJjcmVhdGVkQXQiLCJndGUiLCJsdGUiLCJjcmVhdGVkQnkiLCJfc3VtIiwidG90YWwiLCJwdXNoIiwibW9udGgiLCJzYWxlcyIsInNldE1vbnRoIiwic3VjY2VzcyIsImRhdGEiLCJfc2hvcE1pZGRsZXdhcmUiLCJTaG9wQWNjZXNzQ29udHJvbCIsIndpdGhTaG9wQWNjZXNzIiwicmVxdWVzdCIsImNvbnRleHQiLCJhdXRoUmVzdWx0IiwiX2F1dGgiLCJ2YWxpZGF0ZVRva2VuUGVybWlzc2lvbiIsImlzVmFsaWQiLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsImVycm9yIiwibWVzc2FnZSIsInN0YXR1cyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInN0YXJ0RGF0ZVBhcmFtIiwiZ2V0IiwiZW5kRGF0ZVBhcmFtIiwidG9rZW5Vc2VySWQiLCJnZXRVc2VySWRGcm9tVG9rZW4iLCJ1c2VyIiwiZmluZFVuaXF1ZSIsImlkIiwic2VsZWN0IiwibmFtZSIsImVtYWlsIiwicm9sZUlkIiwicm9sZU5hbWUiLCJwZXJtaXNzaW9ucyIsImlzQWRtaW4iLCJfUGVybWlzc2lvblNlcnZpY2UiLCJwZXJtaXNzaW9uU2VydmljZSIsImhhc1Blcm1pc3Npb24iLCJmaWx0ZXJVc2VySWQiLCJpc0ZpbHRlcmVkIiwidXNlckNvbnRleHQiLCJkYXRlUmFuZ2VLZXkiLCJ0b0lTT1N0cmluZyIsInNwbGl0IiwiY2FjaGVLZXkiLCJjYWNoZWREYXRhIiwiX2NhY2hlIiwiY2FjaGVTZXJ2aWNlIiwiY29uc29sZSIsImxvZyIsIm1ldGEiLCJzaG9wRmlsdGVyZWQiLCJmcm9tQ2FjaGUiLCJzYWxlc1Jlc3VsdCIsInVuZGVmaW5lZCIsInNldCIsIkVycm9yIl0sInNvdXJjZXMiOlsiL1VzZXJzL3NhY2hpbi9Eb2N1bWVudHMvbWQtc3BvcnRzLS9zcmMvYXBwL2FwaS9kYXNoYm9hcmQvc2FsZXMvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHByaXNtYSwgc2FmZVF1ZXJ5IH0gZnJvbSAnQC9saWIvcHJpc21hJztcbmltcG9ydCB7IGNhY2hlU2VydmljZSB9IGZyb20gJ0AvbGliL2NhY2hlJztcbmltcG9ydCB7IFNob3BBY2Nlc3NDb250cm9sIH0gZnJvbSAnQC9saWIvdXRpbHMvc2hvcE1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgdmFsaWRhdGVUb2tlblBlcm1pc3Npb24sIGdldFVzZXJJZEZyb21Ub2tlbiB9IGZyb20gJ0AvbGliL2F1dGgnO1xuaW1wb3J0IHsgcGVybWlzc2lvblNlcnZpY2UgfSBmcm9tICdAL2xpYi9zZXJ2aWNlcy9QZXJtaXNzaW9uU2VydmljZSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFNhbGVzRGF0YShzaG9wSWQ/OiBzdHJpbmcgfCBudWxsLCBwZXJpb2REYXlzPzogbnVtYmVyLCBzdGFydERhdGU/OiBEYXRlLCBlbmREYXRlPzogRGF0ZSwgdXNlcklkPzogc3RyaW5nIHwgbnVsbCkge1xuICAgIGNvbnN0IG1vbnRoTmFtZXMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ107XG4gICAgXG4gICAgbGV0IHN0YXJ0OiBEYXRlO1xuICAgIGxldCBlbmQ6IERhdGU7XG5cbiAgICBpZiAoc3RhcnREYXRlICYmIGVuZERhdGUpIHtcbiAgICAgICAgc3RhcnQgPSBzdGFydERhdGU7XG4gICAgICAgIGVuZCA9IGVuZERhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGVmYXVsdCBiZWhhdmlvciAtIGxhc3QgNiBtb250aHNcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgZW5kID0gbmV3IERhdGUoKTtcbiAgICAgICAgc3RhcnQgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCkgLSA1LCAxKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbW9udGhzID0gW107XG4gICAgY29uc3QgY3VycmVudCA9IG5ldyBEYXRlKHN0YXJ0LmdldEZ1bGxZZWFyKCksIHN0YXJ0LmdldE1vbnRoKCksIDEpO1xuXG4gICAgd2hpbGUgKGN1cnJlbnQgPD0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG1vbnRoU3RhcnQgPSBuZXcgRGF0ZShjdXJyZW50LmdldEZ1bGxZZWFyKCksIGN1cnJlbnQuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIGNvbnN0IG1vbnRoRW5kID0gbmV3IERhdGUoY3VycmVudC5nZXRGdWxsWWVhcigpLCBjdXJyZW50LmdldE1vbnRoKCkgKyAxLCAwLCAyMywgNTksIDU5LCA5OTkpO1xuXG4gICAgICAgIC8vIEVuc3VyZSB3ZSBkb24ndCBnbyBiZXlvbmQgdGhlIHNwZWNpZmllZCBlbmQgZGF0ZVxuICAgICAgICBjb25zdCBhY3R1YWxFbmQgPSBtb250aEVuZCA+IGVuZCA/IGVuZCA6IG1vbnRoRW5kO1xuICAgICAgICBjb25zdCBhY3R1YWxTdGFydCA9IG1vbnRoU3RhcnQgPCBzdGFydCA/IHN0YXJ0IDogbW9udGhTdGFydDtcblxuICAgICAgICBjb25zdCBtb250aGx5SW52b2ljZXMgPSBhd2FpdCBzYWZlUXVlcnkoXG4gICAgICAgICAgICAoKSA9PiBwcmlzbWEuaW52b2ljZS5hZ2dyZWdhdGUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3RlOiBhY3R1YWxTdGFydCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGx0ZTogYWN0dWFsRW5kXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC4uLihzaG9wSWQgPyB7IHNob3BJZCB9IDoge30pLFxuICAgICAgICAgICAgICAgICAgICAuLi4odXNlcklkID8geyBjcmVhdGVkQnk6IHVzZXJJZCB9IDoge30pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfc3VtOiB7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB7IF9zdW06IHsgdG90YWw6IG51bGwgfSB9LFxuICAgICAgICAgICAgYEZhaWxlZCB0byBmZXRjaCBpbnZvaWNlIGRhdGEgZm9yICR7bW9udGhOYW1lc1tjdXJyZW50LmdldE1vbnRoKCldfSAke2N1cnJlbnQuZ2V0RnVsbFllYXIoKX1gXG4gICAgICAgICk7XG5cbiAgICAgICAgbW9udGhzLnB1c2goe1xuICAgICAgICAgICAgbW9udGg6IGAke21vbnRoTmFtZXNbY3VycmVudC5nZXRNb250aCgpXX0gJHtjdXJyZW50LmdldEZ1bGxZZWFyKCl9YCxcbiAgICAgICAgICAgIHNhbGVzOiBtb250aGx5SW52b2ljZXMuX3N1bS50b3RhbCB8fCAwXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE1vdmUgdG8gbmV4dCBtb250aFxuICAgICAgICBjdXJyZW50LnNldE1vbnRoKGN1cnJlbnQuZ2V0TW9udGgoKSArIDEpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vbnRoc1xuICAgIH07XG59XG5cbi8vIEdFVDogRmV0Y2ggbW9udGhseSBzYWxlcyBkYXRhIHdpdGggc2hvcC1iYXNlZCBmaWx0ZXJpbmdcbmV4cG9ydCBjb25zdCBHRVQgPSBTaG9wQWNjZXNzQ29udHJvbC53aXRoU2hvcEFjY2Vzcyhhc3luYyAocmVxdWVzdDogTmV4dFJlcXVlc3QsIGNvbnRleHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICAvLyBWYWxpZGF0ZSB0b2tlbiBhbmQgcGVybWlzc2lvbnNcbiAgICAgICAgY29uc3QgYXV0aFJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlVG9rZW5QZXJtaXNzaW9uKHJlcXVlc3QsICd2aWV3X3NhbGVzJyk7XG4gICAgICAgIGlmICghYXV0aFJlc3VsdC5pc1ZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogYXV0aFJlc3VsdC5tZXNzYWdlIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVBhcmFtID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhcnREYXRlJyk7XG4gICAgICAgIGNvbnN0IGVuZERhdGVQYXJhbSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2VuZERhdGUnKTtcblxuICAgICAgICAvLyBHZXQgdXNlciBJRCBmcm9tIHRva2VuXG4gICAgICAgIGNvbnN0IHRva2VuVXNlcklkID0gYXdhaXQgZ2V0VXNlcklkRnJvbVRva2VuKHJlcXVlc3QpO1xuICAgICAgICBpZiAoIXRva2VuVXNlcklkKSB7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VzZXIgSUQgbm90IGZvdW5kIGluIHRva2VuJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmV0Y2ggdXNlciBkZXRhaWxzIHRvIGNoZWNrIHJvbGUgYW5kIHBlcm1pc3Npb25zXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiB0b2tlblVzZXJJZCB9LFxuICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgbmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICByb2xlSWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgcm9sZU5hbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvcElkOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYWRtaW4gb3IgaGFzIGFkbWluIHBlcm1pc3Npb25zXG4gICAgICAgIGNvbnN0IGlzQWRtaW4gPSB1c2VyLnJvbGVOYW1lID09PSAnQWRtaW4nIHx8IHVzZXIucm9sZU5hbWUgPT09ICdTdXBlciBBZG1pbicgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHBlcm1pc3Npb25TZXJ2aWNlLmhhc1Blcm1pc3Npb24odXNlciwgJ2FkbWluOmFsbCcpIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBwZXJtaXNzaW9uU2VydmljZS5oYXNQZXJtaXNzaW9uKHVzZXIsICdBTEwnKTtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgdXNlciBmaWx0ZXJpbmdcbiAgICAgICAgbGV0IGZpbHRlclVzZXJJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgIGlmICghaXNBZG1pbikge1xuICAgICAgICAgICAgZmlsdGVyVXNlcklkID0gdG9rZW5Vc2VySWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzaG9wSWQgPSBjb250ZXh0LmlzRmlsdGVyZWQgPyBjb250ZXh0LnNob3BJZCA6IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyBEZXRlcm1pbmUgZGF0ZSByYW5nZVxuICAgICAgICBjb25zdCBlbmREYXRlID0gZW5kRGF0ZVBhcmFtID8gbmV3IERhdGUoZW5kRGF0ZVBhcmFtKSA6IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZVBhcmFtID8gbmV3IERhdGUoc3RhcnREYXRlUGFyYW0pIDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTtcblxuICAgICAgICAvLyBDcmVhdGUgY2FjaGUga2V5IHRoYXQgaW5jbHVkZXMgc2hvcCBjb250ZXh0IGFuZCB1c2VyIGNvbnRleHQgYW5kIGRhdGUgcmFuZ2VcbiAgICAgICAgY29uc3QgdXNlckNvbnRleHQgPSBpc0FkbWluID8gJ2FkbWluJyA6IGZpbHRlclVzZXJJZDtcbiAgICAgICAgY29uc3QgZGF0ZVJhbmdlS2V5ID0gYCR7c3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX0tJHtlbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXX1gO1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IGBkYXNoYm9hcmQ6c2FsZXM6JHtzaG9wSWQgfHwgJ2FsbCd9OnVzZXI6JHt1c2VyQ29udGV4dH06JHtkYXRlUmFuZ2VLZXl9YDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNhY2hlZERhdGEgPSBhd2FpdCBjYWNoZVNlcnZpY2UuZ2V0KGNhY2hlS2V5KTtcblxuICAgICAgICBpZiAoY2FjaGVkRGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTYWxlcyBkYXRhIHNlcnZlZCBmcm9tIGNhY2hlJyk7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgICAgIC4uLmNhY2hlZERhdGEsXG4gICAgICAgICAgICAgICAgbWV0YToge1xuICAgICAgICAgICAgICAgICAgICBzaG9wRmlsdGVyZWQ6IGNvbnRleHQuaXNGaWx0ZXJlZCxcbiAgICAgICAgICAgICAgICAgICAgc2hvcElkOiBjb250ZXh0LnNob3BJZCxcbiAgICAgICAgICAgICAgICAgICAgZnJvbUNhY2hlOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBGZXRjaGluZyBmcmVzaCBzYWxlcyBkYXRhJyk7XG4gICAgICAgIGNvbnN0IHNhbGVzUmVzdWx0ID0gYXdhaXQgZmV0Y2hTYWxlc0RhdGEoXG4gICAgICAgICAgICBzaG9wSWQsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdGFydERhdGUsXG4gICAgICAgICAgICBlbmREYXRlLFxuICAgICAgICAgICAgZmlsdGVyVXNlcklkXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gQ2FjaGUgZm9yIDUgbWludXRlcyAoc2FsZXMgZGF0YSBjaGFuZ2VzIGxlc3MgZnJlcXVlbnRseSlcbiAgICAgICAgYXdhaXQgY2FjaGVTZXJ2aWNlLnNldChjYWNoZUtleSwgc2FsZXNSZXN1bHQsIDMwMCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFNhbGVzIGRhdGEgY2FjaGVkIGZvciA1IG1pbnV0ZXMnKTtcblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgLi4uc2FsZXNSZXN1bHQsXG4gICAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICAgICAgc2hvcEZpbHRlcmVkOiBjb250ZXh0LmlzRmlsdGVyZWQsXG4gICAgICAgICAgICAgICAgc2hvcElkOiBjb250ZXh0LnNob3BJZCxcbiAgICAgICAgICAgICAgICBmcm9tQ2FjaGU6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgc2FsZXMgZGF0YTonLCBlcnJvcik7XG5cbiAgICAgICAgLy8gUmV0dXJuIGVtcHR5IGFycmF5IG9uIGVycm9yXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICAgICAgc2hvcEZpbHRlcmVkOiBjb250ZXh0LmlzRmlsdGVyZWQsXG4gICAgICAgICAgICAgICAgc2hvcElkOiBjb250ZXh0LnNob3BJZCxcbiAgICAgICAgICAgICAgICBlcnJvcjogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KTsiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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