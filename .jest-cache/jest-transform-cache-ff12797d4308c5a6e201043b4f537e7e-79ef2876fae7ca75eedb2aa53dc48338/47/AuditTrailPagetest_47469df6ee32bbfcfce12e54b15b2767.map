{"version":3,"sources":["/Users/sachin/Documents/md-sports-/src/__tests__/components/AuditTrailPage.test.tsx"],"sourcesContent":["import { describe, it, expect, beforeEach, afterEach, vi, Mock } from 'vitest';\nimport { render, screen, fireEvent, waitFor, within } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport AuditTrailPage from '@/app/(protected)/audit-trail/page';\nimport { useAuth } from '@/hooks/useAuth';\nimport { useToast } from '@/components/ui/use-toast';\n\n// Mock dependencies\nvi.mock('@/hooks/useAuth');\nvi.mock('@/components/ui/use-toast');\n\n// Mock fetch\nglobal.fetch = vi.fn();\n\nconst mockUseAuth = useAuth as Mock;\nconst mockUseToast = useToast as Mock;\nconst mockToast = vi.fn();\nconst mockFetch = global.fetch as Mock;\n\n// Mock data\nconst mockRecycleBinData = {\n  items: [\n    {\n      id: 1,\n      entity: 'product',\n      entityId: 123,\n      originalData: { name: 'Test Product', price: 100 },\n      deletedAt: '2024-01-15T10:00:00Z',\n      deletedBy: 'user1',\n      deletedByUser: { id: 'user1', name: 'John Doe', email: 'john@example.com' },\n      canRecover: true,\n    },\n    {\n      id: 2,\n      entity: 'customer',\n      entityId: 456,\n      originalData: { name: 'Test Customer', email: 'test@example.com' },\n      deletedAt: '2024-01-16T11:00:00Z',\n      deletedBy: 'user2',\n      deletedByUser: { id: 'user2', name: 'Jane Smith', email: 'jane@example.com' },\n      canRecover: true,\n    },\n  ],\n  total: 2,\n};\n\nconst mockAuditHistoryData = {\n  items: [\n    {\n      id: 1,\n      entity: 'product',\n      entityId: 123,\n      action: 'CREATE',\n      userId: 'user1',\n      createdAt: '2024-01-15T10:00:00Z',\n      details: { name: 'Test Product' },\n      user: { id: 1, name: 'John Doe', email: 'john@example.com' },\n    },\n    {\n      id: 2,\n      entity: 'customer',\n      entityId: 456,\n      action: 'UPDATE',\n      userId: 'user2',\n      createdAt: '2024-01-16T11:00:00Z',\n      details: { name: 'Updated Customer' },\n      user: { id: 2, name: 'Jane Smith', email: 'jane@example.com' },\n    },\n  ],\n  total: 2,\n};\n\ndescribe('AuditTrailPage', () => {\n  beforeEach(() => {\n    vi.clearAllMocks();\n    \n    mockUseAuth.mockReturnValue({\n      isAuthenticated: true,\n      accessToken: 'valid-token',\n    });\n    \n    mockUseToast.mockReturnValue({\n      toast: mockToast,\n    });\n    \n    mockFetch.mockResolvedValue({\n      ok: true,\n      json: () => Promise.resolve(mockRecycleBinData),\n    });\n  });\n\n  afterEach(() => {\n    vi.resetAllMocks();\n  });\n\n  describe('Initial Rendering', () => {\n    it('should render the audit trail page with tabs', async () => {\n      render(<AuditTrailPage />);\n      \n      expect(screen.getByText('Audit Trail')).toBeInTheDocument();\n      expect(screen.getByRole('tab', { name: /recycle bin/i })).toBeInTheDocument();\n      expect(screen.getByRole('tab', { name: /audit history/i })).toBeInTheDocument();\n    });\n\n    it('should render filter controls', async () => {\n      render(<AuditTrailPage />);\n      \n      expect(screen.getByPlaceholderText(/search/i)).toBeInTheDocument();\n      expect(screen.getByText('Entity Type')).toBeInTheDocument();\n      expect(screen.getByText('From Date')).toBeInTheDocument();\n      expect(screen.getByText('To Date')).toBeInTheDocument();\n    });\n  });\n\n  describe('Entity Filter', () => {\n    it('should filter by entity type', async () => {\n      const user = userEvent.setup();\n      render(<AuditTrailPage />);\n      \n      // Wait for initial load\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledWith(\n          expect.stringContaining('/api/audit-trail?type=deleted'),\n          expect.any(Object)\n        );\n      });\n      \n      // Clear previous calls\n      mockFetch.mockClear();\n      \n      // Click on entity filter dropdown\n      const entitySelect = screen.getByRole('combobox');\n      await user.click(entitySelect);\n      \n      // Select 'product' option\n      const productOption = screen.getByRole('option', { name: /product/i });\n      await user.click(productOption);\n      \n      // Verify API call with entity filter\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledWith(\n          expect.stringContaining('entity=product'),\n          expect.any(Object)\n        );\n      });\n    });\n\n    it('should reset entity filter to all', async () => {\n      const user = userEvent.setup();\n      render(<AuditTrailPage />);\n      \n      // Wait for initial load\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalled();\n      });\n      \n      // Set entity filter to product first\n      const entitySelect = screen.getByRole('combobox');\n      await user.click(entitySelect);\n      const productOption = screen.getByRole('option', { name: /product/i });\n      await user.click(productOption);\n      \n      mockFetch.mockClear();\n      \n      // Reset to 'all'\n      await user.click(entitySelect);\n      const allOption = screen.getByRole('option', { name: /all/i });\n      await user.click(allOption);\n      \n      // Verify API call without entity filter\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledWith(\n          expect.not.stringContaining('entity='),\n          expect.any(Object)\n        );\n      });\n    });\n  });\n\n  describe('Date Filter', () => {\n    it('should filter by date range', async () => {\n      const user = userEvent.setup();\n      render(<AuditTrailPage />);\n      \n      // Wait for initial load\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalled();\n      });\n      \n      mockFetch.mockClear();\n      \n      // Click on \"From Date\" button\n      const fromDateButton = screen.getByRole('button', { name: /from date/i });\n      await user.click(fromDateButton);\n      \n      // Select a date (this is simplified - in real tests you'd interact with the calendar)\n      // For now, we'll simulate the date selection by triggering the effect\n      \n      // Click on \"To Date\" button\n      const toDateButton = screen.getByRole('button', { name: /to date/i });\n      await user.click(toDateButton);\n      \n      // The actual date selection would trigger a re-fetch\n      // We can test this by checking if the clear button appears\n      expect(screen.getByRole('button', { name: /clear/i })).toBeInTheDocument();\n    });\n\n    it('should clear date filters', async () => {\n      const user = userEvent.setup();\n      render(<AuditTrailPage />);\n      \n      // Wait for initial load\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalled();\n      });\n      \n      // Simulate having date filters set (this would normally be done through date selection)\n      // For testing purposes, we'll just check if the clear button works\n      const clearButton = screen.getByRole('button', { name: /clear/i });\n      \n      mockFetch.mockClear();\n      await user.click(clearButton);\n      \n      // Should trigger a new fetch without date parameters\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledWith(\n          expect.not.stringContaining('dateFrom='),\n          expect.any(Object)\n        );\n      });\n    });\n  });\n\n  describe('Tab Switching', () => {\n    it('should switch between recycle bin and audit history tabs', async () => {\n      const user = userEvent.setup();\n      \n      // Mock different responses for different tabs\n      mockFetch\n        .mockResolvedValueOnce({\n          ok: true,\n          json: () => Promise.resolve(mockRecycleBinData),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: () => Promise.resolve(mockAuditHistoryData),\n        });\n      \n      render(<AuditTrailPage />);\n      \n      // Initially should load recycle bin\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledWith(\n          expect.stringContaining('type=deleted'),\n          expect.any(Object)\n        );\n      });\n      \n      mockFetch.mockClear();\n      \n      // Switch to audit history tab\n      const auditHistoryTab = screen.getByRole('tab', { name: /audit history/i });\n      await user.click(auditHistoryTab);\n      \n      // Should load audit history\n      await waitFor(() => {\n        expect(mockFetch).toHaveBeenCalledWith(\n          expect.stringContaining('type=all'),\n          expect.any(Object)\n        );\n      });\n    });\n  });\n\n  describe('Data Display', () => {\n    it('should display recycle bin items', async () => {\n      render(<AuditTrailPage />);\n      \n      await waitFor(() => {\n        expect(screen.getByText('Test Product')).toBeInTheDocument();\n        expect(screen.getByText('Test Customer')).toBeInTheDocument();\n        expect(screen.getByText('John Doe')).toBeInTheDocument();\n        expect(screen.getByText('Jane Smith')).toBeInTheDocument();\n      });\n    });\n\n    it('should display audit history items when tab is switched', async () => {\n      const user = userEvent.setup();\n      \n      mockFetch\n        .mockResolvedValueOnce({\n          ok: true,\n          json: () => Promise.resolve(mockRecycleBinData),\n        })\n        .mockResolvedValueOnce({\n          ok: true,\n          json: () => Promise.resolve(mockAuditHistoryData),\n        });\n      \n      render(<AuditTrailPage />);\n      \n      // Switch to audit history tab\n      const auditHistoryTab = screen.getByRole('tab', { name: /audit history/i });\n      await user.click(auditHistoryTab);\n      \n      await waitFor(() => {\n        expect(screen.getByText('CREATE')).toBeInTheDocument();\n        expect(screen.getByText('UPDATE')).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should show error toast when API call fails', async () => {\n      mockFetch.mockResolvedValueOnce({\n        ok: false,\n        status: 500,\n      });\n      \n      render(<AuditTrailPage />);\n      \n      await waitFor(() => {\n        expect(mockToast).toHaveBeenCalledWith({\n          title: 'Error',\n          description: 'Failed to fetch recycle bin items',\n          variant: 'destructive',\n        });\n      });\n    });\n\n    it('should show authentication error when not authenticated', async () => {\n      mockUseAuth.mockReturnValue({\n        isAuthenticated: false,\n        accessToken: null,\n      });\n      \n      render(<AuditTrailPage />);\n      \n      await waitFor(() => {\n        expect(mockToast).toHaveBeenCalledWith({\n          title: 'Authentication Error',\n          description: 'You must be logged in to view the audit trail',\n          variant: 'destructive',\n        });\n      });\n    });\n  });\n\n  describe('Loading States', () => {\n    it('should show loading state while fetching data', async () => {\n      // Mock a delayed response\n      mockFetch.mockImplementation(\n        () => new Promise(resolve => \n          setTimeout(() => resolve({\n            ok: true,\n            json: () => Promise.resolve(mockRecycleBinData),\n          }), 100)\n        )\n      );\n      \n      render(<AuditTrailPage />);\n      \n      // Should show loading state initially\n      expect(screen.getByText(/loading/i)).toBeInTheDocument();\n      \n      // Wait for data to load\n      await waitFor(() => {\n        expect(screen.queryByText(/loading/i)).not.toBeInTheDocument();\n      }, { timeout: 200 });\n    });\n  });\n});"],"names":["vi","mock","global","fetch","fn","mockUseAuth","useAuth","mockUseToast","useToast","mockToast","mockFetch","mockRecycleBinData","items","id","entity","entityId","originalData","name","price","deletedAt","deletedBy","deletedByUser","email","canRecover","total","mockAuditHistoryData","action","userId","createdAt","details","user","describe","beforeEach","clearAllMocks","mockReturnValue","isAuthenticated","accessToken","toast","mockResolvedValue","ok","json","Promise","resolve","afterEach","resetAllMocks","it","render","AuditTrailPage","expect","screen","getByText","toBeInTheDocument","getByRole","getByPlaceholderText","userEvent","setup","waitFor","toHaveBeenCalledWith","stringContaining","any","Object","mockClear","entitySelect","click","productOption","toHaveBeenCalled","allOption","not","fromDateButton","toDateButton","clearButton","mockResolvedValueOnce","auditHistoryTab","status","title","description","variant","mockImplementation","setTimeout","queryByText","timeout"],"mappings":"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"}